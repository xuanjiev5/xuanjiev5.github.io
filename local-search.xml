<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åæ€</title>
    <link href="/posts/3281828247.html"/>
    <url>/posts/3281828247.html</url>
    
    <content type="html"><![CDATA[<p><strong>æ·±åˆ»çš„åæ€ï¼Œä¸ç®¡ç»“æœå¦‚ä½•</strong></p><hr><h2 id="ç°åœ¨æ˜¯-2023-7-26-æ—©ä¸Šçš„6ç‚¹51åˆ†"><a href="#ç°åœ¨æ˜¯-2023-7-26-æ—©ä¸Šçš„6ç‚¹51åˆ†" class="headerlink" title="ç°åœ¨æ˜¯: 2023/7/26 æ—©ä¸Šçš„6ç‚¹51åˆ†"></a>ç°åœ¨æ˜¯: 2023/7/26 æ—©ä¸Šçš„6ç‚¹51åˆ†</h2><blockquote><p>åˆ°äº†ä»Šå¤©æ—©ä¸Šæˆ‘æ‰ç¼“è¿‡æ¥ç¥ï¼Œé‚å¼€å§‹å†™è¿™ç¯‡æ–‡ç« </p><p>åŸè°…æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸Šéƒ½ä»¥è€å©†ç§°å‘¼</p><p>æ˜¨å¤©ä¸€å¿ƒæƒ³ç•™ä½è€å©†ï¼Œåè€Œå¾ˆå¤šè¯éƒ½è¯ä¸è¾¾æ„ï¼Œå¯¼è‡´æ•´ä¸ªäººè¡¨è¾¾ä¸æ˜ç™½äº‹æƒ…ï¼Œä¹Ÿæ— æ³•çœŸæ­£çš„æ€è€ƒé—®é¢˜ã€‚</p><p>ç°åœ¨ç›¸æ¯”äºæ˜¨å¤©å†·é™äº†ä¸€ç‚¹äº†ï¼Œå°†äº‹æƒ…çš„ç»è¿‡äº¤ä»£æ¸…æ¥š</p></blockquote><hr><p>æ—¶é—´ç‚¹æ–¹é¢å°†è¯•ç€æ‰¾å¯»ä¸€äº›è¯æ®æ”¾ä¸Šæ¥ï¼Œæˆ‘ä¸çŸ¥é“è¿™ä¸ªåšæ³•è¿˜æœ‰æ²¡æœ‰ç”¨</p><blockquote><p>7æœˆ19æ—¥ï¼Œæˆ‘ç¿»äº†ç¿»çŸ­ä¿¡æ‰¾å¿«é€’ç ï¼Œå‘ç°äº†è½¯ä»¶ç»™æˆ‘å‘äº†æé†’çŸ­ä¿¡ï¼Œæˆ‘å°†è½¯ä»¶ä¸‹äº†å›æ¥ï¼Œèµ·åˆæ˜¯æƒ³çœ‹çœ‹æœ€åˆæ˜¯å’Œè€å©†æ€ä¹ˆè®¤è¯†çš„ï¼Œä¹‹åæƒ³å‡†å¤‡ä¸ªæƒŠå–œï¼Œç„¶åçœ‹è§äº†æœ‰äººç»™æˆ‘å‘äº†ä¸ªè‡ªå·±æ‹çš„ç…§ç‰‡é—®æˆ‘æ˜¯ä¸æ˜¯æ‘„å½±å¸ˆæœ‰æ²¡æœ‰å•¥ä¿®å›¾æ€è·¯ï¼Œæˆ‘æœ¬ä¸è¯¥å›ï¼Œä½†æ˜¯æˆ‘å½“æ—¶è„‘å­åæ‰äº†å°±æœ‰ç»™å¥¹è®²è¿™å¼ ç…§ç‰‡æˆ‘çš„ä¸€ä¸ªä¿®å›¾æ€è·¯ï¼Œç„¶åæˆ‘è¿˜çœ‹è§æœ‰äººé—®å…³äºéŸ³ä¹çš„äº‹æƒ…ï¼Œå°±ä¹Ÿæ²¡æœ‰æ­¢ä½å…´è¶£å¼€å§‹äº†èŠå¤©ã€‚å°±ä¹Ÿæ²¡æœ‰å°†è½¯ä»¶åŠæ—¶å¸è½½ã€‚</p></blockquote><blockquote><p>7æœˆ22æ—¥ï¼Œè¿™å¤©ä¸‹åˆæœ‰ä¸ªäººè¯´è¦è€ƒç ”ï¼Œç„¶åèŠå•¥æ—¶å€™å¼€å§‹å¤ä¹ æ”¿æ²»å•Šå•¥çš„ï¼Œè‹±è¯­å­¦åˆ°äº†ä»€ä¹ˆä½ç½®ç­‰ç­‰ä¹‹ç±»çš„</p><p>ç„¶åå¼€å§‹èŠäº†ä¸€ç‚¹ã€‚åæ¥åŠ äº†å¾®ä¿¡ï¼Œè¿™ä¹Ÿæ˜¯å”¯ä¸€ä¸€ä½åŠ äº†å¾®ä¿¡çš„äººâ€”-è¿™ç‚¹ä¸‹é¢ä¼šè´´å‡ºè¯æ®ï¼Œå› ä¸ºå¯ä»¥äº’ç›¸äº¤æµè€ƒç ”è¿›åº¦å•Šå•¥çš„ï¼Œæˆ‘å½“æ—¶ä¸çŸ¥é“æ€ä¹ˆï¼Œæ²¡è§‰å¾—è¿™ä»¶äº‹æƒ…æœ‰ä¸å¦¥çš„åœ°æ–¹ï¼Œ</p><p>PS:é‚£ä¸ª<strong>èºå°¾</strong>æ˜¯æˆ‘ä»¬ä¹‹å‰å»è¥¿å®‰é‚€è¯·èµ›æ—¶è·Ÿç€æˆ‘ä»¬å»çš„å¥³è€å¸ˆ</p></blockquote><p><img src="https://s2.loli.net/2023/07/26/XWUbGI7R2zoCE3P.jpg" alt="Screenshot_20230726_064944_com.tencent.mm.jpg"></p><p>ç„¶åè´´å‡ºæˆ‘å’Œè¿™ä¸ªäººçš„èŠå¤©è®°å½•ï¼Œå¥½å‹åœ¨å‰å¤©æ™šä¸Šå’Œå¥¹è§£é‡Šåå·²ç»åˆ æ‰äº†ã€‚</p><p><img src="https://s2.loli.net/2023/07/26/fmnkFiOCD15dyP9.png" alt="image-20230726113907285.png"></p><p>è¿™æ˜¯åœ¨ç”µè„‘å¤‡ä»½ä¸­æ‹¿åˆ°çš„è®°å½•ï¼Œæ‰‹æœºä¸Šåªè¯´äº†é‚£ä¸ªè§£é‡Šç„¶ååˆ æ‰äº†ï¼Œä½†æ˜¯æ‰‹æœºä¸Šçš„è®°å½•å·²ç»æ‰¾ä¸å›æ¥äº†ã€‚</p><p>å…¶ä»–è®¤è¯†è€å©†å‰è®¤è¯†çš„ï¼Œå’Œè€å©†åœ¨ä¸€èµ·åæˆ‘ç›´æ¥å°±åœ¨æœ‹å‹åœˆå®˜å®£äº†ï¼Œæ‰€ä»¥æ ¹æœ¬ä¹Ÿæ²¡èŠè¿‡å¤©ï¼Œä½†æ˜¯åœ¨å‰å¤©æ™šä¸Šæˆ‘æ— ä¸€ä¾‹å¤–çš„ä¹Ÿå…¨åˆ æ‰äº†</p><blockquote><p>7æœˆ24å·æ™šä¸Šï¼Œä¹Ÿå°±æ˜¯è¢«è€å©†å‘ç°çš„é‚£å¤©</p></blockquote><p>åœ¨è¿™ä¸­é—´æˆ‘æŠŠè¿™ä¸ªè½¯ä»¶å½“ä½œæ˜¯èŠå…´è¶£çˆ±å¥½çš„å·¥å…·ä»æ¥åœ¨æˆ‘å¿ƒé‡Œå®ƒå’Œqqå¾®ä¿¡ä¸€æ ·ï¼Œå°±æ˜¯ä¼ é€’ä¿¡æ¯çš„å·¥å…·ï¼Œä»æ¥æ²¡æƒ³è¿‡å…¶å®ƒçš„ï¼Œæ‰€ä»¥åœ¨è¿™æœŸé—´å¿ƒé‡Œæ²¡æœ‰æƒ³è¿‡ä¼šæœ‰è¿™æ ·çš„åæœ</p><p>ç°åœ¨æˆ‘ç¼“è¿‡ç¥ï¼Œæˆ‘çŸ¥é“æˆ‘å¤§é”™ç‰¹é”™äº†ï¼ŒèŠå¤©è¿™ä»¶äº‹æƒ…ä¸ç®¡èŠä»€ä¹ˆè‚¯å®šæ˜¯ä¸å¯¹çš„ï¼Œå¯¹è€å©†ä¼¤å®³å¾ˆå¤§ï¼Œæˆ‘ä¹Ÿæ˜¯é‚£å¤©æ™šä¸Šè¿…é€Ÿçš„ç¼“è¿‡ç¥æ¥ï¼Œå°†å·é”€äº†ã€‚</p><p>æˆ‘å¯ä»¥æ‹¿æˆ‘çš„æ€§å‘½æ‹…ä¿ï¼ŒèŠå¤©åªå±€é™äºè€ƒç ”ï¼ŒéŸ³ä¹å’Œæ‘„å½±ï¼Œæ²¡æœ‰èŠè¿‡åŠç‚¹å…¶å®ƒçš„ï¼Œå½“æ—¶åªæ˜¯è§‰å¾—æ‹¿ç€è‡ªå·±å…´è¶£çˆ±å¥½çš„ä¸“ä¸šçŸ¥è¯†å’Œåˆ«äººåˆ†äº«è§£å†³é—®é¢˜å¾ˆæœ‰æ„æ€ï¼Œå°±æ²¡åŠæ³•è‡ªæ‹”äº†ã€‚</p><hr><p>å¦‚ä½•æŒ½å›ä¸€ä½ä½ æ— æ„é—´ä¼¤å®³çš„äººï¼Œæˆ‘çŸ¥é“è¿™æ˜¯ç°åœ¨å‡ºç»™æˆ‘çš„é—®é¢˜äº†</p><p>æˆ‘è¯¢é—®äº†äººå·¥æ™ºèƒ½</p><p><img src="https://s2.loli.net/2023/07/26/VPARpMbUNgtdfCw.png" alt="image-20230726073846682.png"></p><p>ä¸Šé¢çš„ç‚¹å‡ ä¹æˆ‘éƒ½æ²¡æœ‰åšåˆ°</p><p>å½“æˆ‘çœ‹åˆ°æœ€åä¸€ç•ªè¯çš„æ—¶å€™ï¼Œæˆ‘å¿ƒé‡Œå’¯å™”ä¸€ä¸‹</p><blockquote><p><strong>â€œæœ‰äº›å…³ç³»å¯èƒ½æ— æ³•å®Œå…¨æ¢å¤ï¼Œæ¥å—è¿™ä¸ªäº‹å®ä¹Ÿæ˜¯å¿…è¦çš„â€</strong></p><p><strong>æ˜¯çš„ï¼Œä¸€åˆ‡å› æˆ‘è€Œèµ·ï¼Œæˆ‘å¿…é¡»æ¥å—</strong></p></blockquote><hr><p>ä¸‹é¢æ˜¯æˆ‘è¯¢é—®äº†æˆ‘è®¤è¯†çš„å¾ˆå¤šäººçš„æ„è§ï¼š</p><p><img src="https://s2.loli.net/2023/07/26/kcdrpEQ1bfnyZJa.png" alt="image-20230726143310446.png"></p><p><img src="https://s2.loli.net/2023/07/26/JOKdNuMpvADZFYf.png" alt="image-20230726080544495.png"></p><p><img src="https://s2.loli.net/2023/07/26/6WaXJsxPDhSreTH.png" alt="image-20230726085538362.png"></p><p><img src="https://s2.loli.net/2023/07/26/DriheG5Sf64mVCR.png" alt="image-20230726130036741.png"></p><p><img src="https://s2.loli.net/2023/07/26/d86vuMczXarisBE.png" alt="image-20230726085817964.png"></p><p><img src="https://s2.loli.net/2023/07/26/lT7P94yMkIDejXn.png" alt="image-20230726115029808.png"></p><p><img src="https://s2.loli.net/2023/07/26/3htEJnu2fDLTvWm.png" alt="image-20230726135204822.png"></p><hr><p>æˆ‘ä¸è¯¥ç’ç€è€å©†åšè¿™ä»¶äº‹æƒ…ï¼Œåœ¨è½¯ä»¶åˆ’äººèŠå¤©æ¶ˆé£ï¼Œæˆ‘ä¹Ÿèƒ½æ·±åˆ»çš„è®¤è¯†åˆ°è¿™ä»¶äº‹æƒ…æœ‰å¤šä¸¥é‡ï¼Œè§¦çŠ¯äº†è€å©†çš„åº•çº¿</p><p>æˆ‘å¾ˆçœŸè¯šçš„å‘è€å©†é“æ­‰ï¼Œè®©è€å©†å—åˆ°äº†ä¼¤å®³</p><p>æˆ‘çŸ¥é“æŒ½å›è¿™ä»¶äº‹æƒ…å¹¶ä¸å®¹æ˜“</p><p>æˆ‘æƒ³å†æ‹¼å°½å…¨åŠ›å†æŒ½å›ä¸€æ¬¡ï¼Œå¦‚æœçœŸçš„æ²¡æœ‰å¯èƒ½äº†ï¼ŒçŠ¯äº†é”™å°±åº”è¯¥è¢«æƒ©ç½šï¼Œæˆ‘ä¹Ÿä¸ä¼šæ¥å†æ‰“æ‰°è€å©†äº†</p><p>æˆ‘ä¸æƒ³ç•™ä¸‹é—æ†¾ï¼Œä¸æƒ³å°±è¿™ä¹ˆå’Œè€å©†ç»“æŸã€‚</p><p>ä»å§‹è‡³ç»ˆæˆ‘çš„å¿ƒå°±æ²¡å˜è¿‡ï¼Œä»»ä½•æ—¶å€™éƒ½å¦‚æ­¤</p><p>æˆ‘çŸ¥é“è€å©†æ˜¯è§‰å¾—æˆ‘å’Œè€å©†è°ˆç€è¿˜å’Œåˆ«äººèŠç€ï¼Œè¿™ä»¶äº‹ä¿è¯ä¸æ˜¯ï¼Œå¯¹è€å©†æ˜¯çœŸçš„ä¸€å¿ƒä¸€æ„çš„ï¼Œæˆ‘å¯ä»¥å¯¹å¤©å‘èª“ï¼Œè¿™ä»¶äº‹æƒ…ç»å¯¹ä¸æ˜¯</p><hr><h2 id="upd"><a href="#upd" class="headerlink" title="upd:"></a>upd:</h2><p>æœæš®ä¸å¹´å²å¹¶å¾€ï¼Œå’Œä½ ä¸€èµ·å…±è‡³å…‰å¹´</p><p>è¿™æ˜¯æˆ‘å¾ˆå–œæ¬¢çš„ä¸€å¥è¯</p><p>æƒ³åœ¨çœ‹æ—¥å‡ºçš„æ—¶å€™å¯¹è€å©†å–Šå‡ºæ¥çš„ï¼Œæˆ‘ä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰æœºä¼šäº†</p><hr><p>æˆ‘å¯¹è€å©†è¯´è¿‡æ‰€æœ‰çš„è¯éƒ½æ˜¯çœŸå¿ƒçš„</p><p>æˆ‘æƒ³ç ”ç©¶ç”Ÿå¥½å¥½æ‰“æ‹¼ï¼Œå’Œè€å©†æ—©ç‚¹åœ¨ä¸€èµ·è¿‡æ—¥å­</p><p>æˆ‘æƒ³å’Œè€å©†ç»“å©šï¼Œå¸¦ç€æˆ‘ä»¬æ— æ•°ç¾å¥½çš„å›å¿†</p><p>æˆ‘æƒ³å’Œè€å©†åšå¾ˆå¤šä¸œè¥¿ï¼Œæ‰“å¡å¾ˆå¤šåœ°æ–¹</p><p>æˆ‘çš„ä¸–ç•Œé‡ŒçœŸçš„åªæœ‰è€å©†ï¼ŒçœŸçš„è¯·è€å©†ç›¸ä¿¡æˆ‘</p><hr><h2 id="upd-1"><a href="#upd-1" class="headerlink" title="upd:"></a>upd:</h2><p>æˆ‘åæ€äº†å¾ˆä¹…å¾ˆä¹…</p><p>ä»å‰é‚£ä¸ªå’Œåˆ«äººèŠå¤©çš„é‡‘é“‰æ°å·²ç»æ­»äº†ï¼Œæ­»é€äº†ã€‚</p><p>ä»–è¯´è¿‡è¦ä¿æŠ¤å¥½è€å©†ï¼Œä»–å´è‡ªå·±ä¼¤å®³äº†è€å©†</p><p>ä»–çœŸçš„æœ‰å½»å¤´å½»å°¾çš„åçœï¼Œä½†ä»–å·²ç»æ­»é€äº†ï¼Œä»–ä¸å¯åŸè°…ï¼Œä»–ä¹Ÿä¸å¯èƒ½è¢«åŒæƒ…ï¼Œä»–å°±æ˜¯å‚»å­</p><p>ä½†ä»–æœ€å¤§çš„æ„¿æœ›å°±æ˜¯å¯ä»¥æ°¸è¿œä¿æŠ¤è€å©†ï¼Œä¸è®©è€å©†å—ä¸€ç‚¹å§”å±ˆï¼Œä¸è€å©†å…±è‡³å…‰å¹´</p><p>ä»–å¸Œæœ›æˆ‘å¯ä»¥å®Œæˆä»–çš„æ„¿æœ›ï¼Œæ°¸è¿œä¿æŠ¤è€å©†ã€‚</p><p>æˆ‘æ˜¯åçœè¿‡åçš„ä»–ï¼Œæˆ‘ä»¬é‡æ–°è®¤è¯†å¥½å˜›ï¼ï¼</p><p>å®‹è€å¸ˆå¥½~å¾ˆé«˜å…´è®¤è¯†ä½ ï¼</p><p>æˆ‘æ˜¯æ¥è‡ªæ²ˆé˜³ç†å·¥å¤§å­¦2020çº§ï¼Œè®¡ç®—æœº3ç­ é‡‘é“‰æ°</p><p>æˆ‘æ˜¯ä¸€åä¸“ä¸šçš„ç®—æ³•ç«èµ›é€‰æ‰‹</p><p>æ˜¯ä¸€åä¸šä½™çš„æ‘„å½±çˆ±å¥½è€…ï¼Œé‡åˆ°å®‹è€å¸ˆåï¼Œå°†æ˜¯é›·æ‰“ä¸åŠ¨çš„å®‹è€å¸ˆçš„ä¸“èŒæ‘„å½±</p><p>æ˜¯ä¸€åéŸ³ä¹çˆ±å¥½è€…ï¼Œé‡åˆ°å®‹è€å¸ˆåï¼Œæˆ‘çš„æ—‹å¾‹å°†ä¸å®‹è€å¸ˆæ°¸è¿œåŒé¢‘</p><p>ä¹Ÿæ˜¯ä¸€åæ—…æ¸¸çˆ±å¥½è€…ï¼Œé‡åˆ°å®‹è€å¸ˆåï¼Œè¦å¸¦ç€å®‹è€å¸ˆä¸€èµ·å‘¨æ¸¸ä¸–ç•Œ</p><p>åˆšè€ƒä¸‹é©¾ç…§ï¼Œé‡åˆ°å®‹è€å¸ˆåï¼Œå°†æˆä¸ºå®‹è€å¸ˆçš„ä¸“èŒå¸æœº</p><p>å…³äºæˆ‘çš„æ¯ä¸€å¤„éƒ½å°†æ˜¯å®‹è€å¸ˆ</p><p>æ˜¯æ°¸è¿œä¸ä¼šå’Œåˆ«äººèŠå¤©ï¼Œå¿ƒé‡Œåªæœ‰å®‹è€å¸ˆçš„å°é‡‘</p><p>æ˜¯åªä¸ºäº†å°é‡‘å’Œå®‹è€å¸ˆæœªæ¥å¥‹æ–—çš„å°é‡‘ï¼Œåˆ«æ— äºŒå¿ƒçš„å°é‡‘</p><p>æ›¾ç»çš„å°é‡‘ä»–æ­»äº†ï¼Œæ­»é€äº†ï¼Œä»–ä¼¤å®³å®‹è€å¸ˆï¼Œä»–ç½ªå¤§æ¶æ</p><blockquote><p>æœ‰ä¸€å¤©ï¼Œå°ç†Šç§äº†ä¸€æ£µè‰è“ï¼Œä¸€é¢—èŠ’æœï¼ŒèŠ’æœé•¿å¾—å¾ˆå¿«ï¼Œè‰è“é•¿çš„å¾ˆæ…¢</p><p>å°ç†Šè¯´ï¼šè‰è“ä½ ä¸è¡Œå‘€ï¼Œè“ä½ ä¸è¡Œå‘€ï¼Œæ²¡ä½ ä¸è¡Œå‘€~</p></blockquote><p>å®‹è€å¸ˆï¼Œä¹‹å‰çš„æˆ‘åšè¿‡é”™çš„äº‹</p><p>æˆ‘æƒ³é‡æ–°è¿½ä½ ï¼ŒçœŸè¯šçš„äººä¸ä¼šèµ°æ•£ï¼Œæˆ‘ä»¬é‡æ–°åœ¨ä¸€èµ·å§ï¼</p><hr><p>ä¹‹å‰æ•´ç†çš„ä¸€äº›ä¸œè¥¿</p><p><a href="https://jxj777.top/wife/">é“¾æ¥</a></p>]]></content>
    
    
    <categories>
      
      <category>å…³äºè€å©†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸€ç«™æ–°ç–†</title>
    <link href="/posts/983387125.html"/>
    <url>/posts/983387125.html</url>
    
    <content type="html"><![CDATA[<p><strong>è¿™ç¯‡åšå®¢å°†è®°å½•æˆ‘çš„æ—…æ¸¸ç¬¬ä¸€ç«™â€”æ–°ç–†</strong></p><span id="more"></span><h2 id="é¦–å…ˆäº¤ä»£ä¸€ä¸‹è·¯çº¿ğŸ˜Š"><a href="#é¦–å…ˆäº¤ä»£ä¸€ä¸‹è·¯çº¿ğŸ˜Š" class="headerlink" title="é¦–å…ˆäº¤ä»£ä¸€ä¸‹è·¯çº¿ğŸ˜Š"></a>é¦–å…ˆäº¤ä»£ä¸€ä¸‹è·¯çº¿ğŸ˜Š</h2><table><thead><tr><th align="center">æ—¥æœŸ</th><th align="center">åœ°ç‚¹</th><th align="center">å»çœ‹çš„åœ°æ–¹</th></tr></thead><tbody><tr><td align="center">7-26 -&gt; 7-29</td><td align="center">ä¹Œé²æœ¨é½å¸‚</td><td align="center">å¤©å±±å¤©æ± </td></tr><tr><td align="center">7-29 -&gt; 7-31</td><td align="center">åé²ç•ªå¸‚</td><td align="center">åå„¿äº•ï¼Œç«ç„°å±±ï¼Œåº“æœ¨å¡”æ ¼æ²™æ¼ </td></tr><tr><td align="center">7-31 -&gt; 8-1</td><td align="center">é˜¿å‹’æ³°åœ°åŒºå¯Œè•´å¿</td><td align="center">å¯å¯æ‰˜æµ·</td></tr><tr><td align="center">8-1-&gt;8-3</td><td align="center">å¸ƒå°”æ´¥å¿</td><td align="center">ç¦¾æœ¨</td></tr><tr><td align="center">8-3-&gt;8-4</td><td align="center">å…‹æ‹‰ç›ä¾å¸‚</td><td align="center">é­”é¬¼åŸ</td></tr><tr><td align="center">8-4-&gt;8-6</td><td align="center">åšä¹å¸‚</td><td align="center">èµ›é‡Œæœ¨æ¹–</td></tr><tr><td align="center">8-6-&gt;8-10</td><td align="center">æ²¡æœ‰å•¥å›ºå®šåœ°ç‚¹ï¼Œä¸»è¦æ˜¯è·‘æ¯’</td><td align="center">æœå­æ²Ÿå¤§æ¡¥</td></tr><tr><td align="center">8-11</td><td align="center">è¾½å®æ²ˆé˜³</td><td align="center">è·‘æ¯’æˆåŠŸï¼Œå®‰å…¨å›å®¶</td></tr></tbody></table><hr><h2 id="æœ¬æ¬¡è¡Œç¨‹çš„é—æ†¾-ğŸ˜Œ"><a href="#æœ¬æ¬¡è¡Œç¨‹çš„é—æ†¾-ğŸ˜Œ" class="headerlink" title="æœ¬æ¬¡è¡Œç¨‹çš„é—æ†¾~ğŸ˜Œ"></a>æœ¬æ¬¡è¡Œç¨‹çš„é—æ†¾~ğŸ˜Œ</h2><ul><li>å–€çº³æ–¯</li><li>å·´éŸ³å¸ƒé²å…‹</li><li>ä¼ŠçŠ</li><li>â€¦â€¦.è¿˜æœ‰å¾ˆå¤šåœ°æ–¹æ²¡æœ‰å»ï¼Œæ¯•ç«ŸåŒ—ç–†å¾ˆå¤§</li><li>ç•™æœ‰é—æ†¾ï¼Œä¸‹æ¬¡å†æ¥~</li></ul><hr><h2 id="è¶£äº‹"><a href="#è¶£äº‹" class="headerlink" title="è¶£äº‹"></a>è¶£äº‹</h2><hr><p>è¿™ä¸€é­èµ°çš„ä¸´æ—¶èµ·æ„ï¼Œçœ‹çš„éšå¿ƒæ‰€æ¬²ï¼Œæ‹çš„å·®å¼ºäººæ„æ‰€ä»¥å¯èƒ½åˆ°è¿™å°±æ–­æ›´äº†ã€‚</p><p>æœŸå¾…ä¹‹åçš„æ—…è¡Œåˆ†äº«å§ï¼</p>]]></content>
    
    
    <categories>
      
      <category>æˆ‘çš„æ—…æ¸¸è®°</category>
      
      <category>æ–°ç–†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
      <tag>æ–°ç–†</tag>
      
      <tag>æ—…æ¸¸</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ®µæ ‘è¿›é˜¶</title>
    <link href="/posts/3276823856.html"/>
    <url>/posts/3276823856.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ•°æ®ç»“æ„ä¸­çš„çº¿æ®µæ ‘ï¼Œæ¥ç€ä¸Šæ¬¡å¾—ï¼Œæœ¬æ¬¡ç€é‡è®²è¿°æ‡’æ ‡è®°å’Œæ‰«æçº¿</p><span id="more"></span><h1 id="çº¿æ®µæ ‘ï¼ˆ2ï¼‰"><a href="#çº¿æ®µæ ‘ï¼ˆ2ï¼‰" class="headerlink" title="çº¿æ®µæ ‘ï¼ˆ2ï¼‰"></a>çº¿æ®µæ ‘ï¼ˆ2ï¼‰</h1><p>å¤§å®¶ä¼šå‘ç°çš„æ˜¯ï¼Œçº¿æ®µæ ‘åœ¨æ²¡æœ‰æ‡’æ ‡è®°è¿™ä¸ªæŠ€å·§çš„æ—¶å€™ï¼Œèƒ½è§£å†³å¾—é¢˜ç›®å¾ˆå±€é™ï¼Œä½†æ˜¯å¤§å®¶åœ¨æ—¥å¸¸ä¸­ç»å¸¸è§åˆ°å¾—ä¸€èˆ¬éƒ½æ˜¯å¸¦æ‡’æ ‡è®°å¾—é¢˜ç›®ã€‚</p><p>ä¸€èˆ¬æ¥è¯´å¯¹äºåŒºé—´ä¿®æ”¹ï¼Œæš´åŠ›å¾—å¤æ‚åº¦æ˜¯oï¼ˆmnï¼‰å¾—</p><p>ä½¿ç”¨æ‡’æ ‡è®°å¯ä»¥ä½¿æŸ¥è¯¢å¾—å¤æ‚åº¦é™åˆ° o($logn$) ï¼Œä»è€Œä½¿æ•´ä½“å¾—å¤æ‚åº¦è¾¾åˆ°o($m * logn$)</p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/967/B">https://ac.nowcoder.com/acm/contest/967/B</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    LL sum, add;<br>&#125;tr[N &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-keyword">int</span> w[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">eval</span><span class="hljs-params">(Node &amp;root, <span class="hljs-keyword">int</span> add)</span></span><br><span class="hljs-function"></span>&#123;<br>    root.add += add;<br>    root.sum += (root.r - root.l + <span class="hljs-number">1ll</span>) * add;<br>&#125;   <br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    root.sum = l.sum + r.sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (root.add)<br>    &#123;<br>        <span class="hljs-built_in">eval</span>(l, root.add), <span class="hljs-built_in">eval</span>(r, root.add);<br>        root.add = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;<span class="hljs-built_in">pushup</span>(tr[u], tr[lc], tr[rc]);&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;<span class="hljs-built_in">pushdown</span>(tr[u], tr[lc], tr[rc]);&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) tr[u] = &#123;l, r, w[l]&#125;;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        tr[u] = &#123;l, r&#125;;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(lc, l, mid), <span class="hljs-built_in">build</span>(rc, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> d)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= tr[u].l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-built_in">eval</span>(tr[u], d);<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">if</span> (l &lt;= mid) <span class="hljs-built_in">modify</span>(lc, l, r, d);<br>        <span class="hljs-keyword">if</span> (r &gt; mid) <span class="hljs-built_in">modify</span>(rc, l, r, d);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= tr[u].l &amp;&amp; r &gt;= tr[u].r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(rc, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(lc, l, r);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            Node res;<br><br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(lc, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(rc, l, r);<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br><br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>);<br><br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br><br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> op;<br>        cin &gt;&gt; op;<br><br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-number">2</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r;<br>            cin &gt;&gt; l &gt;&gt; r;<br><br>            cout &lt;&lt; <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, l, r).sum &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r, d;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; d;<br><br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, l, r, d);<br>        &#125;<br>    &#125;<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h3 id="æ‰«æçº¿"><a href="#æ‰«æçº¿" class="headerlink" title="æ‰«æçº¿"></a>æ‰«æçº¿</h3><p>çº¿æ®µæ ‘æ˜¯æœ‰ä¸€ä¸ªç‰¹æ®Šåšæ³•çš„ï¼Œå¯ä»¥è§£å†³æ‰«æçº¿é—®é¢˜ï¼Œå¤§å®¶å¯ä»¥æŠŠè¿™ç§åšæ³•ç†è§£åè®°ä½ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šç”¨æ³•</p><h4 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1033/C">https://ac.nowcoder.com/acm/contest/1033/C</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">double</span> x, y1, y2;<br>    <span class="hljs-keyword">int</span> k;<br><br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-keyword">const</span> Edge &amp;t)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> x &lt; t.x;<br>    &#125;<br><br>&#125;edges[N &lt;&lt; <span class="hljs-number">1</span>];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r, k;<br>    <span class="hljs-keyword">double</span> len;<br>&#125;tr[N &lt;&lt; <span class="hljs-number">3</span>];<br><br>vector&lt;<span class="hljs-keyword">double</span>&gt; lsh;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> &amp;root = tr[u];<br><br>    <span class="hljs-keyword">if</span> (root.k) root.len = lsh[root.r + <span class="hljs-number">1</span>] - lsh[root.l];<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (root.l != root.r) root.len = tr[lc].len + tr[rc].len;<br>    <span class="hljs-keyword">else</span> tr[u].len = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    tr[u] = &#123;l, r&#125;;<br>    <span class="hljs-keyword">if</span> (l == r) <span class="hljs-keyword">return</span> ;<br><br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">build</span>(lc, l, mid), <span class="hljs-built_in">build</span>(rc, mid + <span class="hljs-number">1</span>, r);<br>    <span class="hljs-built_in">pushup</span>(u);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r)<br>    &#123;<br>        tr[u].k += k;<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (r &gt; mid) <span class="hljs-built_in">modify</span>(rc, l, r, k);<br>        <span class="hljs-keyword">if</span> (l &lt;= mid) <span class="hljs-built_in">modify</span>(lc, l, r, k);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n, n)<br>    &#123;<br>        m = <span class="hljs-number">0</span>;<br>        lsh.<span class="hljs-built_in">clear</span>();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">double</span> x1, x2, y1, y2;<br>            cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;<br><br>            lsh.<span class="hljs-built_in">push_back</span>(y1), lsh.<span class="hljs-built_in">push_back</span>(y2);<br>            edges[m ++ ] = &#123;x1, y1, y2, <span class="hljs-number">1</span>&#125;;<br>            edges[m ++ ] = &#123;x2, y1, y2, <span class="hljs-number">-1</span>&#125;;<br>        &#125;<br><br>        <span class="hljs-built_in">sort</span>(lsh.<span class="hljs-built_in">begin</span>(), lsh.<span class="hljs-built_in">end</span>());<br>        lsh.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(lsh.<span class="hljs-built_in">begin</span>(), lsh.<span class="hljs-built_in">end</span>()), lsh.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(edges, edges + m);<br><br>        <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, lsh.<span class="hljs-built_in">size</span>() - <span class="hljs-number">2</span>);<br><br>        <span class="hljs-keyword">double</span> ans = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">auto</span> find = [&amp;](<span class="hljs-keyword">double</span> x)<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-built_in">lower_bound</span>(lsh.<span class="hljs-built_in">begin</span>(), lsh.<span class="hljs-built_in">end</span>(), x) - lsh.<span class="hljs-built_in">begin</span>();<br>            &#125;;<br><br>            <span class="hljs-keyword">if</span> (i) ans += tr[<span class="hljs-number">1</span>].len * (edges[i].x - edges[i - <span class="hljs-number">1</span>].x);<br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">find</span>(edges[i].y1), <span class="hljs-built_in">find</span>(edges[i].y2) - <span class="hljs-number">1</span>, edges[i].k);<br>        &#125;<br><br>        cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>) &lt;&lt; <span class="hljs-string">&quot;Test case #&quot;</span> &lt;&lt; ++ T &lt;&lt; endl;<br>        cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-string">&quot;Total explored area: &quot;</span> &lt;&lt; ans &lt;&lt; endl; <br>        cout &lt;&lt; endl;<br>    &#125;<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h2 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h2><h3 id="T1-æ¥è‡ªAHOI2009"><a href="#T1-æ¥è‡ªAHOI2009" class="headerlink" title="T1(æ¥è‡ªAHOI2009)"></a>T1(æ¥è‡ªAHOI2009)</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/967/E">https://ac.nowcoder.com/acm/contest/967/E</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br><span class="hljs-keyword">int</span> w[N];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    LL sum;<br>    LL add, mul;<br>&#125;tr[N &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">eval</span><span class="hljs-params">(Node &amp;root, <span class="hljs-keyword">int</span> mul, <span class="hljs-keyword">int</span> add)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// @todo é¦–å…ˆå åŠ æ‡’æ ‡è®°ï¼Œå…¶æ¬¡å¤„ç†ç»´æŠ¤çš„ä¿¡æ¯</span><br><br>    root.sum = (root.sum * mul % mod + (LL)(root.r - root.l + <span class="hljs-number">1</span>) * add % mod) % mod;<br>    <br>    root.mul = root.mul * mul % mod;<br>    root.add = (root.add * mul %  mod + add) % mod;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (root.add != <span class="hljs-number">0</span> || root.mul != <span class="hljs-number">1</span>) <span class="hljs-comment">// å½“å­˜åœ¨æ‡’æ ‡è®°æ—¶ä¸‹æ”¾</span><br>    &#123;<br>        <span class="hljs-built_in">eval</span>(l, root.mul, root.add), <span class="hljs-built_in">eval</span>(r, root.mul, root.add);<br>        root.add = <span class="hljs-number">0</span>, root.mul = <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushdown</span>(tr[u], tr[lc], tr[rc]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// @todo ç»´æŠ¤é™¤äº†æ‡’æ ‡è®°ä»¥å¤–çš„ä¿¡æ¯</span><br>    root.sum = (l.sum + r.sum) % mod;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushup</span>(tr[u], tr[lc], tr[rc]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) tr[u] = &#123;l, r, w[l], <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;; <span class="hljs-comment">// åˆå§‹åŒ–å•ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯</span><br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        tr[u] = &#123;l, r, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;; <span class="hljs-comment">// è‹¥å­˜åœ¨åˆå§‹åŒ–ä¸ä¸º0çš„æ‡’æ ‡è®°è®°å¾—åˆå§‹åŒ–</span><br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(lc, l, mid), <span class="hljs-built_in">build</span>(rc, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> mul, <span class="hljs-keyword">int</span> add)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-built_in">eval</span>(tr[u], mul, add);<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &lt;= mid) <span class="hljs-built_in">modify</span>(lc, l, r, mul, add);<br>        <span class="hljs-keyword">if</span> (r &gt; mid) <span class="hljs-built_in">modify</span>(rc, l, r, mul, add);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(rc, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(lc, l, r);<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(lc, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(rc, l, r);<br>            <br>            Node res;<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>);<br><br>    cin &gt;&gt; n &gt;&gt; mod;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br><br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br><br>    cin &gt;&gt; m;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> op;<br>        cin &gt;&gt; op;<br><br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r, d;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; d;<br><br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, l, r, d, <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-number">2</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r, d;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; d;<br><br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, l, r, <span class="hljs-number">1</span>, d);<br>        &#125; <br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r;<br>            cin &gt;&gt; l &gt;&gt; r;<br>            <br>            cout &lt;&lt; <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, l, r).sum &lt;&lt; endl;<br>        &#125;<br>    &#125;<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h3 id="T2ï¼šBZOJ"><a href="#T2ï¼šBZOJ" class="headerlink" title="T2ï¼šBZOJ"></a>T2ï¼šBZOJ</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/problem/50456">https://ac.nowcoder.com/acm/problem/50456</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br>LL w[N];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    LL sum;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;tr[N &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// @todo ç»´æŠ¤é™¤äº†æ‡’æ ‡è®°ä»¥å¤–çš„ä¿¡æ¯</span><br>    root.sum = l.sum + r.sum;<br>    root.flag = (l.flag &amp;&amp; r.flag);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushup</span>(tr[u], tr[lc], tr[rc]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) tr[u] = &#123;l, r, w[l], <span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// åˆå§‹åŒ–å•ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯</span><br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        tr[u] = &#123;l, r&#125;; <span class="hljs-comment">// è‹¥å­˜åœ¨åˆå§‹åŒ–ä¸ä¸º0çš„æ‡’æ ‡è®°è®°å¾—åˆå§‹åŒ–</span><br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(lc, l, mid), <span class="hljs-built_in">build</span>(rc, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].flag) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-keyword">if</span> (tr[u].l == tr[u].r)<br>    &#123;<br>        tr[u].sum = <span class="hljs-built_in">floor</span>(<span class="hljs-built_in">sqrt</span>(tr[u].sum));<br>        <span class="hljs-keyword">if</span> (tr[u].sum &lt;= <span class="hljs-number">1</span>) tr[u].flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span>; <br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &lt;= mid) <span class="hljs-built_in">modify</span>(lc, l, r);<br>        <span class="hljs-keyword">if</span> (r &gt; mid) <span class="hljs-built_in">modify</span>(rc, l, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(rc, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(lc, l, r);<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(lc, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(rc, l, r);<br>            <br>            Node res;<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br><br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br><br>    cin &gt;&gt; m;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> op, a, b;<br>        cin &gt;&gt; op &gt;&gt; a &gt;&gt; b;<br><br>        <span class="hljs-keyword">if</span> (a &gt; b) <span class="hljs-built_in">swap</span>(a, b);<br><br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-number">2</span>) <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, a, b);<br>        <span class="hljs-keyword">else</span> cout &lt;&lt; <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, a, b).sum &lt;&lt; endl;<br>    &#125;<br>    cout &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>);<br><br>    cin &gt;&gt; n, <span class="hljs-built_in">solve</span>();<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h3 id="T3-ZOJ-1610"><a href="#T3-ZOJ-1610" class="headerlink" title="T3:(ZOJ 1610)"></a>T3:(ZOJ 1610)</h3><blockquote><p><a href="https://zoj.pintia.cn/problem-sets/91827364500/problems/91827365109">https://zoj.pintia.cn/problem-sets/91827364500/problems/91827365109</a></p></blockquote><h4 id="å¹¶æŸ¥é›†åšæ³•"><a href="#å¹¶æŸ¥é›†åšæ³•" class="headerlink" title="å¹¶æŸ¥é›†åšæ³•"></a>å¹¶æŸ¥é›†åšæ³•</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DSU</span> &#123;</span><br>    std::vector&lt;<span class="hljs-keyword">int</span>&gt; p, sz;<br>    <span class="hljs-built_in">DSU</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">p</span>(++n), <span class="hljs-built_in">sz</span>(n, <span class="hljs-number">1</span>) &#123;std::<span class="hljs-built_in">iota</span>(p.<span class="hljs-built_in">begin</span>(), p.<span class="hljs-built_in">end</span>(), <span class="hljs-number">0</span>);&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (x != p[x]) x = p[x] = p[p[x]];<br>        <span class="hljs-keyword">return</span> x;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">same</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">find</span>(x) == <span class="hljs-built_in">find</span>(y); &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>        x = <span class="hljs-built_in">find</span>(x);<br>        y = <span class="hljs-built_in">find</span>(y);<br>        <span class="hljs-keyword">if</span> (x == y) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        sz[x] += sz[y];<br>        p[y] = x;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> sz[<span class="hljs-built_in">find</span>(x)]; &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r, c;<br>&#125;op[<span class="hljs-number">8010</span>];<br><br><span class="hljs-keyword">int</span> c[<span class="hljs-number">8010</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">DSU <span class="hljs-title">g</span><span class="hljs-params">(n + <span class="hljs-number">10</span>)</span></span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br><br>        a ++ , b ++ , c ++ ;<br><br>        op[i] = &#123;a, b, c&#125;;<br>    &#125;<br><br>    <span class="hljs-built_in">memset</span>(c, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> c);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = g.<span class="hljs-built_in">find</span>(op[i].l); j &lt;= op[i].r - <span class="hljs-number">1</span>; j = g.<span class="hljs-built_in">find</span>(j))<br>        &#123;<br>            c[j] = op[i].c;<br>            g.p[j] = j + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br><br>    map&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; mp;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">8000</span>; i ++ )<br>        <span class="hljs-keyword">if</span> (c[i] &amp;&amp; c[i] != c[i - <span class="hljs-number">1</span>]) mp[c[i] - <span class="hljs-number">1</span>] ++ ;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> r : mp) cout &lt;&lt; r.x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; r.y &lt;&lt; endl;<br>    cout &lt;&lt; endl;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n) <span class="hljs-built_in">solve</span>();<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h4 id="çº¿æ®µæ ‘åšæ³•"><a href="#çº¿æ®µæ ‘åšæ³•" class="headerlink" title="çº¿æ®µæ ‘åšæ³•"></a>çº¿æ®µæ ‘åšæ³•</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;numeric&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-comment">// #pragma GCC optimize(3,&quot;Ofast&quot;,&quot;inline&quot;)</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> please return</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ac 0</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">8010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL LINF = <span class="hljs-number">1e18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> DINF = <span class="hljs-number">1e20</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function">LL <span class="hljs-title">doMod</span><span class="hljs-params">(LL x, LL mod)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    <span class="hljs-keyword">int</span> c;<br>    <span class="hljs-keyword">int</span> flag;<br>&#125;tr[N &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">eval</span><span class="hljs-params">(Node &amp;root, <span class="hljs-keyword">int</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// @todo é¦–å…ˆå åŠ æ‡’æ ‡è®°ï¼Œå…¶æ¬¡å¤„ç†ç»´æŠ¤çš„ä¿¡æ¯</span><br>    root.flag = root.c = flag;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (root.flag) <span class="hljs-comment">// å½“å­˜åœ¨æ‡’æ ‡è®°æ—¶ä¸‹æ”¾</span><br>    &#123;<br>        <span class="hljs-built_in">eval</span>(l, root.flag), <span class="hljs-built_in">eval</span>(r, root.flag);<br>        root.flag = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushdown</span>(tr[u], tr[lc], tr[rc]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;root, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// @todo ç»´æŠ¤é™¤äº†æ‡’æ ‡è®°ä»¥å¤–çš„ä¿¡æ¯</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushup</span>(tr[u], tr[lc], tr[rc]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) tr[u] = &#123;l, r&#125;; <span class="hljs-comment">// åˆå§‹åŒ–å•ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯</span><br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        tr[u] = &#123;l, r&#125;; <span class="hljs-comment">// è‹¥å­˜åœ¨åˆå§‹åŒ–ä¸ä¸º0çš„æ‡’æ ‡è®°è®°å¾—åˆå§‹åŒ–</span><br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(lc, l, mid), <span class="hljs-built_in">build</span>(rc, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-built_in">eval</span>(tr[u], flag);<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &lt;= mid) <span class="hljs-built_in">modify</span>(lc, l, r, flag);<br>        <span class="hljs-keyword">if</span> (r &gt; mid) <span class="hljs-built_in">modify</span>(rc, l, r, flag);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-built_in">pushdown</span>(u);<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(rc, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(lc, l, r);<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(lc, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(rc, l, r);<br>            <br>            Node res;<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, N);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r, k;<br>        cin &gt;&gt; l &gt;&gt; r &gt;&gt; k;<br><br>        l ++ , k ++ ;<br><br>        <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, l, r, k);<br>    &#125;<br><br>    map&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; mp;<br><br>    <span class="hljs-keyword">int</span> last = <span class="hljs-number">-1</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">8000</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> cur = <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, i, i).c;<br>        <span class="hljs-keyword">if</span> (cur &amp;&amp; cur != last) mp[cur] ++ ;<br>        last = cur;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> r : mp) cout &lt;&lt; r.x - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; r.y &lt;&lt; endl;<br>        cout &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cout &lt;&lt; fixed &lt;&lt;  <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n) <span class="hljs-built_in">solve</span>();<br><br>    please ac;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ®µæ ‘åˆæ­¥</title>
    <link href="/posts/1685565937.html"/>
    <url>/posts/1685565937.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ•°æ®ç»“æ„ä¸­çš„çº¿æ®µæ ‘ï¼Œè¿™è®²è®²çš„æ˜¯å•ç‚¹ä¿®æ”¹çš„çº¿æ®µæ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å¸¦lazyï¼ˆæ‡’æ ‡è®°ï¼‰</p><span id="more"></span><h1 id="çº¿æ®µæ ‘ï¼ˆ1ï¼‰"><a href="#çº¿æ®µæ ‘ï¼ˆ1ï¼‰" class="headerlink" title="çº¿æ®µæ ‘ï¼ˆ1ï¼‰"></a>çº¿æ®µæ ‘ï¼ˆ1ï¼‰</h1><p><strong>çº¿æ®µæ ‘ä½œä¸ºæ•°æ®ç»“æ„ï¼Œå¤§å®¶ä¼šå¤´ä¸€æ¬¡æ„Ÿè§‰åˆ°ä»£ç é‡çš„ä¸€ä¸ªå¢åŠ ã€‚å…¶å®çº¿æ®µæ ‘æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½ç†è§£çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œåªæ˜¯å› ä¸ºä»£ç é‡çš„ç¨å¤§ï¼Œä¼šæœ‰äº›åŠé€€åˆå­¦è€…ã€‚</strong></p><p><strong>è¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯å¤§å®¶å­¦ä¹ è¿™ä¹ˆé•¿æ—¶é—´ä»¥æ¥çš„ç¬¬ä¸€ä¸ªå°åï¼Œä½†æ˜¯çº¿æ®µæ ‘ç»å¯¹æ²¡æœ‰å¤§å®¶æƒ³è±¡çš„é‚£ä¹ˆéš¾</strong></p><p>ç»™å‡ºä¸€ä¸ªå›¾ï¼Œæ–¹ä¾¿æ˜å¤©è®²è§£ï¼š</p><p><img src="https://cdn.acwing.com/media/article/image/2021/08/12/92692_1e4b8ed7fb-image-20210812114439710.png" alt="img"></p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/967/C">https://ac.nowcoder.com/acm/contest/967/C</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">200010</span>;<br><br><span class="hljs-keyword">int</span> m, p;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    <span class="hljs-keyword">int</span> v;  <span class="hljs-comment">// åŒºé—´[l, r]ä¸­çš„æœ€å¤§å€¼</span><br>&#125;tr[N * <span class="hljs-number">4</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span>  <span class="hljs-comment">// ç”±å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ¥è®¡ç®—çˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="hljs-function"></span>&#123;<br>    tr[u].v = <span class="hljs-built_in">max</span>(tr[u &lt;&lt; <span class="hljs-number">1</span>].v, tr[u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].v);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    tr[u] = &#123;l, r&#125;;<br>    <span class="hljs-keyword">if</span> (l == r) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, mid), <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u].v;   <span class="hljs-comment">// æ ‘ä¸­èŠ‚ç‚¹ï¼Œå·²ç»è¢«å®Œå…¨åŒ…å«åœ¨[l, r]ä¸­äº†</span><br><br>    <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (l &lt;= mid) v = <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>    <span class="hljs-keyword">if</span> (r &gt; mid) v = <span class="hljs-built_in">max</span>(v, <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r));<br><br>    <span class="hljs-keyword">return</span> v;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l == x &amp;&amp; tr[u].r == x) tr[u].v = v;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (x &lt;= mid) <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>, last = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;p);<br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, m);<br><br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">char</span> op[<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%d&quot;</span>, op, &amp;x);<br>        <span class="hljs-keyword">if</span> (*op == <span class="hljs-string">&#x27;Q&#x27;</span>)<br>        &#123;<br>            last = <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, n - x + <span class="hljs-number">1</span>, n);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, last);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>, ((LL)last + x) % p);<br>            n ++ ;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/967/A">https://ac.nowcoder.com/acm/contest/967/A</a></p></blockquote><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs"><br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼šç»Ÿç»Ÿæ¥è‡ªä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šå’Œè¿›é˜¶æŒ‡å—"><a href="#ç»ƒä¹ é¢˜ï¼šç»Ÿç»Ÿæ¥è‡ªä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šå’Œè¿›é˜¶æŒ‡å—" class="headerlink" title="ç»ƒä¹ é¢˜ï¼šç»Ÿç»Ÿæ¥è‡ªä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šå’Œè¿›é˜¶æŒ‡å—"></a>ç»ƒä¹ é¢˜ï¼šç»Ÿç»Ÿæ¥è‡ªä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šå’Œè¿›é˜¶æŒ‡å—</h2><h3 id="T1"><a href="#T1" class="headerlink" title="T1:"></a>T1:</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1033/A">https://ac.nowcoder.com/acm/contest/1033/A</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">500010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    <span class="hljs-keyword">int</span> sum, lmax, rmax, tmax;<br>&#125;tr[N * <span class="hljs-number">4</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;u, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    u.sum = l.sum + r.sum;<br>    u.lmax = <span class="hljs-built_in">max</span>(l.lmax, l.sum + r.lmax);<br>    u.rmax = <span class="hljs-built_in">max</span>(r.rmax, r.sum + l.rmax);<br>    u.tmax = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">max</span>(l.tmax, r.tmax), l.rmax + r.lmax);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushup</span>(tr[u], tr[u &lt;&lt; <span class="hljs-number">1</span>], tr[u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) tr[u] = &#123;l, r, w[r], w[r], w[r], w[r]&#125;;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        tr[u] = &#123;l, r&#125;;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, mid), <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l == x &amp;&amp; tr[u].r == x) tr[u] = &#123;x, x, v, v, v, v&#125;;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (x &lt;= mid) <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r);<br>            Node res;<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w[i]);<br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br><br>    <span class="hljs-keyword">int</span> k, x, y;<br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;k, &amp;x, &amp;y);<br>        <span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (x &gt; y) <span class="hljs-built_in">swap</span>(x, y);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, x, y).tmax);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, x, y);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T2"><a href="#T2" class="headerlink" title="T2:"></a>T2:</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1033/B">https://ac.nowcoder.com/acm/contest/1033/B</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">500010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br>LL w[N];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    LL sum, d;<br>&#125;tr[N * <span class="hljs-number">4</span>];<br><br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> b ? <span class="hljs-built_in">gcd</span>(b, a % b) : a;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(Node &amp;u, Node &amp;l, Node &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    u.sum = l.sum + r.sum;<br>    u.d = <span class="hljs-built_in">gcd</span>(l.d, r.d);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pushup</span>(tr[u], tr[u &lt;&lt; <span class="hljs-number">1</span>], tr[u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r)<br>    &#123;<br>        LL b = w[r] - w[r - <span class="hljs-number">1</span>];<br>        tr[u] = &#123;l, r, b, b&#125;;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        tr[u].l = l, tr[u].r = r;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, mid), <span class="hljs-built_in">build</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> x, LL v)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l == x &amp;&amp; tr[u].r == x)<br>    &#123;<br>        LL b = tr[u].sum + v;<br>        tr[u] = &#123;x, x, b, b&#125;;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (x &lt;= mid) <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">modify</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, x, v);<br>        <span class="hljs-built_in">pushup</span>(u);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Node <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="hljs-keyword">return</span> tr[u];<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (r &lt;= mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>            <span class="hljs-keyword">auto</span> right = <span class="hljs-built_in">query</span>(u &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r);<br>            Node res;<br>            <span class="hljs-built_in">pushup</span>(res, left, right);<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;w[i]);<br>    <span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br><br>    <span class="hljs-keyword">int</span> l, r;<br>    LL d;<br>    <span class="hljs-keyword">char</span> op[<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%d%d&quot;</span>, op, &amp;l, &amp;r);<br>        <span class="hljs-keyword">if</span> (*op == <span class="hljs-string">&#x27;Q&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">auto</span> left = <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, l);<br>            <span class="hljs-function">Node <span class="hljs-title">right</span><span class="hljs-params">(&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;)</span></span>;<br>            <span class="hljs-keyword">if</span> (l + <span class="hljs-number">1</span> &lt;= r) right = <span class="hljs-built_in">query</span>(<span class="hljs-number">1</span>, l + <span class="hljs-number">1</span>, r);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, <span class="hljs-built_in">abs</span>(<span class="hljs-built_in">gcd</span>(left.sum, right.d)));<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;d);<br>            <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, l, d);<br>            <span class="hljs-keyword">if</span> (r + <span class="hljs-number">1</span> &lt;= n) <span class="hljs-built_in">modify</span>(<span class="hljs-number">1</span>, r + <span class="hljs-number">1</span>, -d);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘çŠ¶æ•°ç»„</title>
    <link href="/posts/1503714904.html"/>
    <url>/posts/1503714904.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ•°æ®ç»“æ„ä¸­çš„æ ‘çŠ¶æ•°ç»„</p><span id="more"></span><h1 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h1><p>ä»Šå¤©å¼€å§‹å°±æ˜¯æ•°æ®ç»“æ„çš„ä¸€äº›è¿›é˜¶çš„éƒ¨åˆ†äº†</p><p>æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªpartå°±æ˜¯æ ‘çŠ¶æ•°ç»„</p><hr><p>å…¶å®å¯¹äºæˆ‘æ¥è¯´ï¼Œæ•°æ®ç»“æ„partç»™æˆ‘çš„ç¬¬ä¸€å°è±¡å°±æ˜¯ä»£ç é•¿ï¼Œéš¾è°ƒè¯•ï¼Œéš¾å†™ã€‚</p><p>æˆ‘ä»¬å‡ å¹´è®²çš„è¿™ä¸ªæ ‘çŠ¶æ•°ç»„åº”è¯¥æ˜¯æ•°æ®ç»“æ„ä¸­æœ€å¥½å†™çš„ä¸€ä¸ªäº†</p><p>ç»™å‡ºå‡ ä¸ªå›¾ï¼Œæ–¹ä¾¿è¯¾ä¸Šè®²è§£</p><h3 id="æ€æƒ³ï¼š"><a href="#æ€æƒ³ï¼š" class="headerlink" title="æ€æƒ³ï¼š"></a>æ€æƒ³ï¼š</h3><p><img src="https://cdn.acwing.com/media/article/image/2020/05/28/9584_251f95d4a0-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84-%E7%BB%93%E7%82%B9%E8%A6%86%E7%9B%96%E7%9A%84%E9%95%BF%E5%BA%A6.png" alt="æ ‘çŠ¶æ•°ç»„-ç»“ç‚¹è¦†ç›–çš„é•¿åº¦.png"></p><h2 id="æ“ä½œï¼š"><a href="#æ“ä½œï¼š" class="headerlink" title="æ“ä½œï¼š"></a>æ“ä½œï¼š</h2><h3 id="addæ“ä½œ"><a href="#addæ“ä½œ" class="headerlink" title="addæ“ä½œ"></a>addæ“ä½œ</h3><p><img src="https://cdn.acwing.com/media/article/image/2020/05/28/9584_8fcf6acaa0-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84-add.png" alt="æ ‘çŠ¶æ•°ç»„-add.png"></p><h3 id="sumæ“ä½œ"><a href="#sumæ“ä½œ" class="headerlink" title="sumæ“ä½œ"></a>sumæ“ä½œ</h3><p><img src="https://cdn.acwing.com/media/article/image/2020/05/28/9584_25066066a0-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84-ask.png" alt="æ ‘çŠ¶æ•°ç»„-ask.png"></p><h3 id="ç»™å‡ºæ¿å­ï¼š"><a href="#ç»™å‡ºæ¿å­ï¼š" class="headerlink" title="ç»™å‡ºæ¿å­ï¼š"></a>ç»™å‡ºæ¿å­ï¼š</h3><h4 id="é¦–å…ˆæ˜¯æˆ‘ä»¬jianglyï¼ˆè’‹è€å¸ˆï¼‰çš„æ¿å­ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©-orzorz"><a href="#é¦–å…ˆæ˜¯æˆ‘ä»¬jianglyï¼ˆè’‹è€å¸ˆï¼‰çš„æ¿å­ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©-orzorz" class="headerlink" title="é¦–å…ˆæ˜¯æˆ‘ä»¬jianglyï¼ˆè’‹è€å¸ˆï¼‰çš„æ¿å­ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© orzorz"></a>é¦–å…ˆæ˜¯æˆ‘ä»¬jianglyï¼ˆè’‹è€å¸ˆï¼‰çš„æ¿å­ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© orzorz</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Fenwick</span> &#123;</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> n;<br>    std::vector&lt;T&gt; a;<br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">n</span>(n), <span class="hljs-built_in">a</span>(n) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x + <span class="hljs-number">1</span>; i &lt;= n; i += i &amp; -i) &#123;<br>            a[i - <span class="hljs-number">1</span>] += v;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        T ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &gt; <span class="hljs-number">0</span>; i -= i &amp; -i) &#123;<br>            ans += a[i - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) - <span class="hljs-built_in">sum</span>(l);<br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><h4 id="ç„¶åç»™å‡ºæˆ‘è‡ªå·±ç”¨çš„æ¿å­ï¼ˆå’Œè’‹è€å¸ˆçš„ä¸€æ¯”ï¼Œæˆ‘çš„å°±æ˜¯åƒåœ¾ğŸ˜­ğŸ˜­ï¼‰"><a href="#ç„¶åç»™å‡ºæˆ‘è‡ªå·±ç”¨çš„æ¿å­ï¼ˆå’Œè’‹è€å¸ˆçš„ä¸€æ¯”ï¼Œæˆ‘çš„å°±æ˜¯åƒåœ¾ğŸ˜­ğŸ˜­ï¼‰" class="headerlink" title="ç„¶åç»™å‡ºæˆ‘è‡ªå·±ç”¨çš„æ¿å­ï¼ˆå’Œè’‹è€å¸ˆçš„ä¸€æ¯”ï¼Œæˆ‘çš„å°±æ˜¯åƒåœ¾ğŸ˜­ğŸ˜­ï¼‰"></a>ç„¶åç»™å‡ºæˆ‘è‡ªå·±ç”¨çš„æ¿å­ï¼ˆå’Œè’‹è€å¸ˆçš„ä¸€æ¯”ï¼Œæˆ‘çš„å°±æ˜¯åƒåœ¾ğŸ˜­ğŸ˜­ï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> n &amp; -n;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> c)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x; i &lt;= n; i += <span class="hljs-built_in">lowbit</span>(i)) tr[i] += c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x; i; i -= <span class="hljs-built_in">lowbit</span>(i)) res += tr[i];<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></div></td></tr></table></figure><h2 id="ä¸ºäº†è‡´æ•¬jianglsï¼Œæ‰€æœ‰é¢˜ä½¿ç”¨jianglsçš„æ¿å­æ¥å†™"><a href="#ä¸ºäº†è‡´æ•¬jianglsï¼Œæ‰€æœ‰é¢˜ä½¿ç”¨jianglsçš„æ¿å­æ¥å†™" class="headerlink" title="ä¸ºäº†è‡´æ•¬jianglsï¼Œæ‰€æœ‰é¢˜ä½¿ç”¨jianglsçš„æ¿å­æ¥å†™"></a><strong>ä¸ºäº†è‡´æ•¬jianglsï¼Œæ‰€æœ‰é¢˜ä½¿ç”¨jianglsçš„æ¿å­æ¥å†™</strong></h2><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1032/A">https://ac.nowcoder.com/acm/contest/1032/A</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">int</span> b[N], c[N];<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Fenwick</span> &#123;</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> n;<br>    std::vector&lt;T&gt; a;<br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">n</span>(n), <span class="hljs-built_in">a</span>(n) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt;= n; i += i &amp; -i) &#123;<br>            a[i - <span class="hljs-number">1</span>] += v;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        T ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &gt; <span class="hljs-number">0</span>; i -= i &amp; -i) &#123;<br>            ans += a[i - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) - <span class="hljs-built_in">sum</span>(l - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; a[i];<br><br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">fen1</span><span class="hljs-params">(n)</span></span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        b[i] = fen1.<span class="hljs-built_in">sum</span>(a[i]);<br>        c[i] = fen1.<span class="hljs-built_in">rangeSum</span>(a[i], n);<br>        fen1.<span class="hljs-built_in">add</span>(a[i], <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">fen2</span><span class="hljs-params">(n)</span></span>;<br><br>    LL res1 = <span class="hljs-number">0</span>, res2 = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>    &#123;<br>        res1 += (LL)fen2.<span class="hljs-built_in">rangeSum</span>(a[i], n) * c[i];<br>        res2 += (LL)fen2.<span class="hljs-built_in">sum</span>(a[i]) * b[i];<br><br>        fen2.<span class="hljs-built_in">add</span>(a[i], <span class="hljs-number">1</span>);<br>    &#125;<br><br>    cout &lt;&lt; res1 &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; res2 &lt;&lt; endl;<br><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼šï¼ˆç»Ÿç»Ÿæ¥è‡ªç®—æ³•è¿›é˜¶æŒ‡å—ï¼‰"><a href="#ç»ƒä¹ é¢˜ï¼šï¼ˆç»Ÿç»Ÿæ¥è‡ªç®—æ³•è¿›é˜¶æŒ‡å—ï¼‰" class="headerlink" title="ç»ƒä¹ é¢˜ï¼šï¼ˆç»Ÿç»Ÿæ¥è‡ªç®—æ³•è¿›é˜¶æŒ‡å—ï¼‰"></a>ç»ƒä¹ é¢˜ï¼šï¼ˆç»Ÿç»Ÿæ¥è‡ªç®—æ³•è¿›é˜¶æŒ‡å—ï¼‰</h2><h3 id="T1ï¼š"><a href="#T1ï¼š" class="headerlink" title="T1ï¼š"></a>T1ï¼š</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1032/B">https://ac.nowcoder.com/acm/contest/1032/B</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Fenwick</span> &#123;</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> n;<br>    std::vector&lt;T&gt; a;<br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">n</span>(n), <span class="hljs-built_in">a</span>(n) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt;= n; i += i &amp; -i) &#123;<br>            a[i - <span class="hljs-number">1</span>] += v;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        T ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &gt; <span class="hljs-number">0</span>; i -= i &amp; -i) &#123;<br>            ans += a[i - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) - <span class="hljs-built_in">sum</span>(l - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">fen</span><span class="hljs-params">(n)</span></span>;<br><br>    <span class="hljs-keyword">int</span> last = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; x;<br><br>        fen.<span class="hljs-built_in">add</span>(i, x - last);<br>        last = x;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        cin &gt;&gt; op;<br><br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;Q&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> x;<br>            cin &gt;&gt; x;<br><br>            cout &lt;&lt; fen.<span class="hljs-built_in">sum</span>(x) &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r, x;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; x;<br><br>            fen.<span class="hljs-built_in">add</span>(l, x); fen.<span class="hljs-built_in">add</span>(r + <span class="hljs-number">1</span>, -x);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T2ï¼š"><a href="#T2ï¼š" class="headerlink" title="T2ï¼š"></a>T2ï¼š</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1032/C">https://ac.nowcoder.com/acm/contest/1032/C</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Fenwick</span> &#123;</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> n;<br>    std::vector&lt;T&gt; a;<br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">n</span>(n), <span class="hljs-built_in">a</span>(n + <span class="hljs-number">10</span>) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt;= n; i += i &amp; -i) &#123;<br>            a[i - <span class="hljs-number">1</span>] += v;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        T ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &gt; <span class="hljs-number">0</span>; i -= i &amp; -i) &#123;<br>            ans += a[i - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) - <span class="hljs-built_in">sum</span>(l - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">fen1</span><span class="hljs-params">(n)</span></span>;<br>    <span class="hljs-function">Fenwick&lt;LL&gt; <span class="hljs-title">fen2</span><span class="hljs-params">(n)</span></span>;<br><br>    <span class="hljs-keyword">int</span> last = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; x;<br><br>        fen1.<span class="hljs-built_in">add</span>(i, x - last);<br>        fen2.<span class="hljs-built_in">add</span>(i, (LL)(x - last) * i);<br><br>        last = x;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        cin &gt;&gt; op;<br><br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;C&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r, d;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; d;<br><br>            fen1.<span class="hljs-built_in">add</span>(l, d); fen1.<span class="hljs-built_in">add</span>(r + <span class="hljs-number">1</span>, -d);<br>            fen2.<span class="hljs-built_in">add</span>(l, (LL)l * d); fen2.<span class="hljs-built_in">add</span>(r + <span class="hljs-number">1</span>, (LL)(r + <span class="hljs-number">1</span>) * -d);<br><br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">int</span> l, r;<br>            cin &gt;&gt; l &gt;&gt; r;<br>            l -- ;<br><br>            cout &lt;&lt; ((LL)fen1.<span class="hljs-built_in">sum</span>(r) * (r + <span class="hljs-number">1</span>) - fen2.<span class="hljs-built_in">sum</span>(r) - ((LL)fen1.<span class="hljs-built_in">sum</span>(l) * (l + <span class="hljs-number">1</span>) - fen2.<span class="hljs-built_in">sum</span>(l))) &lt;&lt; endl;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">In every life we have some troubleï¼ When you worry you make it doubleï¼</span><br><span class="hljs-comment">Don&#x27;t worryï¼Œbe happyï¼</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br><br></code></pre></div></td></tr></table></figure><hr><h2 id="T3"><a href="#T3" class="headerlink" title="T3:"></a>T3:</h2><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1032/D">https://ac.nowcoder.com/acm/contest/1032/D</a></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">int</span> a[N];<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Fenwick</span> &#123;</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> n;<br>    std::vector&lt;T&gt; a;<br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">n</span>(n), <span class="hljs-built_in">a</span>(n) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &lt;= n; i += i &amp; -i) &#123;<br>            a[i - <span class="hljs-number">1</span>] += v;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        T ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = x; i &gt; <span class="hljs-number">0</span>; i -= i &amp; -i) &#123;<br>            ans += a[i - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) - <span class="hljs-built_in">sum</span>(l - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br><br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">fen</span><span class="hljs-params">(n)</span></span>;<br><br>    <span class="hljs-comment">// a[1] = 0;</span><br><br>    <span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">ans</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ ) cin &gt;&gt; a[i];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) fen.a[i - <span class="hljs-number">1</span>] = <span class="hljs-built_in">lowbit</span>(i);<br><br>    <span class="hljs-comment">// for (int i = 1; i &lt;= n; i ++ ) cout &lt;&lt; fen.sum(i) &lt;&lt; endl;</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = a[i] + <span class="hljs-number">1</span>;<br><br>        <span class="hljs-comment">// cout &lt;&lt; x &lt;&lt; endl;</span><br><br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = n;<br><br>        <span class="hljs-keyword">while</span> (l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (fen.<span class="hljs-built_in">sum</span>(mid) &gt;= x) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br><br>        ans[i] = r;<br>        fen.<span class="hljs-built_in">add</span>(r, <span class="hljs-number">-1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cout &lt;&lt; ans[i] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dfsæœç´¢é¡ºåºï¼Œå‰ªææŠ€å·§</title>
    <link href="/posts/1583395751.html"/>
    <url>/posts/1583395751.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰ä¸»è¦è®²è¿°æ·±æœçš„æœç´¢é¡ºåºåŠå…¶å‰ªææŠ€å·§</p><span id="more"></span><h2 id="æœç´¢ï¼ˆ3ï¼‰"><a href="#æœç´¢ï¼ˆ3ï¼‰" class="headerlink" title="æœç´¢ï¼ˆ3ï¼‰"></a>æœç´¢ï¼ˆ3ï¼‰</h2><blockquote><p><strong>æœ‰äº›äººå¯èƒ½ä¼šè¯´æœç´¢æ³¨å®šæ˜¯æš´åŠ›ï¼Œè¿˜è¦é‚£ä¹ˆå¤šæŠ€å·§å¹²å•¥ï¼Œåæ­£ä¹Ÿæ‹¿ä¸äº†æ»¡åˆ†ã€‚</strong></p><p><strong>æœ‰äººå‘¢å¯èƒ½ä¹Ÿå¬è¯´è¿‡è¿™å¥è¯ï¼šåªè¦å‰ªæå‰ªå¾—å¥½ï¼ŒæŒ‡æ•°å˜çº¿æ€§ï¼ˆæŒ‡çš„æ˜¯2^n -&gt; nï¼‰</strong></p></blockquote><p><strong>å…¶å®ä¸åŒé¢˜ç›®åœºæ™¯ä¸‹æœç´¢çš„æ„ä¹‰å¹¶ä¸ç›¸åŒï¼Œæœç´¢ä½œä¸ºä¸€åˆ‡ç®—æ³•çš„æ ¹åŸºï¼Œè¦ç†Ÿç»ƒæŒæ¡ï¼Œå¦‚æœè¦è§£å‡ºé‚£äº›mediumä»¥ä¸Šçš„é¢˜ï¼Œæœç´¢å½“ç„¶ä¸å¤Ÿï¼Œä½†æ˜¯ä½ è¿è·‘éƒ½ä¸ä¼šï¼Œå’‹é£å‘€~ ä½ è¯´å‘¢ï¼Ÿ</strong></p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>å•è¯æ¥é¾™æ˜¯ä¸€ä¸ªä¸æˆ‘ä»¬ç»å¸¸ç©çš„æˆè¯­æ¥é¾™ç›¸ç±»ä¼¼çš„æ¸¸æˆã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²çŸ¥ä¸€ç»„å•è¯ï¼Œä¸”ç»™å®šä¸€ä¸ªå¼€å¤´çš„å­—æ¯ï¼Œè¦æ±‚å‡ºä»¥è¿™ä¸ªå­—æ¯å¼€å¤´çš„æœ€é•¿çš„â€œé¾™â€ï¼Œæ¯ä¸ªå•è¯æœ€å¤šè¢«ä½¿ç”¨ä¸¤æ¬¡ã€‚</p><p>åœ¨ä¸¤ä¸ªå•è¯ç›¸è¿æ—¶ï¼Œå…¶é‡åˆéƒ¨åˆ†åˆä¸ºä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ beast å’Œ astonish ï¼Œå¦‚æœæ¥æˆä¸€æ¡é¾™åˆ™å˜ä¸º beastonishã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä»»æ„é€‰æ‹©é‡åˆéƒ¨åˆ†çš„é•¿åº¦ï¼Œä½†å…¶é•¿åº¦å¿…é¡»å¤§äºç­‰äº1ï¼Œä¸”ä¸¥æ ¼å°äºä¸¤ä¸ªä¸²çš„é•¿åº¦ï¼Œä¾‹å¦‚ at å’Œ atide é—´ä¸èƒ½ç›¸è¿ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªå•ç‹¬çš„æ•´æ•° n è¡¨ç¤ºå•è¯æ•°ï¼Œä»¥ä¸‹ n è¡Œæ¯è¡Œæœ‰ä¸€ä¸ªå•è¯ï¼ˆåªå«æœ‰å¤§å†™æˆ–å°å†™å­—æ¯ï¼Œé•¿åº¦ä¸è¶…è¿‡20ï¼‰ï¼Œè¾“å…¥çš„æœ€åä¸€è¡Œä¸ºä¸€ä¸ªå•ä¸ªå­—ç¬¦ï¼Œè¡¨ç¤ºâ€œé¾™â€å¼€å¤´çš„å­—æ¯ã€‚</p><p>ä½ å¯ä»¥å‡å®šä»¥æ­¤å­—æ¯å¼€å¤´çš„â€œé¾™â€ä¸€å®šå­˜åœ¨ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>åªéœ€è¾“å‡ºä»¥æ­¤å­—æ¯å¼€å¤´çš„æœ€é•¿çš„â€œé¾™â€çš„é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>nâ‰¤20</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs livecodeserver"><span class="hljs-number">5</span><br><span class="hljs-keyword">at</span><br>touch<br>cheat<br>choose<br>tact<br><span class="hljs-keyword">a</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">23<br></code></pre></div></td></tr></table></figure><h4 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h4><p>è¿æˆçš„â€œé¾™â€ä¸º atoucheatactactouchooseã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">21</span>;<br><br><span class="hljs-keyword">int</span> n;<br>string word[N];<br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">int</span> used[N];<br><span class="hljs-keyword">int</span> ans;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(string dragon, <span class="hljs-keyword">int</span> last)</span></span><br><span class="hljs-function"></span>&#123;<br>    ans = <span class="hljs-built_in">max</span>((<span class="hljs-keyword">int</span>)dragon.<span class="hljs-built_in">size</span>(), ans);<br><br>    used[last] ++ ;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">if</span> (g[last][i] &amp;&amp; used[i] &lt; <span class="hljs-number">2</span>)<br>            <span class="hljs-built_in">dfs</span>(dragon + word[i].<span class="hljs-built_in">substr</span>(g[last][i]), i);<br><br>    used[last] -- ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; word[i];<br>    <span class="hljs-keyword">char</span> start;<br>    cin &gt;&gt; start;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>        &#123;<br>            string a = word[i], b = word[j];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt; <span class="hljs-built_in">min</span>(a.<span class="hljs-built_in">size</span>(), b.<span class="hljs-built_in">size</span>()); k ++ )<br>                <span class="hljs-keyword">if</span> (a.<span class="hljs-built_in">substr</span>(a.<span class="hljs-built_in">size</span>() - k, k) == b.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, k))<br>                &#123;<br>                    g[i][j] = k;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>        &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">if</span> (word[i][<span class="hljs-number">0</span>] == start)<br>            <span class="hljs-built_in">dfs</span>(word[i], i);<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="å‰ªæçš„ä¾‹é¢˜ï¼š"><a href="#å‰ªæçš„ä¾‹é¢˜ï¼š" class="headerlink" title="å‰ªæçš„ä¾‹é¢˜ï¼š"></a>å‰ªæçš„ä¾‹é¢˜ï¼š</h3><p><strong>éå¸¸ç»å…¸çš„ä¸€é“é¢˜ç›®ï¼šå°çŒ«çˆ¬å±±</strong></p><blockquote><p>ç¿°ç¿°å’Œè¾¾è¾¾é¥²å…»äº† N åªå°çŒ«ï¼Œè¿™å¤©ï¼Œå°çŒ«ä»¬è¦å»çˆ¬å±±ã€‚</p><p>ç»å†äº†åƒè¾›ä¸‡è‹¦ï¼Œå°çŒ«ä»¬ç»ˆäºçˆ¬ä¸Šäº†å±±é¡¶ï¼Œä½†æ˜¯ç–²å€¦çš„å®ƒä»¬å†ä¹Ÿä¸æƒ³å¾’æ­¥èµ°ä¸‹å±±äº†ï¼ˆå‘œå’•&gt;_&lt;ï¼‰ã€‚</p><p>ç¿°ç¿°å’Œè¾¾è¾¾åªå¥½èŠ±é’±è®©å®ƒä»¬åç´¢é“ä¸‹å±±ã€‚</p><p>ç´¢é“ä¸Šçš„ç¼†è½¦æœ€å¤§æ‰¿é‡é‡ä¸º Wï¼Œè€Œ N åªå°çŒ«çš„é‡é‡åˆ†åˆ«æ˜¯ C1ã€C2â€¦â€¦CNã€‚</p><p>å½“ç„¶ï¼Œæ¯è¾†ç¼†è½¦ä¸Šçš„å°çŒ«çš„é‡é‡ä¹‹å’Œä¸èƒ½è¶…è¿‡ Wã€‚</p><p>æ¯ç§Ÿç”¨ä¸€è¾†ç¼†è½¦ï¼Œç¿°ç¿°å’Œè¾¾è¾¾å°±è¦ä»˜ 1 ç¾å…ƒï¼Œæ‰€ä»¥ä»–ä»¬æƒ³çŸ¥é“ï¼Œæœ€å°‘éœ€è¦ä»˜å¤šå°‘ç¾å…ƒæ‰èƒ½æŠŠè¿™ N åªå°çŒ«éƒ½è¿é€ä¸‹å±±ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ 11 è¡Œï¼šåŒ…å«ä¸¤ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼ŒN å’Œ Wã€‚</p><p>ç¬¬ 2..N+1 è¡Œï¼šæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i+1 è¡Œçš„æ•´æ•°è¡¨ç¤ºç¬¬ ii åªå°çŒ«çš„é‡é‡ Ciã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘éœ€è¦å¤šå°‘ç¾å…ƒï¼Œä¹Ÿå°±æ˜¯æœ€å°‘éœ€è¦å¤šå°‘è¾†ç¼†è½¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤18<br>1â‰¤Ciâ‰¤Wâ‰¤10^8</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">1996</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">1994</span><br><span class="hljs-number">12</span><br><span class="hljs-number">29</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">20</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> sum[N];<br><span class="hljs-keyword">int</span> ans = N;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// æœ€ä¼˜æ€§å‰ªæ</span><br>    <span class="hljs-keyword">if</span> (k &gt;= ans) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span> (u == n)<br>    &#123;<br>        ans = k;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i ++ )<br>        <span class="hljs-keyword">if</span> (sum[i] + w[u] &lt;= m) <span class="hljs-comment">// å¯è¡Œæ€§å‰ªæ</span><br>        &#123;<br>            sum[i] += w[u];<br>            <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, k);<br>            sum[i] -= w[u]; <span class="hljs-comment">// æ¢å¤ç°åœº</span><br>        &#125;<br><br>    <span class="hljs-comment">// æ–°å¼€ä¸€è¾†è½¦</span><br>    sum[k] = w[u];<br>    <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>);<br>    sum[k] = <span class="hljs-number">0</span>; <span class="hljs-comment">// æ¢å¤ç°åœº</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; w[i];<br><br>    <span class="hljs-comment">// ä¼˜åŒ–æœç´¢é¡ºåº</span><br>    <span class="hljs-built_in">sort</span>(w, w + n);<br>    <span class="hljs-built_in">reverse</span>(w, w + n);<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>### è¿­ä»£åŠ æ·±ä¾‹é¢˜ï¼š<blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1016/A">https://ac.nowcoder.com/acm/contest/1016/A</a></p><p>è¯·è§‚çœ‹ä¸Šè¿°é“¾æ¥é¢˜ç›®</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; path;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (path.<span class="hljs-built_in">back</span>() == n) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span> (path.<span class="hljs-built_in">size</span>() &gt;= k) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>    <span class="hljs-keyword">bool</span> st[<span class="hljs-number">110</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><br>    <span class="hljs-keyword">int</span> u = path.<span class="hljs-built_in">size</span>();<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = u - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = u - <span class="hljs-number">1</span>; j &gt;= i; j -- )<br>        &#123;<br>            <span class="hljs-keyword">int</span> s = path[i] + path[j];<br>            <span class="hljs-keyword">if</span> (s &lt;= path.<span class="hljs-built_in">back</span>() || st[s] || s &gt; n) <span class="hljs-keyword">continue</span>;<br>            st[s] = <span class="hljs-literal">true</span>;<br>            path.<span class="hljs-built_in">push_back</span>(s);<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">dfs</span>(k)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            path.<span class="hljs-built_in">pop_back</span>();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n, n)<br>    &#123;<br>        path.<span class="hljs-built_in">clear</span>();<br>        path.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br><br>        <span class="hljs-keyword">int</span> depth = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">dfs</span>(depth)) <span class="hljs-keyword">break</span>;<br>            depth ++ ;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> a : path) cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>        cout &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h3 id="åŒå‘dfsä¾‹é¢˜ï¼š"><a href="#åŒå‘dfsä¾‹é¢˜ï¼š" class="headerlink" title="åŒå‘dfsä¾‹é¢˜ï¼š"></a>åŒå‘dfsä¾‹é¢˜ï¼š</h3><blockquote><p><a href="https://ac.nowcoder.com/acm/contest/1016/B">https://ac.nowcoder.com/acm/contest/1016/B</a></p><p>é¢˜ç›®åœ°å€å¦‚ä¸Š</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(T &amp;a)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(T &amp;a, T &amp;b)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; endl;&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(T &amp;a, T &amp;b, T &amp;c)</span></span>&#123;cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; c &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">int</span> w[<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">25</span>], idx = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">50</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sum)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u == k)<br>    &#123;<br>        w[idx ++ ] = sum;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br><br>    <span class="hljs-built_in">dfs1</span>(u + <span class="hljs-number">1</span>, sum);<br><br>    <span class="hljs-keyword">if</span> ((LL)sum + a[u] &lt;= m) <span class="hljs-built_in">dfs1</span>(u + <span class="hljs-number">1</span>, sum + a[u]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sum)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u == n)<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = <span class="hljs-built_in">upper_bound</span>(w, w + idx, m - sum) - w;<br><br>        ans = <span class="hljs-built_in">max</span>(ans, w[<span class="hljs-built_in">max</span>(x - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)] + sum);<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br><br>    <span class="hljs-built_in">dfs2</span>(u + <span class="hljs-number">1</span>, sum);<br>    <span class="hljs-keyword">if</span> ((LL)sum + a[u] &lt;= m) <span class="hljs-built_in">dfs2</span>(u + <span class="hljs-number">1</span>, sum + a[u]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; m &gt;&gt; n;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];<br><br>    <span class="hljs-built_in">sort</span>(a, a + n, [&amp;](<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)&#123;<span class="hljs-keyword">return</span> x &gt; y;&#125;);<br>    <br>    k = n / <span class="hljs-number">2</span> + <span class="hljs-number">2</span>;<br><br>    <span class="hljs-built_in">dfs1</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">sort</span>(w + <span class="hljs-number">1</span>, w + idx);<br>    idx = <span class="hljs-built_in">unique</span>(w + <span class="hljs-number">1</span>, w + idx) - w;<br><br>    <span class="hljs-built_in">dfs2</span>(k, <span class="hljs-number">0</span>);<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h2 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h2><h3 id="T1-ç®—æ³•è¿›é˜¶æŒ‡å—ï¼ŒPOJï¼Œkuangbinä¸“é¢˜"><a href="#T1-ç®—æ³•è¿›é˜¶æŒ‡å—ï¼ŒPOJï¼Œkuangbinä¸“é¢˜" class="headerlink" title="T1:(ç®—æ³•è¿›é˜¶æŒ‡å—ï¼ŒPOJï¼Œkuangbinä¸“é¢˜)"></a>T1:(ç®—æ³•è¿›é˜¶æŒ‡å—ï¼ŒPOJï¼Œkuangbinä¸“é¢˜)</h3><blockquote><p>é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/1015/A">https://ac.nowcoder.com/acm/contest/1015/A</a></p><p>George took sticks of the same length and cut them randomly until all parts became at most 100 units long. Now he wants to return sticks to the original state, but he forgot how many sticks he had originally and how long they were originally. Please help him and design a program which computes the smallest possible original length of those sticks. All lengths expressed in units are integers greater than zero.</p><h2 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs livecodeserver">The input <span class="hljs-keyword">contains</span> blocks <span class="hljs-keyword">of</span> <span class="hljs-number">2</span> <span class="hljs-keyword">lines</span>. The <span class="hljs-keyword">first</span> <span class="hljs-built_in">line</span> <span class="hljs-keyword">contains</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">number</span> <span class="hljs-keyword">of</span> sticks parts <span class="hljs-keyword">after</span> cutting, there are <span class="hljs-keyword">at</span> most <span class="hljs-number">64</span> sticks. The <span class="hljs-keyword">second</span> <span class="hljs-built_in">line</span> <span class="hljs-keyword">contains</span> <span class="hljs-keyword">the</span> lengths <span class="hljs-keyword">of</span> those parts separated <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> <span class="hljs-literal">space</span>. The <span class="hljs-keyword">last</span> <span class="hljs-built_in">line</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">contains</span> <span class="hljs-literal">zero</span>.<br></code></pre></div></td></tr></table></figure><h2 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs livecodeserver">The output should <span class="hljs-keyword">contains</span> <span class="hljs-keyword">the</span> smallest possible <span class="hljs-built_in">length</span> <span class="hljs-keyword">of</span> original sticks, <span class="hljs-literal">one</span> per <span class="hljs-built_in">line</span>.<br></code></pre></div></td></tr></table></figure><p>ç¤ºä¾‹1</p><h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">9</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br>5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">70</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> sum, length;<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> cur, <span class="hljs-keyword">int</span> start)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u * length == sum) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span> (cur == length) <span class="hljs-keyword">return</span> <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = start; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (st[i] || cur + w[i] &gt; length) <span class="hljs-keyword">continue</span>;<br><br>        st[i] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">dfs</span>(u, cur + w[i], i + <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        st[i] = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">if</span> (!cur || cur + w[i] == length) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">int</span> j = i;<br>        <span class="hljs-keyword">while</span> (j &lt; n &amp;&amp; w[j] == w[i]) j ++ ;<br>        i = j - <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n, n)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>        sum = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        &#123;<br>            cin &gt;&gt; w[i];<br>            sum += w[i];<br>        &#125;<br><br>        <span class="hljs-built_in">sort</span>(w, w + n);<br>        <span class="hljs-built_in">reverse</span>(w, w + n);<br><br>        length = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (sum % length == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>            &#123;<br>                cout &lt;&lt; length &lt;&lt; endl;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            length ++ ;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›å¸¸è§çš„å¹¿æœæ¨¡å‹</title>
    <link href="/posts/804288258.html"/>
    <url>/posts/804288258.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡è®²è¿°ä¸€äº›å¸¸è§çš„å¹¿æœæ¨¡å‹</p><span id="more"></span><h1 id="æœç´¢ï¼ˆ2ï¼‰"><a href="#æœç´¢ï¼ˆ2ï¼‰" class="headerlink" title="æœç´¢ï¼ˆ2ï¼‰"></a>æœç´¢ï¼ˆ2ï¼‰</h1><p>å¸¸è§çš„å¹¿æœæ¨¡å‹ï¼š</p><ul><li>bfsæœ€çŸ­è·¯æ¨¡å‹</li><li>å¤šæºbfs</li><li>æœ€å°æ­¥æ•°æ¨¡å‹</li><li>åŒç«¯é˜Ÿåˆ—å¹¿æœ</li><li>åŒå‘å¹¿æœ</li><li>A*ç®—æ³•</li></ul><hr><h2 id="bfsæœ€çŸ­è·¯æ¨¡å‹"><a href="#bfsæœ€çŸ­è·¯æ¨¡å‹" class="headerlink" title="bfsæœ€çŸ­è·¯æ¨¡å‹"></a>bfsæœ€çŸ­è·¯æ¨¡å‹</h2><p><strong>bfsçš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥o(n)è®¡ç®—è¾¹æƒç›¸åŒçš„æœ€çŸ­è·¯</strong></p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª nÃ—n çš„äºŒç»´æ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight autohotkey"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs autohotkey">int maze[<span class="hljs-number">5</span>][<span class="hljs-number">5</span>] = &#123;<br><span class="hljs-built_in"></span><br><span class="hljs-built_in">0,</span> <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br><span class="hljs-built_in"></span><br><span class="hljs-built_in">0,</span> <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,<br><span class="hljs-built_in"></span><br><span class="hljs-built_in">0,</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br><span class="hljs-built_in"></span><br><span class="hljs-built_in">0,</span> <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,<br><span class="hljs-built_in"></span><br><span class="hljs-built_in">0,</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,<br><br>&#125;<span class="hljs-comment">;</span><br></code></pre></div></td></tr></table></figure><p>å®ƒè¡¨ç¤ºä¸€ä¸ªè¿·å®«ï¼Œå…¶ä¸­çš„1è¡¨ç¤ºå¢™å£ï¼Œ0è¡¨ç¤ºå¯ä»¥èµ°çš„è·¯ï¼Œåªèƒ½æ¨ªç€èµ°æˆ–ç«–ç€èµ°ï¼Œä¸èƒ½æ–œç€èµ°ï¼Œè¦æ±‚ç¼–ç¨‹åºæ‰¾å‡ºä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯çº¿ã€‚</p><p>æ•°æ®ä¿è¯è‡³å°‘å­˜åœ¨ä¸€æ¡ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’çš„è·¯å¾„ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å« n ä¸ªæ•´æ•° 0 æˆ– 1ï¼Œè¡¨ç¤ºè¿·å®«ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯çº¿ï¼Œå¦‚æœç­”æ¡ˆä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„ä¸€æ¡è·¯å¾„å‡å¯ã€‚</p><p>æŒ‰é¡ºåºï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè·¯å¾„ä¸­ç»è¿‡çš„å•å…ƒæ ¼çš„åæ ‡ï¼Œå·¦ä¸Šè§’åæ ‡ä¸º (0,0)ï¼Œå³ä¸‹è§’åæ ‡ä¸º (nâˆ’1,nâˆ’1)ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0â‰¤nâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">0</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">0</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">0</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">int</span> dist[N][N];<br>PII pre[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print2</span><span class="hljs-params">()</span></span>&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ ) cout &lt;&lt; pre[i][j].x &lt;&lt; <span class="hljs-string">&quot;===&quot;</span> &lt;&lt; pre[i][j].y &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;<br><br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    queue&lt;PII&gt; q;<br>    dist[n][n] = <span class="hljs-number">0</span>;<br>    q.<span class="hljs-built_in">push</span>(&#123;n, n&#125;);<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = a.x + dx1[i], ay = a.y + dy1[i];<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">1</span> || ax &gt; n || ay &lt; <span class="hljs-number">1</span> || ay &gt; n || g[ax][ay] || ~dist[ax][ay]) <span class="hljs-keyword">continue</span>;<br>            <br>            dist[ax][ay] = dist[a.x][a.y] + <span class="hljs-number">1</span>;<br>            pre[ax][ay] = &#123;a.x, a.y&#125;;<br>            q.<span class="hljs-built_in">push</span>(&#123;ax, ay&#125;);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>            cin &gt;&gt; g[i][j];<br>            <br>    <span class="hljs-built_in">bfs</span>();<br>    <br>    <span class="hljs-keyword">int</span> con_x = <span class="hljs-number">1</span>, con_y = <span class="hljs-number">1</span>;<br>    <br>    cout &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">while</span> (pre[con_x][con_y].x &gt; <span class="hljs-number">0</span> &amp;&amp; pre[con_x][con_y].y &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        cout &lt;&lt; pre[con_x][con_y].x - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; pre[con_x][con_y].y - <span class="hljs-number">1</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">int</span> con_xx = pre[con_x][con_y].x;<br>        <span class="hljs-keyword">int</span> con_yy = pre[con_x][con_y].y;<br>        con_x = con_xx;<br>        con_y = con_yy;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="å¤šæºbfs"><a href="#å¤šæºbfs" class="headerlink" title="å¤šæºbfs"></a>å¤šæºbfs</h2><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><blockquote><p>é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/1017/B">https://ac.nowcoder.com/acm/contest/1017/B</a></p><p>é¢˜ç›®å…·ä½“è§ä¸Šæ–¹é“¾æ¥</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-keyword">char</span> g[N][N];<br><span class="hljs-keyword">int</span> dist[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print2</span><span class="hljs-params">()</span></span>&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )&#123;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ ) cout &lt;&lt; dist[i][j] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;cout&lt;&lt;endl;&#125;&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    queue&lt;PII&gt; q;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            <span class="hljs-keyword">if</span> (g[i][j] == <span class="hljs-string">&#x27;1&#x27;</span>)<br>            &#123;<br>                q.<span class="hljs-built_in">push</span>(&#123;i, j&#125;);<br>                dist[i][j] = <span class="hljs-number">0</span>;<br>            &#125;<br>            <br>    <span class="hljs-keyword">while</span>(q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = a.x + dx1[i], ay = a.y + dy1[i];<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">1</span> || ax &gt; n || ay &lt; <span class="hljs-number">1</span> || ay &gt; m || ~dist[ax][ay]) <span class="hljs-keyword">continue</span>;<br>            <br>            dist[ax][ay] = dist[a.x][a.y] + <span class="hljs-number">1</span>;<br>            q.<span class="hljs-built_in">push</span>(&#123;ax, ay&#125;);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        cin &gt;&gt; g[i] + <span class="hljs-number">1</span>;<br>        <br>    <span class="hljs-built_in">bfs</span>();<br>    <br>    <span class="hljs-built_in">print2</span>();<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="æœ€å°æ­¥æ•°æ¨¡å‹"><a href="#æœ€å°æ­¥æ•°æ¨¡å‹" class="headerlink" title="æœ€å°æ­¥æ•°æ¨¡å‹"></a>æœ€å°æ­¥æ•°æ¨¡å‹</h2><h3 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>Rubik å…ˆç”Ÿåœ¨å‘æ˜äº†é£é¡å…¨çƒçš„é­”æ–¹ä¹‹åï¼Œåˆå‘æ˜äº†å®ƒçš„äºŒç»´ç‰ˆæœ¬â€”â€”é­”æ¿ã€‚</p><p>è¿™æ˜¯ä¸€å¼ æœ‰ 8 ä¸ªå¤§å°ç›¸åŒçš„æ ¼å­çš„é­”æ¿ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“é­”æ¿çš„æ¯ä¸€ä¸ªæ–¹æ ¼éƒ½æœ‰ä¸€ç§é¢œè‰²ã€‚</p><p>è¿™ 88 ç§é¢œè‰²ç”¨å‰ 8 ä¸ªæ­£æ•´æ•°æ¥è¡¨ç¤ºã€‚</p><p>å¯ä»¥ç”¨é¢œè‰²çš„åºåˆ—æ¥è¡¨ç¤ºä¸€ç§é­”æ¿çŠ¶æ€ï¼Œè§„å®šä»é­”æ¿çš„å·¦ä¸Šè§’å¼€å§‹ï¼Œæ²¿é¡ºæ—¶é’ˆæ–¹å‘ä¾æ¬¡å–å‡ºæ•´æ•°ï¼Œæ„æˆä¸€ä¸ªé¢œè‰²åºåˆ—ã€‚</p><p>å¯¹äºä¸Šå›¾çš„é­”æ¿çŠ¶æ€ï¼Œæˆ‘ä»¬ç”¨åºåˆ— (1,2,3,4,5,6,7,8)æ¥è¡¨ç¤ºï¼Œè¿™æ˜¯åŸºæœ¬çŠ¶æ€ã€‚</p><p>è¿™é‡Œæä¾›ä¸‰ç§åŸºæœ¬æ“ä½œï¼Œåˆ†åˆ«ç”¨å¤§å†™å­—æ¯ Aï¼ŒBï¼ŒC æ¥è¡¨ç¤ºï¼ˆå¯ä»¥é€šè¿‡è¿™äº›æ“ä½œæ”¹å˜é­”æ¿çš„çŠ¶æ€ï¼‰ï¼š</p><p>Aï¼šäº¤æ¢ä¸Šä¸‹ä¸¤è¡Œï¼›<br>Bï¼šå°†æœ€å³è¾¹çš„ä¸€åˆ—æ’å…¥åˆ°æœ€å·¦è¾¹ï¼›<br>Cï¼šé­”æ¿ä¸­å¤®å¯¹çš„4ä¸ªæ•°ä½œé¡ºæ—¶é’ˆæ—‹è½¬ã€‚</p><p>ä¸‹é¢æ˜¯å¯¹åŸºæœ¬çŠ¶æ€è¿›è¡Œæ“ä½œçš„ç¤ºèŒƒï¼š</p><p>Aï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">8 </span><span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><p>Bï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><p>Cï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><p>å¯¹äºæ¯ç§å¯èƒ½çš„çŠ¶æ€ï¼Œè¿™ä¸‰ç§åŸºæœ¬æ“ä½œéƒ½å¯ä»¥ä½¿ç”¨ã€‚</p><p>ä½ è¦ç¼–ç¨‹è®¡ç®—ç”¨æœ€å°‘çš„åŸºæœ¬æ“ä½œå®ŒæˆåŸºæœ¬çŠ¶æ€åˆ°ç‰¹æ®ŠçŠ¶æ€çš„è½¬æ¢ï¼Œè¾“å‡ºåŸºæœ¬æ“ä½œåºåˆ—ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæ•°æ®ä¿è¯ä¸€å®šæœ‰è§£ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä»…ä¸€è¡Œï¼ŒåŒ…æ‹¬ 8 ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼Œè¡¨ç¤ºç›®æ ‡çŠ¶æ€ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€çŸ­æ“ä½œåºåˆ—çš„é•¿åº¦ã€‚</p><p>å¦‚æœæ“ä½œåºåˆ—çš„é•¿åº¦å¤§äº0ï¼Œåˆ™åœ¨ç¬¬äºŒè¡Œè¾“å‡ºå­—å…¸åºæœ€å°çš„æ“ä½œåºåˆ—ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>è¾“å…¥æ•°æ®ä¸­çš„æ‰€æœ‰æ•°å­—å‡ä¸º 1 åˆ° 8 ä¹‹é—´çš„æ•´æ•°ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">6</span> <span class="hljs-number">8</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">7<br>BCABCCB<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><span class="hljs-keyword">typedef</span> pair&lt;string, <span class="hljs-keyword">char</span>&gt; PSC;<br><span class="hljs-keyword">typedef</span> pair&lt;string, <span class="hljs-keyword">int</span>&gt; PSI;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(string x, string y, string z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br>string start, en;<br><br>unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; dist;<br>unordered_map&lt;string, PSC&gt; pre;<br><br><span class="hljs-function">string <span class="hljs-title">move0</span><span class="hljs-params">(string x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ ) <span class="hljs-built_in">swap</span>(x[i], x[<span class="hljs-number">8</span> - i - <span class="hljs-number">1</span>]);<br>    <br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function">string <span class="hljs-title">move1</span><span class="hljs-params">(string x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">0</span>], x[<span class="hljs-number">3</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">3</span>], x[<span class="hljs-number">2</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">2</span>], x[<span class="hljs-number">1</span>]);<br><br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">4</span>], x[<span class="hljs-number">7</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">4</span>], x[<span class="hljs-number">5</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">6</span>], x[<span class="hljs-number">5</span>]);<br>    <br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function">string <span class="hljs-title">move2</span><span class="hljs-params">(string x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">1</span>], x[<span class="hljs-number">6</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">6</span>], x[<span class="hljs-number">5</span>]);<br>    <span class="hljs-built_in">swap</span>(x[<span class="hljs-number">5</span>], x[<span class="hljs-number">2</span>]);<br>    <br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (start == en) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>    queue&lt;string&gt; q;<br>    q.<span class="hljs-built_in">push</span>(start);<br>    dist[start] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        string cur[<span class="hljs-number">3</span>];<br>        <br>        cur[<span class="hljs-number">0</span>] = <span class="hljs-built_in">move0</span>(a);<br>        cur[<span class="hljs-number">1</span>] = <span class="hljs-built_in">move1</span>(a);<br>        cur[<span class="hljs-number">2</span>] = <span class="hljs-built_in">move2</span>(a);<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (dist.<span class="hljs-built_in">count</span>(cur[i])) <span class="hljs-keyword">continue</span>;<br>            dist[cur[i]] = dist[a] + <span class="hljs-number">1</span>;<br>            pre[cur[i]] = &#123;a, <span class="hljs-string">&#x27;A&#x27;</span> + i&#125;;<br>            <span class="hljs-keyword">if</span> (cur[i] == en) <span class="hljs-keyword">return</span> dist[cur[i]];<br>            q.<span class="hljs-built_in">push</span>(cur[i]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    start = <span class="hljs-string">&quot;12345678&quot;</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">char</span> c;<br>        cin &gt;&gt; c;<br>        en += c;<br>    &#125;<br>    <br>    ans = <span class="hljs-built_in">bfs</span>();<br>    <br>    cout &lt;&lt; ans &lt;&lt; endl;<br>    <br>    string res;<br>    <br>    <span class="hljs-keyword">while</span> (en != start)<br>    &#123;<br>        res += pre[en].y;<br>        en = pre[en].x;<br>    &#125;<br>    <br>    <span class="hljs-built_in">reverse</span>(res.<span class="hljs-built_in">begin</span>(), res.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">if</span> (ans &gt; <span class="hljs-number">0</span>) cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><h2 id="åŒç«¯é˜Ÿåˆ—å¹¿æœ"><a href="#åŒç«¯é˜Ÿåˆ—å¹¿æœ" class="headerlink" title="åŒç«¯é˜Ÿåˆ—å¹¿æœ"></a>åŒç«¯é˜Ÿåˆ—å¹¿æœ</h2><h3 id="ä¾‹é¢˜ï¼š-2"><a href="#ä¾‹é¢˜ï¼š-2" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>è¾¾è¾¾æ˜¯æ¥è‡ªå¼‚ä¸–ç•Œçš„é­”å¥³ï¼Œå¥¹åœ¨æ¼«æ— ç›®çš„åœ°å››å¤„æ¼‚æµçš„æ—¶å€™ï¼Œé‡åˆ°äº†å–„è‰¯çš„å°‘å¥³ç¿°ç¿°ï¼Œä»è€Œè¢«æ”¶ç•™åœ¨åœ°çƒä¸Šã€‚</p><p>ç¿°ç¿°çš„å®¶é‡Œæœ‰ä¸€è¾†é£è¡Œè½¦ã€‚</p><p>æœ‰ä¸€å¤©é£è¡Œè½¦çš„ç”µè·¯æ¿çªç„¶å‡ºç°äº†æ•…éšœï¼Œå¯¼è‡´æ— æ³•å¯åŠ¨ã€‚</p><p>ç”µè·¯æ¿çš„æ•´ä½“ç»“æ„æ˜¯ä¸€ä¸ª R è¡Œ C åˆ—çš„ç½‘æ ¼ï¼ˆR,Câ‰¤500ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://www.acwing.com/media/article/image/2019/01/16/19_be6ff7a219-%E7%94%B5%E8%B7%AF.png" alt="ç”µè·¯.png"></p><p>æ¯ä¸ªæ ¼ç‚¹éƒ½æ˜¯ç”µçº¿çš„æ¥ç‚¹ï¼Œæ¯ä¸ªæ ¼å­éƒ½åŒ…å«ä¸€ä¸ªç”µå­å…ƒä»¶ã€‚</p><p>ç”µå­å…ƒä»¶çš„ä¸»è¦éƒ¨åˆ†æ˜¯ä¸€ä¸ªå¯æ—‹è½¬çš„ã€è¿æ¥ä¸€æ¡å¯¹è§’çº¿ä¸Šçš„ä¸¤ä¸ªæ¥ç‚¹çš„çŸ­ç”µç¼†ã€‚</p><p>åœ¨æ—‹è½¬ä¹‹åï¼Œå®ƒå°±å¯ä»¥è¿æ¥å¦ä¸€æ¡å¯¹è§’çº¿çš„ä¸¤ä¸ªæ¥ç‚¹ã€‚</p><p>ç”µè·¯æ¿å·¦ä¸Šè§’çš„æ¥ç‚¹æ¥å…¥ç›´æµç”µæºï¼Œå³ä¸‹è§’çš„æ¥ç‚¹æ¥å…¥é£è¡Œè½¦çš„å‘åŠ¨è£…ç½®ã€‚</p><p>è¾¾è¾¾å‘ç°å› ä¸ºæŸäº›å…ƒä»¶çš„æ–¹å‘ä¸å°å¿ƒå‘ç”Ÿäº†æ”¹å˜ï¼Œç”µè·¯æ¿å¯èƒ½å¤„äºæ–­è·¯çš„çŠ¶æ€ã€‚</p><p>å¥¹å‡†å¤‡é€šè¿‡è®¡ç®—ï¼Œæ—‹è½¬æœ€å°‘æ•°é‡çš„å…ƒä»¶ï¼Œä½¿ç”µæºä¸å‘åŠ¨è£…ç½®é€šè¿‡è‹¥å¹²æ¡çŸ­ç¼†ç›¸è¿ã€‚</p><p>ä¸è¿‡ï¼Œç”µè·¯çš„è§„æ¨¡å®åœ¨æ˜¯å¤ªå¤§äº†ï¼Œè¾¾è¾¾å¹¶ä¸æ“…é•¿ç¼–ç¨‹ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿå¸®å¥¹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šåªèƒ½èµ°æ–œå‘çš„çº¿æ®µï¼Œæ°´å¹³å’Œç«–ç›´çº¿æ®µä¸èƒ½èµ°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ–‡ä»¶åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Tï¼Œè¡¨ç¤ºæµ‹è¯•æ•°æ®çš„æ•°ç›®ã€‚</p><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ­£æ•´æ•° R å’Œ Cï¼Œè¡¨ç¤ºç”µè·¯æ¿çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚</p><p>ä¹‹å RR è¡Œï¼Œæ¯è¡Œ C ä¸ªå­—ç¬¦ï¼Œå­—ç¬¦æ˜¯<code>&quot;/&quot;</code>å’Œ<code>&quot;\&quot;</code>ä¸­çš„ä¸€ä¸ªï¼Œè¡¨ç¤ºæ ‡å‡†ä»¶çš„æ–¹å‘ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œåœ¨å•ç‹¬çš„ä¸€è¡Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„æœ€å°æ—‹è½¬æ¬¡æ•°ã€‚</p><p>å¦‚æœæ— è®ºæ€æ ·éƒ½ä¸èƒ½ä½¿å¾—ç”µæºå’Œå‘åŠ¨æœºä¹‹é—´è¿é€šï¼Œè¾“å‡º <code>NO SOLUTION</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤R,Câ‰¤500<br>1â‰¤Tâ‰¤5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight taggerscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs taggerscript">1<br>3 5<br><span class="hljs-symbol">\\</span>/<span class="hljs-symbol">\\</span><br><span class="hljs-symbol">\\</span>///<br>/<span class="hljs-symbol">\\</span><span class="hljs-symbol">\\</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>æ ·ä¾‹çš„è¾“å…¥å¯¹åº”äºé¢˜ç›®æè¿°ä¸­çš„æƒ…å†µã€‚</p><p>åªéœ€è¦æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼æ—‹è½¬æ ‡å‡†ä»¶ï¼Œå°±å¯ä»¥ä½¿å¾—ç”µæºå’Œå‘åŠ¨æœºä¹‹é—´è¿é€šã€‚</p><p><img src="https://www.acwing.com/media/article/image/2019/01/16/19_a0e8e80a19-%E7%94%B5%E8%B7%AF2.png" alt="ç”µè·¯2.png"></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> ix[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> iy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;<br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">char</span> g[N][N];<br><span class="hljs-keyword">int</span> dist[N][N];<br><span class="hljs-keyword">char</span> cs[<span class="hljs-number">5</span>] = <span class="hljs-string">&quot;/\\/\\&quot;</span>;<br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>    <br>    dist[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <br>    deque&lt;PII&gt; q;<br>    <br>    q.<span class="hljs-built_in">push_front</span>(&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;);<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop_front</span>();<br>       <br>        <span class="hljs-keyword">if</span> (st[a.x][a.y]) <span class="hljs-keyword">continue</span>;<br>        st[a.x][a.y] = <span class="hljs-literal">true</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = a.x + dx4[i], ay = a.y + dy4[i];<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">0</span> || ax &gt; n || ay &lt; <span class="hljs-number">0</span> || ay &gt; m) <span class="hljs-keyword">continue</span>;<br>            <br>            <span class="hljs-keyword">int</span> flag = (cs[i] != g[a.x + ix[i]][a.y + iy[i]]);<br>            <span class="hljs-keyword">int</span> d = dist[a.x][a.y] + flag;<br>            <br>            <span class="hljs-keyword">if</span> (d &lt; dist[ax][ay])<br>            &#123;            <br>                <span class="hljs-keyword">if</span> (!flag)<br>                &#123;<br>                    dist[ax][ay] = d;<br>                    q.<span class="hljs-built_in">push_front</span>(&#123;ax, ay&#125;);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <br>                &#123;<br>                    dist[ax][ay] = d;<br>                    q.<span class="hljs-built_in">push_back</span>(&#123;ax, ay&#125;);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> dist[n][m];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        cin &gt;&gt; n &gt;&gt; m;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>                cin &gt;&gt; g[i][j];<br>        <br>        <span class="hljs-keyword">if</span> (n + m &amp; <span class="hljs-number">1</span>) cout &lt;&lt; <span class="hljs-string">&quot;NO SOLUTION&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            cout &lt;&lt; <span class="hljs-built_in">bfs</span>() &lt;&lt; endl;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="åŒå‘bfs"><a href="#åŒå‘bfs" class="headerlink" title="åŒå‘bfs"></a>åŒå‘bfs</h2><h3 id="ä¾‹é¢˜ï¼š-3"><a href="#ä¾‹é¢˜ï¼š-3" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>å·²çŸ¥æœ‰ä¸¤ä¸ªå­—ä¸² A, B åŠä¸€ç»„å­—ä¸²å˜æ¢çš„è§„åˆ™ï¼ˆè‡³å¤š 6 ä¸ªè§„åˆ™ï¼‰:</p><p>A1â†’B1</p><p>A2â†’B2</p><p>â€¦</p><p>è§„åˆ™çš„å«ä¹‰ä¸ºï¼šåœ¨ A ä¸­çš„å­ä¸² A1 å¯ä»¥å˜æ¢ä¸º B1ã€A2 å¯ä»¥å˜æ¢ä¸º B2â€¦ã€‚</p><p>ä¾‹å¦‚ï¼šAï¼<code>abcd</code> Bï¼<code>xyz</code></p><p>å˜æ¢è§„åˆ™ä¸ºï¼š</p><figure class="highlight autohotkey"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs autohotkey">abc` â†’â†’ `xu` `ud` â†’â†’ `y` `y` â†’â†’ `yz<br></code></pre></div></td></tr></table></figure><p>åˆ™æ­¤æ—¶ï¼ŒAA å¯ä»¥ç»è¿‡ä¸€ç³»åˆ—çš„å˜æ¢å˜ä¸º Bï¼Œå…¶å˜æ¢çš„è¿‡ç¨‹ä¸ºï¼š</p><figure class="highlight autohotkey"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs autohotkey">abcd` â†’â†’ `xud` â†’â†’ `xy` â†’â†’ `xyz<br></code></pre></div></td></tr></table></figure><p>å…±è¿›è¡Œäº†ä¸‰æ¬¡å˜æ¢ï¼Œä½¿å¾— A å˜æ¢ä¸º Bã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ ¼å¼å¦‚ä¸‹ï¼š</p><p>A B<br>A1 B1<br>A2 B2<br>â€¦ â€¦</p><p>ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªç»™å®šçš„å­—ç¬¦ä¸² A å’Œ Bã€‚</p><p>æ¥ä¸‹æ¥è‹¥å¹²è¡Œï¼Œæ¯è¡Œæè¿°ä¸€ç»„å­—ä¸²å˜æ¢çš„è§„åˆ™ã€‚</p><p>æ‰€æœ‰å­—ç¬¦ä¸²é•¿åº¦çš„ä¸Šé™ä¸º 20ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è‹¥åœ¨ 10 æ­¥ï¼ˆåŒ…å« 10 æ­¥ï¼‰ä»¥å†…èƒ½å°† A å˜æ¢ä¸º B ï¼Œåˆ™è¾“å‡ºæœ€å°‘çš„å˜æ¢æ­¥æ•°ï¼›å¦åˆ™è¾“å‡º <code>NO ANSWER!</code>ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">abcd xyz<br><span class="hljs-keyword">abc</span> <span class="hljs-keyword">xu</span><br>ud <span class="hljs-keyword">y</span><br><span class="hljs-keyword">y</span> yz<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-comment">//const int N = , M = ;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><span class="hljs-keyword">int</span> dx4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;, dy4[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">// å³ä¸Šåˆ°å·¦ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br>string a[<span class="hljs-number">7</span>], b[<span class="hljs-number">7</span>];<br><br>unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; da, db;<br><br>string bg, en;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">extend</span><span class="hljs-params">(queue&lt;string&gt; &amp;q, </span></span><br><span class="hljs-params"><span class="hljs-function">unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; &amp;da, unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; &amp;db, </span></span><br><span class="hljs-params"><span class="hljs-function">string a[<span class="hljs-number">7</span>], string b[<span class="hljs-number">7</span>])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> d = da[q.<span class="hljs-built_in">front</span>()];<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>() &amp;&amp; da[q.<span class="hljs-built_in">front</span>()] == d)<br>    &#123;<br>        <span class="hljs-keyword">auto</span> t = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; t.<span class="hljs-built_in">size</span>(); j ++ )<br>                <span class="hljs-keyword">if</span> (t.<span class="hljs-built_in">substr</span>(j, a[i].<span class="hljs-built_in">size</span>()) == a[i])<br>                &#123;<br>                    string r = t.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, j) + b[i] + t.<span class="hljs-built_in">substr</span>(j + a[i].<span class="hljs-built_in">size</span>());<br>                    <br>                    <span class="hljs-keyword">if</span> (db.<span class="hljs-built_in">count</span>(r)) <span class="hljs-keyword">return</span> db[r] + da[t] + <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span> (da.<span class="hljs-built_in">count</span>(r)) <span class="hljs-keyword">continue</span>;<br>                    da[r] = da[t] + <span class="hljs-number">1</span>;<br>                    q.<span class="hljs-built_in">push</span>(r);<br>                &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> INF;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (bg == en) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>    queue&lt;string&gt; qa, qb;<br>    <br>    qa.<span class="hljs-built_in">push</span>(bg); da[bg] = <span class="hljs-number">0</span>;<br>    qb.<span class="hljs-built_in">push</span>(en); db[en] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">int</span> step = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (qa.<span class="hljs-built_in">size</span>() &amp;&amp; qb.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">int</span> t;<br>        <br>        <span class="hljs-keyword">if</span> (qa.<span class="hljs-built_in">size</span>() &lt;= qb.<span class="hljs-built_in">size</span>()) t = <span class="hljs-built_in">extend</span>(qa, da, db, a, b);<br>        <span class="hljs-keyword">else</span> t = <span class="hljs-built_in">extend</span>(qb, db, da, b, a);<br>        <br>        <span class="hljs-keyword">if</span> (t &lt;= <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> t;<br>        <span class="hljs-keyword">if</span> ( ++ step &gt;= <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; bg &gt;&gt; en;<br>    <br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; a[n] &gt;&gt; b[n]) n ++ ;<br>    <br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">bfs</span>();<br>    <br>    <span class="hljs-keyword">if</span> (!(~t)) cout &lt;&lt; <span class="hljs-string">&quot;NO ANSWER!&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœç´¢ä¹‹è¿é€šå—æ¨¡å‹</title>
    <link href="/posts/2151964234.html"/>
    <url>/posts/2151964234.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡è®²è¿°æœç´¢ï¼ˆdfs, bfsï¼‰ä¸­çš„è¿é€šå—æ¨¡å‹</p><p>ä¸€èˆ¬çš„è¿é€šå—æ¨¡å‹dfså’Œbfséƒ½å¯åšï¼Œè¿™æ—¶å¤§å®¶å°±è¦è€ƒè™‘åˆ°å„æ–¹é¢çš„å› ç´ é€‰æ‹©é€‚åˆçš„èµ°æ³•</p><ul><li>dfs<ul><li>å¥½å†™</li><li>å®¹æ˜“çˆ†æ ˆï¼ˆæœ‰è¢«å¡çš„é£é™©ï¼‰</li></ul></li><li>bfs<ul><li>ä¸ªäººè®¤ä¸ºä»£ç é‡æ¯”dfså¤§</li><li>å› ä¸ºæ˜¯è¿­ä»£æ–¹æ³•ä¸ä¼šçˆ†æ ˆ</li><li>æœ‰æ‰©å±•ç”¨æ³•ï¼ˆæœ€çŸ­è·¯ç­‰ï¼Œä¹‹åä¼šè¿›è¡Œä»‹ç»ï¼‰</li></ul></li></ul><hr><h1 id="æœç´¢ï¼ˆ1ï¼‰"><a href="#æœç´¢ï¼ˆ1ï¼‰" class="headerlink" title="æœç´¢ï¼ˆ1ï¼‰"></a>æœç´¢ï¼ˆ1ï¼‰</h1><h2 id="bfsä¸­çš„è¿é€šå—æ¨¡å‹"><a href="#bfsä¸­çš„è¿é€šå—æ¨¡å‹" class="headerlink" title="bfsä¸­çš„è¿é€šå—æ¨¡å‹"></a>bfsä¸­çš„è¿é€šå—æ¨¡å‹</h2><p>åœ¨ä¸šå†…æˆ‘ä»¬ç®¡bfsçš„è¿é€šå—æ¨¡å‹å«åš<strong>flood fill</strong>æ¨¡å‹ï¼ˆæ´ªæ°´æ³›æ»¥æ¨¡å‹ï¼‰</p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>å†œå¤«çº¦ç¿°æœ‰ä¸€ç‰‡ Nâˆ—M çš„çŸ©å½¢åœŸåœ°ã€‚</p><p>æœ€è¿‘ï¼Œç”±äºé™é›¨çš„åŸå› ï¼Œéƒ¨åˆ†åœŸåœ°è¢«æ°´æ·¹æ²¡äº†ã€‚</p><p>ç°åœ¨ç”¨ä¸€ä¸ªå­—ç¬¦çŸ©é˜µæ¥è¡¨ç¤ºä»–çš„åœŸåœ°ã€‚</p><p>æ¯ä¸ªå•å…ƒæ ¼å†…ï¼Œå¦‚æœåŒ…å«é›¨æ°´ï¼Œåˆ™ç”¨â€Wâ€è¡¨ç¤ºï¼Œå¦‚æœä¸å«é›¨æ°´ï¼Œåˆ™ç”¨â€.â€è¡¨ç¤ºã€‚</p><p>ç°åœ¨ï¼Œçº¦ç¿°æƒ³çŸ¥é“ä»–çš„åœŸåœ°ä¸­å½¢æˆäº†å¤šå°‘ç‰‡æ± å¡˜ã€‚</p><p>æ¯ç»„ç›¸è¿çš„ç§¯æ°´å•å…ƒæ ¼é›†åˆå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç‰‡æ± å¡˜ã€‚</p><p>æ¯ä¸ªå•å…ƒæ ¼è§†ä¸ºä¸å…¶ä¸Šã€ä¸‹ã€å·¦ã€å³ã€å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹å…«ä¸ªé‚»è¿‘å•å…ƒæ ¼ç›¸è¿ã€‚</p><p>è¯·ä½ è¾“å‡ºå…±æœ‰å¤šå°‘ç‰‡æ± å¡˜ï¼Œå³çŸ©é˜µä¸­å…±æœ‰å¤šå°‘ç‰‡ç›¸è¿çš„â€Wâ€å—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å« M ä¸ªå­—ç¬¦ï¼Œå­—ç¬¦ä¸ºâ€Wâ€æˆ–â€.â€ï¼Œç”¨ä»¥è¡¨ç¤ºçŸ©å½¢åœŸåœ°çš„ç§¯æ°´çŠ¶å†µï¼Œå­—ç¬¦ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ± å¡˜æ•°ç›®ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Mâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-number">10</span> <span class="hljs-number">12</span><br>W.......<span class="hljs-selector-class">.WW</span>.<br><span class="hljs-selector-class">.WWW</span>....<span class="hljs-selector-class">.WWW</span><br>...<span class="hljs-selector-class">.WW</span>..<span class="hljs-selector-class">.WW</span>.<br>........<span class="hljs-selector-class">.WW</span>.<br>........<span class="hljs-selector-class">.W</span>..<br>.<span class="hljs-selector-class">.W</span>.....<span class="hljs-selector-class">.W</span>..<br><span class="hljs-selector-class">.W</span><span class="hljs-selector-class">.W</span>....<span class="hljs-selector-class">.WW</span>.<br>W<span class="hljs-selector-class">.W</span><span class="hljs-selector-class">.W</span>....<span class="hljs-selector-class">.W</span>.<br><span class="hljs-selector-class">.W</span><span class="hljs-selector-class">.W</span>.....<span class="hljs-selector-class">.W</span>.<br>.<span class="hljs-selector-class">.W</span>......<span class="hljs-selector-class">.W</span>.<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">char</span> g[N][N];<br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(PII bg)</span></span><br><span class="hljs-function"></span>&#123;<br>    queue&lt;PII&gt; q;<br>    q.<span class="hljs-built_in">push</span>(&#123;bg&#125;);<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">if</span> (st[a.x][a.y]) <span class="hljs-keyword">continue</span>;<br>        st[a.x][a.y] = <span class="hljs-literal">true</span>;<br>        <br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = a.x + dx2[i], ay = a.y + dy2[i];<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt;= <span class="hljs-number">0</span> || ax &gt; n || ay &lt;= <span class="hljs-number">0</span> || ay &gt; m) <span class="hljs-keyword">continue</span>;<br>            <br>            <span class="hljs-keyword">if</span> (g[ax][ay] == <span class="hljs-string">&#x27;W&#x27;</span>) q.<span class="hljs-built_in">push</span>(&#123;ax, ay&#125;);<br>        &#125;<br>    &#125;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; g[i] + <span class="hljs-number">1</span>;<br>  <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            <span class="hljs-keyword">if</span> (!st[i][j] &amp;&amp; g[i][j] == <span class="hljs-string">&#x27;W&#x27;</span>) <span class="hljs-built_in">bfs</span>(&#123;i, j&#125;), ans ++ ;<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="dfsä¸­çš„è¿é€šå—æ¨¡å‹ï¼š"><a href="#dfsä¸­çš„è¿é€šå—æ¨¡å‹ï¼š" class="headerlink" title="dfsä¸­çš„è¿é€šå—æ¨¡å‹ï¼š"></a>dfsä¸­çš„è¿é€šå—æ¨¡å‹ï¼š</h2><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜:"></a>ä¾‹é¢˜:</h3><blockquote><p>ä¸€å¤©Extenseåœ¨æ£®æ—é‡Œæ¢é™©çš„æ—¶å€™ä¸å°å¿ƒèµ°å…¥äº†ä¸€ä¸ªè¿·å®«ï¼Œè¿·å®«å¯ä»¥çœ‹æˆæ˜¯ç”± nâˆ—n çš„æ ¼ç‚¹ç»„æˆï¼Œæ¯ä¸ªæ ¼ç‚¹åªæœ‰2ç§çŠ¶æ€ï¼Œ<code>.</code>å’Œ<code>#</code>ï¼Œå‰è€…è¡¨ç¤ºå¯ä»¥é€šè¡Œåè€…è¡¨ç¤ºä¸èƒ½é€šè¡Œã€‚</p><p>åŒæ—¶å½“Extenseå¤„åœ¨æŸä¸ªæ ¼ç‚¹æ—¶ï¼Œä»–åªèƒ½ç§»åŠ¨åˆ°ä¸œå—è¥¿åŒ—(æˆ–è€…è¯´ä¸Šä¸‹å·¦å³)å››ä¸ªæ–¹å‘ä¹‹ä¸€çš„ç›¸é‚»æ ¼ç‚¹ä¸Šï¼ŒExtenseæƒ³è¦ä»ç‚¹Aèµ°åˆ°ç‚¹Bï¼Œé—®åœ¨ä¸èµ°å‡ºè¿·å®«çš„æƒ…å†µä¸‹èƒ½ä¸èƒ½åŠåˆ°ã€‚</p><p>å¦‚æœèµ·ç‚¹æˆ–è€…ç»ˆç‚¹æœ‰ä¸€ä¸ªä¸èƒ½é€šè¡Œ(ä¸º#)ï¼Œåˆ™çœ‹æˆæ— æ³•åŠåˆ°ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šAã€Bä¸ä¸€å®šæ˜¯ä¸¤ä¸ªä¸åŒçš„ç‚¹ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬1è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•° kï¼Œåé¢è·Ÿç€ k ç»„è¾“å…¥ã€‚</p><p>æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬1è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¡¨ç¤ºè¿·å®«çš„è§„æ¨¡æ˜¯ nâˆ—n çš„ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ª nâˆ—n çš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„å…ƒç´ ä¸º<code>.</code>æˆ–è€…<code>#</code>ã€‚</p><p>å†æ¥ä¸‹æ¥ä¸€è¡Œæ˜¯ 4 ä¸ªæ•´æ•° ha,la,hb,lbï¼Œæè¿° A å¤„åœ¨ç¬¬ ha è¡Œ, ç¬¬ la åˆ—ï¼ŒB å¤„åœ¨ç¬¬ hb è¡Œ, ç¬¬ lb åˆ—ã€‚</p><p>æ³¨æ„åˆ° ha,la,hb,lb å…¨éƒ¨æ˜¯ä» 0 å¼€å§‹è®¡æ•°çš„ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>kè¡Œï¼Œæ¯è¡Œè¾“å‡ºå¯¹åº”ä¸€ä¸ªè¾“å…¥ã€‚</p><p>èƒ½åŠåˆ°åˆ™è¾“å‡ºâ€œYESâ€ï¼Œå¦åˆ™è¾“å‡ºâ€œNOâ€ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight clean"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs clean"><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br>.##<br>..#<br>#..<br><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br><span class="hljs-number">5</span><br>.....<br>###.#<br>..#..<br>###..<br>...#.<br><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">4</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹"><a href="#è¾“å‡ºæ ·ä¾‹" class="headerlink" title="è¾“å‡ºæ ·ä¾‹:"></a>è¾“å‡ºæ ·ä¾‹:</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">YES</span><br><span class="hljs-keyword">NO</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">char</span> g[N][N];<br><br>PII bg, en;<br><br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>    <br>    queue&lt;PII&gt; q;<br>    <br>    q.<span class="hljs-built_in">push</span>(bg);<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">if</span> (a == en) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <br>        <span class="hljs-keyword">if</span> (st[a.x][a.y]) <span class="hljs-keyword">continue</span>;<br>        st[a.x][a.y] = <span class="hljs-literal">true</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = a.x + dx1[i], ay = a.y + dy1[i];<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">0</span> || ax &gt;= n || ay &lt; <span class="hljs-number">0</span> || ay &gt;= n || g[ax][ay] == <span class="hljs-string">&#x27;#&#x27;</span>) <span class="hljs-keyword">continue</span>;<br>            <br>            q.<span class="hljs-built_in">push</span>(&#123;ax, ay&#125;);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        cin &gt;&gt; n;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>            cin &gt;&gt; g[i];<br>            <br>        cin &gt;&gt; bg.x &gt;&gt; bg.y &gt;&gt; en.x &gt;&gt; en.y;<br>        <br>        <span class="hljs-keyword">if</span> (g[bg.x][bg.y] == <span class="hljs-string">&#x27;#&#x27;</span> || g[en.x][en.y] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>        &#123;<br>            cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bfs</span>()) cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><HR><h1 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h1><h3 id="T1-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š"><a href="#T1-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š" class="headerlink" title="T1: (ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)"></a>T1: (ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)</h3><blockquote><figure class="highlight clean"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs clean">   <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>  <br>  #############################<br><span class="hljs-number">1</span> #   |   #   |   #   |   |   #<br>  #####---#####---#---#####---#<br><span class="hljs-number">2</span> #   #   |   #   #   #   #   #<br>  #---#####---#####---#####---#<br><span class="hljs-number">3</span> #   |   |   #   #   #   #   #<br>  #---#########---#####---#---#<br><span class="hljs-number">4</span> #   #   |   |   |   |   #   #<br>  #############################<br>          (å›¾ <span class="hljs-number">1</span>)<br><br>  #  = Wall   <br>  |  = No wall<br>  -  = No wall<br><br>  æ–¹å‘ï¼šä¸ŠåŒ—ä¸‹å—å·¦è¥¿å³ä¸œã€‚<br></code></pre></div></td></tr></table></figure><p>å›¾1æ˜¯ä¸€ä¸ªåŸå ¡çš„åœ°å½¢å›¾ã€‚</p><p>è¯·ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—åŸå ¡ä¸€å…±æœ‰å¤šå°‘æˆ¿é—´ï¼Œæœ€å¤§çš„æˆ¿é—´æœ‰å¤šå¤§ã€‚</p><p>åŸå ¡è¢«åˆ†å‰²æˆ mâˆ—nä¸ªæ–¹æ ¼åŒºåŸŸï¼Œæ¯ä¸ªæ–¹æ ¼åŒºåŸŸå¯ä»¥æœ‰0~4é¢å¢™ã€‚</p><p>æ³¨æ„ï¼šå¢™ä½“åšåº¦å¿½ç•¥ä¸è®¡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° m å’Œ nï¼Œåˆ†åˆ«è¡¨ç¤ºåŸå ¡å—åŒ—æ–¹å‘çš„é•¿åº¦å’Œä¸œè¥¿æ–¹å‘çš„é•¿åº¦ã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°éƒ½è¡¨ç¤ºå¹³é¢å›¾å¯¹åº”ä½ç½®çš„æ–¹å—çš„å¢™çš„ç‰¹å¾ã€‚</p><p>æ¯ä¸ªæ–¹å—ä¸­å¢™çš„ç‰¹å¾ç”±æ•°å­— PP æ¥æè¿°ï¼Œæˆ‘ä»¬ç”¨1è¡¨ç¤ºè¥¿å¢™ï¼Œ2è¡¨ç¤ºåŒ—å¢™ï¼Œ4è¡¨ç¤ºä¸œå¢™ï¼Œ8è¡¨ç¤ºå—å¢™ï¼ŒP ä¸ºè¯¥æ–¹å—åŒ…å«å¢™çš„æ•°å­—ä¹‹å’Œã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæ–¹å—çš„ P ä¸º3ï¼Œåˆ™ 3 = 1 + 2ï¼Œè¯¥æ–¹å—åŒ…å«è¥¿å¢™å’ŒåŒ—å¢™ã€‚</p><p>åŸå ¡çš„å†…å¢™è¢«è®¡ç®—ä¸¤æ¬¡ï¼Œæ–¹å—(1,1)çš„å—å¢™åŒæ—¶ä¹Ÿæ˜¯æ–¹å—(2,1)çš„åŒ—å¢™ã€‚</p><p>è¾“å…¥çš„æ•°æ®ä¿è¯åŸå ¡è‡³å°‘æœ‰ä¸¤ä¸ªæˆ¿é—´ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œè¾“å‡ºæˆ¿é—´æ€»æ•°ï¼Œç¬¬äºŒè¡Œè¾“å‡ºæœ€å¤§æˆ¿é—´çš„é¢ç§¯ï¼ˆæ–¹å—æ•°ï¼‰ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤m,nâ‰¤50<br>0â‰¤Pâ‰¤15</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">7</span> <br><span class="hljs-symbol">11 </span><span class="hljs-number">6</span> <span class="hljs-number">11</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">10</span> <span class="hljs-number">6</span> <br><span class="hljs-symbol">7 </span><span class="hljs-number">9</span> <span class="hljs-number">6</span> <span class="hljs-number">13</span> <span class="hljs-number">5</span> <span class="hljs-number">15</span> <span class="hljs-number">5</span> <br><span class="hljs-symbol">1 </span><span class="hljs-number">10</span> <span class="hljs-number">12</span> <span class="hljs-number">7</span> <span class="hljs-number">13</span> <span class="hljs-number">7</span> <span class="hljs-number">5</span> <br><span class="hljs-symbol">13 </span><span class="hljs-number">11</span> <span class="hljs-number">10</span> <span class="hljs-number">8</span> <span class="hljs-number">10</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span> <br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">5<br>9<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">55</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans, maxv;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">int</span> g[N][N];<br><br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (g[x][y] &gt;&gt; i &amp; <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;<br>        <br>        <span class="hljs-keyword">int</span> ax = x + dx1[i], ay = y + dy1[i];<br>        <br>        <span class="hljs-keyword">if</span> (st[ax][ay]) <span class="hljs-keyword">continue</span>;<br>        <br>        st[ax][ay] = <span class="hljs-literal">true</span>;<br>        res += <span class="hljs-built_in">dfs</span>(ax, ay);<br>        <br>    &#125;<br>     <br>    <span class="hljs-keyword">return</span> res + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>            cin &gt;&gt; g[i][j];<br>            <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!st[i][j])<br>            &#123;<br>                st[i][j] = <span class="hljs-literal">true</span>;<br>                maxv = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">dfs</span>(i, j), maxv);<br>                ans ++ ;<br>            &#125; <br>        &#125;<br>    cout &lt;&lt; ans &lt;&lt; endl &lt;&lt; maxv &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T2-POI2007-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š"><a href="#T2-POI2007-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š" class="headerlink" title="T2: (POI2007,  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)"></a>T2: (POI2007,  ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)</h3><blockquote><p>é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/953/G">https://ac.nowcoder.com/acm/contest/953/G</a><br>æ¥æºï¼šç‰›å®¢ç½‘</p><p>ç»™å®šä¸€ä¸ªnÃ—nçš„ç½‘æ ¼çŠ¶åœ°å›¾ï¼Œæ¯ä¸ªæ–¹æ ¼(i,j)æœ‰ä¸€ä¸ªé«˜åº¦wijã€‚å¦‚æœä¸¤ä¸ªæ–¹æ ¼æœ‰å…¬å…±é¡¶ç‚¹ï¼Œåˆ™å®ƒä»¬æ˜¯ç›¸é‚»çš„ã€‚<br> å®šä¹‰å±±å³°å’Œå±±è°·å¦‚ä¸‹ï¼š</p><ul><li><p>â€‹    å‡ç”±åœ°å›¾ä¸Šçš„ä¸€ä¸ªè¿é€šå—ç»„æˆï¼›   </p></li><li><p>â€‹    æ‰€æœ‰æ–¹æ ¼é«˜åº¦éƒ½ç›¸åŒï¼›   </p></li><li><p>â€‹    å‘¨å›´çš„æ–¹æ ¼ï¼ˆå³ä¸å±äºå±±å³°æˆ–å±±è°·ä½†ä¸å±±å³°æˆ–å±±è°·ç›¸é‚»çš„æ ¼å­ï¼‰é«˜åº¦å‡å¤§äºå±±è°·çš„é«˜åº¦ï¼Œæˆ–å°äºå±±å³°çš„é«˜åº¦ã€‚   </p><p>æ±‚åœ°å›¾å†…å±±å³°å’Œå±±è°·çš„æ•°é‡ã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœæ•´ä¸ªåœ°å›¾æ–¹æ ¼çš„é«˜åº¦å‡ç›¸åŒï¼Œåˆ™æ•´ä¸ªåœ°å›¾æ—¢æ˜¯ä¸€ä¸ªå±±è°·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå±±å³°ã€‚ </p></li></ul><h2 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h2><figure class="highlight excel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs excel">ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° <span class="hljs-built_in">n</span>ï¼Œè¡¨ç¤ºåœ°å›¾çš„å¤§å°ã€‚<br><br>æ¥ä¸‹æ¥ä¸€ä¸ª <span class="hljs-built_in">n</span>Ã—<span class="hljs-built_in">n</span> çš„çŸ©é˜µï¼Œè¡¨ç¤ºåœ°å›¾ä¸Šæ¯ä¸ªæ ¼å­çš„é«˜åº¦ wã€‚<br></code></pre></div></td></tr></table></figure><h2 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h2><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå±±å³°å’Œå±±è°·çš„æ•°é‡ã€‚<br></code></pre></div></td></tr></table></figure><p>ç¤ºä¾‹1</p><h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">7</span> <span class="hljs-number">7</span> <span class="hljs-number">7</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure><h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><p>ç¤ºä¾‹2</p><h2 id="è¾“å…¥-1"><a href="#è¾“å…¥-1" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">6</span> <span class="hljs-number">6</span> <span class="hljs-number">2</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">7</span><br></code></pre></div></td></tr></table></figure><h2 id="è¾“å‡º-1"><a href="#è¾“å‡º-1" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-keyword">int</span> high_cnt, low_cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(PII bg, <span class="hljs-keyword">bool</span> &amp;hl, <span class="hljs-keyword">bool</span> &amp;hh)</span></span><br><span class="hljs-function"></span>&#123;<br>    queue&lt;PII&gt; q;<br>    q.<span class="hljs-built_in">push</span>(bg);<br>    st[bg.x][bg.y] = <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>(); q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> ax = dx2[i] + a.x, ay = dy2[i] + a.y;<br>            <br>            <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">1</span> || ax &gt; n || ay &lt; <span class="hljs-number">1</span> || ay &gt; n) <span class="hljs-keyword">continue</span>;<br>            <br>            <span class="hljs-keyword">if</span> (g[ax][ay] != g[a.x][a.y])<br>            &#123;<br>                <span class="hljs-keyword">if</span> (g[ax][ay] &gt; g[a.x][a.y]) hh = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span> (g[ax][ay] &lt; g[a.x][a.y]) hl = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <br>            &#123;<br>                <span class="hljs-keyword">if</span> (st[ax][ay]) <span class="hljs-keyword">continue</span>;<br>                q.<span class="hljs-built_in">push</span>(&#123;ax, ay&#125;);<br>                st[ax][ay] = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>            cin &gt;&gt; g[i][j];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (st[i][j]) <span class="hljs-keyword">continue</span>;<br>            <br>            <span class="hljs-keyword">bool</span> has_low = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">bool</span> has_high = <span class="hljs-literal">false</span>;<br>            <br>            <span class="hljs-built_in">bfs</span>(&#123;i, j&#125;, has_low, has_high);<br>            <br>            <span class="hljs-keyword">if</span> (!has_low) low_cnt ++ ;<br>            <span class="hljs-keyword">if</span> (!has_high) high_cnt ++ ;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; high_cnt &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; low_cnt &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T3ï¼š-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š"><a href="#T3ï¼š-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š" class="headerlink" title="T3ï¼š(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)"></a>T3ï¼š(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)</h3><blockquote><p>æœ‰ä¸€é—´é•¿æ–¹å½¢çš„æˆ¿å­ï¼Œåœ°ä¸Šé“ºäº†çº¢è‰²ã€é»‘è‰²ä¸¤ç§é¢œè‰²çš„æ­£æ–¹å½¢ç“·ç –ã€‚</p><p>ä½ ç«™åœ¨å…¶ä¸­ä¸€å—é»‘è‰²çš„ç“·ç –ä¸Šï¼Œåªèƒ½å‘ç›¸é‚»ï¼ˆä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ï¼‰çš„é»‘è‰²ç“·ç –ç§»åŠ¨ã€‚</p><p>è¯·å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—ä½ æ€»å…±èƒ½å¤Ÿåˆ°è¾¾å¤šå°‘å—é»‘è‰²çš„ç“·ç –ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…æ‹¬å¤šä¸ªæ•°æ®é›†åˆã€‚</p><p>æ¯ä¸ªæ•°æ®é›†åˆçš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•° W å’Œ Hï¼Œåˆ†åˆ«è¡¨ç¤º x æ–¹å‘å’Œ y æ–¹å‘ç“·ç –çš„æ•°é‡ã€‚</p><p>åœ¨æ¥ä¸‹æ¥çš„ H è¡Œä¸­ï¼Œæ¯è¡ŒåŒ…æ‹¬ W ä¸ªå­—ç¬¦ã€‚æ¯ä¸ªå­—ç¬¦è¡¨ç¤ºä¸€å—ç“·ç –çš„é¢œè‰²ï¼Œè§„åˆ™å¦‚ä¸‹</p><p>1ï¼‰â€˜.â€™ï¼šé»‘è‰²çš„ç“·ç –ï¼›<br>2ï¼‰â€˜#â€™ï¼šçº¢è‰²çš„ç“·ç –ï¼›<br>3ï¼‰â€˜@â€™ï¼šé»‘è‰²çš„ç“·ç –ï¼Œå¹¶ä¸”ä½ ç«™åœ¨è¿™å—ç“·ç –ä¸Šã€‚è¯¥å­—ç¬¦åœ¨æ¯ä¸ªæ•°æ®é›†åˆä¸­å”¯ä¸€å‡ºç°ä¸€æ¬¡ã€‚</p><p>å½“åœ¨ä¸€è¡Œä¸­è¯»å…¥çš„æ˜¯ä¸¤ä¸ªé›¶æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹æ¯ä¸ªæ•°æ®é›†åˆï¼Œåˆ†åˆ«è¾“å‡ºä¸€è¡Œï¼Œæ˜¾ç¤ºä½ ä»åˆå§‹ä½ç½®å‡ºå‘èƒ½åˆ°è¾¾çš„ç“·ç –æ•°(è®°æ•°æ—¶åŒ…æ‹¬åˆå§‹ä½ç½®çš„ç“·ç –)ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤W,Hâ‰¤20</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jboss-cli">6 9 <br><span class="hljs-string">....</span><span class="hljs-comment">#. </span><br><span class="hljs-string">.....</span><span class="hljs-comment"># </span><br><span class="hljs-string">......</span> <br><span class="hljs-string">......</span> <br><span class="hljs-string">......</span> <br><span class="hljs-string">......</span> <br><span class="hljs-string">......</span> <br><span class="hljs-comment">#@...# </span><br>.<span class="hljs-comment">#..#. </span><br>0 0<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">45<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">25</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(LL x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) cout &lt;&lt;  &lt;&lt; &#x27; &#x27;;cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-keyword">char</span> g[N][N];<br>PII bg;<br><br><span class="hljs-keyword">bool</span> st[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>; <br>    <span class="hljs-keyword">if</span> (st[x][y]) <span class="hljs-keyword">return</span> res;<br>    st[x][y] = <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> ax = x + dx1[i], ay = y + dy1[i];<br>        <br>        <span class="hljs-keyword">if</span> (ax &lt; <span class="hljs-number">1</span> || ax &gt; n || ay &lt; <span class="hljs-number">1</span> || ay &gt; m || g[ax][ay] == <span class="hljs-string">&#x27;#&#x27;</span>) <span class="hljs-keyword">continue</span>;<br>        res += <span class="hljs-built_in">dfs</span>(ax, ay);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res + <span class="hljs-number">1</span>;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; m &gt;&gt; n, n || m)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            &#123;<br>                cin &gt;&gt; g[i][j];<br>                <br>                <span class="hljs-keyword">char</span> c = g[i][j];<br>                <br>                <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;@&#x27;</span>) bg = &#123;i , j&#125;;<br>            &#125;<br>            <br>            <br>        cout &lt;&lt; <span class="hljs-built_in">dfs</span>(bg.x, bg.y) &lt;&lt; endl;<br>    &#125;   <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒºé—´dp</title>
    <link href="/posts/3429216537.html"/>
    <url>/posts/3429216537.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†è®²è¿°åœ¨dpä¸­çš„åŒºé—´dp</p><span id="more"></span><h2 id="åŒºé—´dp"><a href="#åŒºé—´dp" class="headerlink" title="åŒºé—´dp"></a>åŒºé—´dp</h2><p><strong>ä¸€èˆ¬ç”¨ä½œåŒºé—´çš„åˆå¹¶ä½¿ç”¨åŒºé—´dp</strong></p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><blockquote><p>è®¾æœ‰ NN å †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º 1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN</p><p>æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°æ¥æè¿°ï¼Œç°åœ¨è¦å°†è¿™ NN å †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ã€‚</p><p>æ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å †ï¼Œåˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œï¼Œåˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚»ï¼Œåˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒã€‚</p><p>ä¾‹å¦‚æœ‰ 4 å †çŸ³å­åˆ†åˆ«ä¸º <code>1 3 5 2</code>ï¼Œ æˆ‘ä»¬å¯ä»¥å…ˆåˆå¹¶ 1ã€2å †ï¼Œä»£ä»·ä¸º 4ï¼Œå¾—åˆ° <code>4 5 2</code>ï¼Œ åˆåˆå¹¶ 1ï¼Œ2 å †ï¼Œä»£ä»·ä¸º 9ï¼Œå¾—åˆ° <code>9 2</code> ï¼Œå†åˆå¹¶å¾—åˆ° 11ï¼Œæ€»ä»£ä»·ä¸º 4+9+11=24</p><p>å¦‚æœç¬¬äºŒæ­¥æ˜¯å…ˆåˆå¹¶ 2ï¼Œ3 å †ï¼Œåˆ™ä»£ä»·ä¸º 77ï¼Œå¾—åˆ° <code>4 7</code>ï¼Œæœ€åä¸€æ¬¡åˆå¹¶ä»£ä»·ä¸º 11ï¼Œæ€»ä»£ä»·ä¸º 4+7+11=22</p><p>é—®é¢˜æ˜¯ï¼šæ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œè¾“å‡ºæœ€å°ä»£ä»·ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•° N è¡¨ç¤ºçŸ³å­çš„å †æ•° Nã€‚</p><p>ç¬¬äºŒè¡Œ N ä¸ªæ•°ï¼Œè¡¨ç¤ºæ¯å †çŸ³å­çš„è´¨é‡(å‡ä¸è¶…è¿‡ 1000)ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°ä»£ä»·ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤300</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">22<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">310</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><span class="hljs-keyword">int</span> s[N];<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// æ‰©å±•æ¬§å‡ é‡Œå¾—</span><br><span class="hljs-comment">//int exgcd(int a, int b, int &amp;x, int &amp;y)&#123;if (b == 0)&#123;x = 1, y = 0;return a;&#125;int d = exgcd(b, a % b, y, x);y -= a / b * x;return d;&#125;</span><br><br><span class="hljs-comment">// KMP</span><br><span class="hljs-comment">// char s1[N], s2[M];</span><br><span class="hljs-comment">// int ne[N];</span><br><span class="hljs-comment">// void kmp()</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// for (int i = 2, j = 0; i &lt;= n; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s1[i]) j = ne[j]; if (s1[j + 1] == s1[i]) j ++ ;ne[i] = j;&#125;</span><br><span class="hljs-comment">// for (int i = 1, j = 0; i &lt;= m; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s2[i]) j = ne[j];if (s1[j + 1] == s2[i]) j ++ ;if (j == n)&#123;cout &lt;&lt; i - n &lt;&lt; &#x27; &#x27;;j = ne[j];&#125;&#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, );&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, );cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; s[i], s[i] += s[i - <span class="hljs-number">1</span>];<br><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> len = <span class="hljs-number">2</span>; len &lt;= n; len ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i + len - <span class="hljs-number">1</span> &lt;= n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = i + len - <span class="hljs-number">1</span>;<br>            f[i][j] = INF;<br>            <br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = i; k &lt; j; k ++ )<br>            &#123;<br>                f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[i][k] + f[k + <span class="hljs-number">1</span>][j] + s[j] - s[i - <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[<span class="hljs-number">1</span>][n] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h2><h3 id="T1ï¼šï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"><a href="#T1ï¼šï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰" class="headerlink" title="T1ï¼šï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"></a>T1ï¼šï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰</h3><blockquote><p>å°† nn å †çŸ³å­ç»•åœ†å½¢æ“åœºæ’æ”¾ï¼Œç°è¦å°†çŸ³å­æœ‰åºåœ°åˆå¹¶æˆä¸€å †ã€‚</p><p>è§„å®šæ¯æ¬¡åªèƒ½é€‰ç›¸é‚»çš„ä¸¤å †åˆå¹¶æˆæ–°çš„ä¸€å †ï¼Œå¹¶å°†æ–°çš„ä¸€å †çš„çŸ³å­æ•°è®°åšè¯¥æ¬¡åˆå¹¶çš„å¾—åˆ†ã€‚</p><p>è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè¯»å…¥å †æ•° n åŠæ¯å †çš„çŸ³å­æ•°ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹è®¡ç®—ï¼š</p><ul><li>é€‰æ‹©ä¸€ç§åˆå¹¶çŸ³å­çš„æ–¹æ¡ˆï¼Œä½¿å¾—åš nâˆ’1 æ¬¡åˆå¹¶å¾—åˆ†æ€»å’Œæœ€å¤§ã€‚</li><li>é€‰æ‹©ä¸€ç§åˆå¹¶çŸ³å­çš„æ–¹æ¡ˆï¼Œä½¿å¾—åš nâˆ’1 æ¬¡åˆå¹¶å¾—åˆ†æ€»å’Œæœ€å°ã€‚</li></ul><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºå…±æœ‰ n å †çŸ³å­ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯å †çŸ³å­çš„æ•°é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…±ä¸¤è¡Œï¼š</p><p>ç¬¬ä¸€è¡Œä¸ºåˆå¹¶å¾—åˆ†æ€»å’Œæœ€å°å€¼ï¼Œ</p><p>ç¬¬äºŒè¡Œä¸ºåˆå¹¶å¾—åˆ†æ€»å’Œæœ€å¤§å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤200</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">9</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">43<br>54<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">210</span> * <span class="hljs-number">2</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k, ans1 = -INF, ans2 = INF;<br><br><span class="hljs-keyword">int</span> ma[N][N];<br><span class="hljs-keyword">int</span> mi[N][N];<br><span class="hljs-keyword">int</span> w[N];<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// æ‰©å±•æ¬§å‡ é‡Œå¾—</span><br><span class="hljs-comment">//int exgcd(int a, int b, int &amp;x, int &amp;y)&#123;if (b == 0)&#123;x = 1, y = 0;return a;&#125;int d = exgcd(b, a % b, y, x);y -= a / b * x;return d;&#125;</span><br><br><span class="hljs-comment">// KMP</span><br><span class="hljs-comment">// char s1[N], s2[M];</span><br><span class="hljs-comment">// int ne[N];</span><br><span class="hljs-comment">// void kmp()</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// for (int i = 2, j = 0; i &lt;= n; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s1[i]) j = ne[j]; if (s1[j + 1] == s1[i]) j ++ ;ne[i] = j;&#125;</span><br><span class="hljs-comment">// for (int i = 1, j = 0; i &lt;= m; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s2[i]) j = ne[j];if (s1[j + 1] == s2[i]) j ++ ;if (j == n)&#123;cout &lt;&lt; i - n &lt;&lt; &#x27; &#x27;;j = ne[j];&#125;&#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, );&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, );cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        cin &gt;&gt; w[i];<br>        w[i + n] = w[i];<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n &lt;&lt; <span class="hljs-number">1</span>; i ++ ) w[i] += w[i - <span class="hljs-number">1</span>];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> len = <span class="hljs-number">2</span>; len &lt;= n; len ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i + len - <span class="hljs-number">1</span> &lt;= n &lt;&lt; <span class="hljs-number">1</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = i + len - <span class="hljs-number">1</span>;<br>            mi[i][j] = INF;<br>            ma[i][j] = -INF;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = i; k &lt; j; k ++ )<br>            &#123;<br>                ma[i][j] = <span class="hljs-built_in">max</span>(ma[i][j], ma[i][k] + ma[k + <span class="hljs-number">1</span>][j] + w[j] - w[i - <span class="hljs-number">1</span>]);<br>                mi[i][j] = <span class="hljs-built_in">min</span>(mi[i][j], mi[i][k] + mi[k + <span class="hljs-number">1</span>][j] + w[j] - w[i - <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        ans1 = <span class="hljs-built_in">max</span>(ans1, ma[i][i + n - <span class="hljs-number">1</span>]);<br>        ans2 = <span class="hljs-built_in">min</span>(ans2, mi[i][i + n - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <br>    cout &lt;&lt; ans2 &lt;&lt; endl &lt;&lt; ans1 &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘å½¢dp</title>
    <link href="/posts/893939070.html"/>
    <url>/posts/893939070.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†è®²è¿°åœ¨dpä¸­æ¯”è¾ƒéš¾çš„partâ€“æ ‘å½¢dp</p><span id="more"></span><h1 id="æ ‘å½¢dp"><a href="#æ ‘å½¢dp" class="headerlink" title="æ ‘å½¢dp"></a>æ ‘å½¢dp</h1><p><strong>ä¸ºä»€ä¹ˆå«æ ‘å½¢dpå‘¢ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯åœ¨æ ‘ä¸­è¿›è¡Œé€’æ¨ï¼Œæ‰€ä»¥å–åå«æ ‘å½¢dpã€‚</strong></p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><p>çœ‹ä¸€é“åœ¨æ ‘å½¢dpä¸­æœ€ä¸ºç»å…¸çš„ä¸€é“ä¾‹é¢˜æŠŠï¼š</p><blockquote><p>Ural å¤§å­¦æœ‰ N åèŒå‘˜ï¼Œç¼–å·ä¸º 1âˆ¼Nã€‚</p><p>ä»–ä»¬çš„å…³ç³»å°±åƒä¸€æ£µä»¥æ ¡é•¿ä¸ºæ ¹çš„æ ‘ï¼Œçˆ¶èŠ‚ç‚¹å°±æ˜¯å­èŠ‚ç‚¹çš„ç›´æ¥ä¸Šå¸ã€‚</p><p>æ¯ä¸ªèŒå‘˜æœ‰ä¸€ä¸ªå¿«ä¹æŒ‡æ•°ï¼Œç”¨æ•´æ•° Hi ç»™å‡ºï¼Œå…¶ä¸­ 1â‰¤iâ‰¤Nã€‚</p><p>ç°åœ¨è¦å¬å¼€ä¸€åœºå‘¨å¹´åº†å®´ä¼šï¼Œä¸è¿‡ï¼Œæ²¡æœ‰èŒå‘˜æ„¿æ„å’Œç›´æ¥ä¸Šå¸ä¸€èµ·å‚ä¼šã€‚</p><p>åœ¨æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å‰æä¸‹ï¼Œä¸»åŠæ–¹å¸Œæœ›é‚€è¯·ä¸€éƒ¨åˆ†èŒå‘˜å‚ä¼šï¼Œä½¿å¾—æ‰€æœ‰å‚ä¼šèŒå‘˜çš„å¿«ä¹æŒ‡æ•°æ€»å’Œæœ€å¤§ï¼Œæ±‚è¿™ä¸ªæœ€å¤§å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° Nã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œç¬¬ i è¡Œè¡¨ç¤º ii å·èŒå‘˜çš„å¿«ä¹æŒ‡æ•° Hiã€‚</p><p>æ¥ä¸‹æ¥ Nâˆ’1 è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€å¯¹æ•´æ•° L,Kï¼Œè¡¨ç¤º K æ˜¯ L çš„ç›´æ¥ä¸Šå¸ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæœ€å¤§çš„å¿«ä¹æŒ‡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤6000<br>âˆ’128â‰¤Hiâ‰¤127</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">7</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">6010</span>, M = N;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><br><span class="hljs-keyword">int</span> happy[N];<br><span class="hljs-keyword">bool</span> has_fa[N];<br><br><span class="hljs-keyword">int</span> f[N][<span class="hljs-number">2</span>];<br><br><span class="hljs-keyword">int</span> h[N], e[M], w[M], ne[M], idx;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span>&#123;e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;=====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, );&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, );cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    f[u][<span class="hljs-number">1</span>] = happy[u];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <br>        <span class="hljs-built_in">dfs</span>(j);<br>        <br>        f[u][<span class="hljs-number">1</span>] += f[j][<span class="hljs-number">0</span>];<br>        f[u][<span class="hljs-number">0</span>] += <span class="hljs-built_in">max</span>(f[j][<span class="hljs-number">0</span>], f[j][<span class="hljs-number">1</span>]);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; happy[i];<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        <span class="hljs-built_in">add</span>(b, a);<br>        has_fa[a] = <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> root = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">while</span> (has_fa[root]) root ++ ;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; dfs(); &lt;&lt; endl;</span><br>    <span class="hljs-built_in">dfs</span>(root);<br>    <br>    cout &lt;&lt; <span class="hljs-built_in">max</span>(f[root][<span class="hljs-number">1</span>], f[root][<span class="hljs-number">0</span>]) &lt;&lt; endl;<br>    <br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><hr><h2 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜:"></a>ç»ƒä¹ é¢˜:</h2><h3 id="T1ï¼š"><a href="#T1ï¼š" class="headerlink" title="T1ï¼š"></a>T1ï¼š</h3><blockquote><p>ç»™å®šä¸€æ£µæ ‘ï¼Œæ ‘ä¸­åŒ…å« nn ä¸ªç»“ç‚¹ï¼ˆç¼–å·11~nnï¼‰å’Œ nâˆ’1nâˆ’1 æ¡æ— å‘è¾¹ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ã€‚</p><p>ç°åœ¨è¯·ä½ æ‰¾åˆ°æ ‘ä¸­çš„ä¸€æ¡æœ€é•¿è·¯å¾„ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œè¦æ‰¾åˆ°ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—ä½¿å¾—è·¯å¾„ä¸¤ç«¯çš„ç‚¹çš„è·ç¦»æœ€è¿œã€‚</p><p>æ³¨æ„ï¼šè·¯å¾„ä¸­å¯ä»¥åªåŒ…å«ä¸€ä¸ªç‚¹ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nnã€‚</p><p>æ¥ä¸‹æ¥ nâˆ’1nâˆ’1 è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° ai,bi,ciai,bi,ciï¼Œè¡¨ç¤ºç‚¹ aiai å’Œ bibi ä¹‹é—´å­˜åœ¨ä¸€æ¡æƒå€¼ä¸º cici çš„è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ ‘çš„æœ€é•¿è·¯å¾„çš„é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10000<br>1â‰¤ai,biâ‰¤n<br>âˆ’10^5â‰¤ciâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">6</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">1</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">6</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">1</span> <span class="hljs-number">7</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">22<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e4</span> + <span class="hljs-number">10</span>, M = N &lt;&lt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><span class="hljs-keyword">int</span> ans, maxv;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-keyword">int</span> h[N], e[M], w[M], ne[M], idx;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span>&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;<br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// æ‰©å±•æ¬§å‡ é‡Œå¾—</span><br><span class="hljs-comment">//int exgcd(int a, int b, int &amp;x, int &amp;y)&#123;if (b == 0)&#123;x = 1, y = 0;return a;&#125;int d = exgcd(b, a % b, y, x);y -= a / b * x;return d;&#125;</span><br><br><span class="hljs-comment">// KMP</span><br><span class="hljs-comment">// char s1[N], s2[M];</span><br><span class="hljs-comment">// int ne[N];</span><br><span class="hljs-comment">// void kmp()</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// for (int i = 2, j = 0; i &lt;= n; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s1[i]) j = ne[j]; if (s1[j + 1] == s1[i]) j ++ ;ne[i] = j;&#125;</span><br><span class="hljs-comment">// for (int i = 1, j = 0; i &lt;= m; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s2[i]) j = ne[j];if (s1[j + 1] == s2[i]) j ++ ;if (j == n)&#123;cout &lt;&lt; i - n &lt;&lt; &#x27; &#x27;;j = ne[j];&#125;&#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;=====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, );&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, );cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> d1 = <span class="hljs-number">0</span>, d2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// int dist = 0;</span><br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (j == fa) <span class="hljs-keyword">continue</span>;<br>        <br>        <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">dfs</span>(j, u) + w[i];<br>        <br>        <span class="hljs-comment">// dist = max(d, dist);</span><br>        <span class="hljs-keyword">if</span> (d &gt;= d1) d2 = d1, d1 = d;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d &gt;= d2) d2 = d;<br>    &#125;<br>    <br>    ans = <span class="hljs-built_in">max</span>(ans, d1 + d2);<br>    <br>    <span class="hljs-keyword">return</span> d1;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        <span class="hljs-built_in">add</span>(a, b, c), <span class="hljs-built_in">add</span>(b, a, c);<br>    &#125;<br>    <br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);<br>    <br>    cout &lt;&lt; ans &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T2"><a href="#T2" class="headerlink" title="T2:"></a>T2:</h3><blockquote><p>ç»™å®šä¸€æ£µæ ‘ï¼Œæ ‘ä¸­åŒ…å« n ä¸ªç»“ç‚¹ï¼ˆç¼–å·1~nï¼‰å’Œ nâˆ’1 æ¡æ— å‘è¾¹ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ã€‚</p><p>è¯·ä½ åœ¨æ ‘ä¸­æ‰¾åˆ°ä¸€ä¸ªç‚¹ï¼Œä½¿å¾—è¯¥ç‚¹åˆ°æ ‘ä¸­å…¶ä»–ç»“ç‚¹çš„æœ€è¿œè·ç¦»æœ€è¿‘ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nnã€‚</p><p>æ¥ä¸‹æ¥ nâˆ’1 è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° ai,bi,ciï¼Œè¡¨ç¤ºç‚¹ aiai å’Œ bibi ä¹‹é—´å­˜åœ¨ä¸€æ¡æƒå€¼ä¸º ci çš„è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚ç‚¹åˆ°æ ‘ä¸­å…¶ä»–ç»“ç‚¹çš„æœ€è¿œè·ç¦»ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10000<br>1â‰¤ai,biâ‰¤n<br>1â‰¤ciâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt;5 <br>2<span class="hljs-number"> 1 </span>1 <br>&gt;3<span class="hljs-number"> 2 </span>1 <br>4<span class="hljs-number"> 3 </span>1 <br>5<span class="hljs-number"> 1 </span>1<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-comment">// #define lc (u &lt;&lt; 1)</span><br><span class="hljs-comment">// #define rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-comment">// #define fa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10010</span>, M = N &lt;&lt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dx1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy1[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä¸Šå³ä¸‹å·¦</span><br><span class="hljs-keyword">int</span> dx2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy2[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//ä»å·¦ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="hljs-keyword">int</span> dx3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>&#125;, dy3[<span class="hljs-number">8</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-1</span>&#125;;  <span class="hljs-comment">//æ—¥å­—ï¼Œä»å³ä¸Šé¡ºæ—¶é’ˆ</span><br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><br><span class="hljs-comment">//é‚»æ¥è¡¨</span><br><span class="hljs-keyword">int</span> h[N], e[M], w[M], ne[M], d1[N], d2[N], p[N], up[N], idx;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span>&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;<br><br><span class="hljs-comment">// æ¬§æ‹‰ç­›</span><br><span class="hljs-comment">//int primes[N], cnt;</span><br><span class="hljs-comment">// bool st[N];</span><br><span class="hljs-comment">// void get_primes(int n)&#123;for (int i = 2; i &lt;= n; i ++ )&#123;if (!st[i]) primes[cnt ++ ] = i;for (int j = 0; primes[j] &lt;= n / i; j ++ )&#123;st[primes[j] * i] = true;if (i % primes[j] == 0) break;&#125;&#125;&#125;</span><br><br><span class="hljs-comment">// æ‰©å±•æ¬§å‡ é‡Œå¾—</span><br><span class="hljs-comment">//int exgcd(int a, int b, int &amp;x, int &amp;y)&#123;if (b == 0)&#123;x = 1, y = 0;return a;&#125;int d = exgcd(b, a % b, y, x);y -= a / b * x;return d;&#125;</span><br><br><span class="hljs-comment">// KMP</span><br><span class="hljs-comment">// char s1[N], s2[M];</span><br><span class="hljs-comment">// int ne[N];</span><br><span class="hljs-comment">// void kmp()</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// for (int i = 2, j = 0; i &lt;= n; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s1[i]) j = ne[j]; if (s1[j + 1] == s1[i]) j ++ ;ne[i] = j;&#125;</span><br><span class="hljs-comment">// for (int i = 1, j = 0; i &lt;= m; i ++ )&#123;while (j &amp;&amp; s1[j + 1] != s2[i]) j = ne[j];if (s1[j + 1] == s2[i]) j ++ ;if (j == n)&#123;cout &lt;&lt; i - n &lt;&lt; &#x27; &#x27;;j = ne[j];&#125;&#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// å¹¶æŸ¥é›†</span><br><span class="hljs-comment">// int p[N];</span><br><span class="hljs-comment">// int find(int x)&#123;if (x != p[x]) p[x] = find(p[x]);return p[x];&#125;</span><br><span class="hljs-comment">// void init()&#123;for (int i = 1; i &lt;= n; i ++ ) p[i] = i;&#125;</span><br><br><span class="hljs-comment">// åŒºé—´åˆå¹¶</span><br><span class="hljs-comment">// void merge(vector&lt;PII&gt; &amp;segs)&#123;vector&lt;PII&gt; res;sort(segs.begin(), segs.end());int st = -2e9, ed = -2e9;for (auto seg : segs)if (ed &lt; seg.first)&#123;if (st != -2e9) res.push_back(&#123;st, ed&#125;);st = seg.first, ed = seg.second;&#125;else ed = max(ed, seg.second);if (st != -2e9) res.push_back(&#123;st, ed&#125;);segs = res;&#125; </span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span>&#123;<span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;a %= p;<span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;a = (LL)a * a % p;b &gt;&gt;= <span class="hljs-number">1</span>;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doMod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> (x % mod + mod) % mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a,LL b)</span> </span>&#123;<span class="hljs-keyword">return</span> b?<span class="hljs-built_in">gcd</span>(b,a%b):a;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; endl;&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">debug3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span>&#123;cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;====&quot;</span> &lt;&lt; z &lt;&lt; endl;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, );&#125;cout &lt;&lt; endl;&#125;</span><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, );cout&lt;&lt;endl;&#125;cout&lt;&lt;endl;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs_d</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> dist = <span class="hljs-number">0</span>;<br>    d1[u] = d2[u] = -INF;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i ; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (j == fa) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">dfs_d</span>(j, u) + w[i];<br>        <br>        <span class="hljs-keyword">if</span> (d &gt;= d1[u])<br>        &#123;<br>            d2[u] = d1[u];<br>            d1[u] = d;<br>            p[u] = j;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d &gt;= d2[u]) d2[u] = d;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (d1[u] == -INF)<br>    &#123;<br>        d1[u] = d2[u] = <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> d1[u];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs_u</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> fa)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (j == fa) <span class="hljs-keyword">continue</span>;<br>        <br>        <span class="hljs-keyword">if</span> (p[u] != j) up[j] = <span class="hljs-built_in">max</span>(up[u], d1[u]) + w[i];<br>        <span class="hljs-keyword">else</span> up[j] = <span class="hljs-built_in">max</span>(d2[u], up[u]) + w[i];<br>        <br>        <span class="hljs-built_in">dfs_u</span>(j, u);<br>        <br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        <span class="hljs-built_in">add</span>(a, b, c), <span class="hljs-built_in">add</span>(b, a, c);<br>    &#125;<br>    <br>    <span class="hljs-built_in">dfs_d</span>(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);<br>    <span class="hljs-built_in">dfs_u</span>(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);<br>    <br>    <span class="hljs-keyword">int</span> res = d1[<span class="hljs-number">1</span>];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>    &#123;<br>        res = <span class="hljs-built_in">min</span>(res, <span class="hljs-built_in">max</span>(up[i], d1[i]));<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T3-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š"><a href="#T3-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š" class="headerlink" title="T3:(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)"></a>T3:(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)</h3><blockquote><p>æœ‰ä¸€æ£µäºŒå‰è‹¹æœæ ‘ï¼Œå¦‚æœæ ‘ææœ‰åˆ†å‰ï¼Œä¸€å®šæ˜¯åˆ†ä¸¤å‰ï¼Œå³æ²¡æœ‰åªæœ‰ä¸€ä¸ªå„¿å­çš„èŠ‚ç‚¹ã€‚</p><p>è¿™æ£µæ ‘å…± N ä¸ªèŠ‚ç‚¹ï¼Œç¼–å·ä¸º 1 è‡³ Nï¼Œæ ‘æ ¹ç¼–å·ä¸€å®šä¸º 1ã€‚</p><p>æˆ‘ä»¬ç”¨ä¸€æ ¹æ ‘æä¸¤ç«¯è¿æ¥çš„èŠ‚ç‚¹ç¼–å·æè¿°ä¸€æ ¹æ ‘æçš„ä½ç½®ã€‚</p><p>ä¸€æ£µè‹¹æœæ ‘çš„æ ‘æå¤ªå¤šäº†ï¼Œéœ€è¦å‰ªæã€‚ä½†æ˜¯ä¸€äº›æ ‘æä¸Šé•¿æœ‰è‹¹æœï¼Œç»™å®šéœ€è¦ä¿ç•™çš„æ ‘ææ•°é‡ï¼Œæ±‚æœ€å¤šèƒ½ç•™ä½å¤šå°‘è‹¹æœã€‚</p><p>è¿™é‡Œçš„ä¿ç•™æ˜¯æŒ‡æœ€ç»ˆä¸1å·ç‚¹è¿é€šã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Qï¼Œåˆ†åˆ«è¡¨ç¤ºæ ‘çš„èŠ‚ç‚¹æ•°ä»¥åŠè¦ä¿ç•™çš„æ ‘ææ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ Nâˆ’1 è¡Œæè¿°æ ‘æä¿¡æ¯ï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•°ï¼Œå‰ä¸¤ä¸ªæ˜¯å®ƒè¿æ¥çš„èŠ‚ç‚¹çš„ç¼–å·ï¼Œç¬¬ä¸‰ä¸ªæ•°æ˜¯è¿™æ ¹æ ‘æä¸Šè‹¹æœæ•°é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä»…ä¸€è¡Œï¼Œè¡¨ç¤ºæœ€å¤šèƒ½ç•™ä½çš„è‹¹æœçš„æ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Q&lt;Nâ‰¤100<br>Nâ‰ 1Nâ‰ 1,<br>æ¯æ ¹æ ‘æä¸Šè‹¹æœä¸è¶…è¿‡ 30000 ä¸ªã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">10</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">20</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">5</span> <span class="hljs-number">20</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">21<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, M = N * <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> h[N], e[M], w[M], ne[M], idx;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> father)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">if</span> (e[i] == father) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-built_in">dfs</span>(e[i], u);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j; j -- )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k + <span class="hljs-number">1</span> &lt;= j; k ++ )<br>                f[u][j] = <span class="hljs-built_in">max</span>(f[u][j], f[u][j - k - <span class="hljs-number">1</span>] + f[e[i]][k] + w[i]);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c);<br>        <span class="hljs-built_in">add</span>(a, b, c), <span class="hljs-built_in">add</span>(b, a, c);<br>    &#125;<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, f[<span class="hljs-number">1</span>][m]);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T4ï¼šï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"><a href="#T4ï¼šï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰" class="headerlink" title="T4ï¼šï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"></a>T4ï¼šï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰</h3><blockquote><p>å¦‚æœä¸€ä¸ªæ•° x çš„çº¦æ•°ä¹‹å’Œ yï¼ˆä¸åŒ…æ‹¬ä»–æœ¬èº«ï¼‰æ¯”ä»–æœ¬èº«å°ï¼Œé‚£ä¹ˆ x å¯ä»¥å˜æˆ yï¼Œy ä¹Ÿå¯ä»¥å˜æˆ xã€‚</p><p>ä¾‹å¦‚ï¼Œ4 å¯ä»¥å˜ä¸º 3ï¼Œ1 å¯ä»¥å˜ä¸º 7ã€‚</p><p>é™å®šæ‰€æœ‰æ•°å­—å˜æ¢åœ¨ä¸è¶…è¿‡ nn çš„æ­£æ•´æ•°èŒƒå›´å†…è¿›è¡Œï¼Œæ±‚ä¸æ–­è¿›è¡Œæ•°å­—å˜æ¢ä¸”ä¸å‡ºç°é‡å¤æ•°å­—çš„æœ€å¤šå˜æ¢æ­¥æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸æ–­è¿›è¡Œæ•°å­—å˜æ¢ä¸”ä¸å‡ºç°é‡å¤æ•°å­—çš„æœ€å¤šå˜æ¢æ­¥æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤50000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">7<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>ä¸€ç§æ–¹æ¡ˆä¸ºï¼š4â†’3â†’1â†’7ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">50010</span>, M = N;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> h[N], e[M], w[M], ne[M], idx;<br><span class="hljs-keyword">int</span> sum[N];<br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> ans;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    st[u] = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">int</span> dist = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> d1 = <span class="hljs-number">0</span>, d2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>       <span class="hljs-keyword">int</span> j = e[i];<br>       <span class="hljs-keyword">if</span> (!st[j])<br>       &#123;<br>           <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">dfs</span>(j);<br>           dist = <span class="hljs-built_in">max</span>(dist, d);<br>           <span class="hljs-keyword">if</span> (d &gt;= d1) d2 = d1, d1 = d;<br>           <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d &gt; d2) d2 = d;<br>       &#125;<br>    &#125;<br><br>    ans = <span class="hljs-built_in">max</span>(ans, d1 + d2);<br><br>    <span class="hljs-keyword">return</span> dist + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= n / i; j ++ )<br>            sum[i * j] += i;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">if</span> (sum[i] &lt; i)<br>            <span class="hljs-built_in">add</span>(sum[i], i);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">if</span> (!st[i])<br>            <span class="hljs-built_in">dfs</span>(i);<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŠ¶æ€å‹ç¼©æ¨¡å‹dp</title>
    <link href="/posts/2881330887.html"/>
    <url>/posts/2881330887.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°çŠ¶æ€å‹ç¼©æ¨¡å‹çš„dp</p><span id="more"></span><h1 id="çŠ¶æ€å‹ç¼©dp"><a href="#çŠ¶æ€å‹ç¼©dp" class="headerlink" title="çŠ¶æ€å‹ç¼©dp"></a>çŠ¶æ€å‹ç¼©dp</h1><p><strong>çŠ¶æ€å‹ç¼©å®è´¨ä¸Šå°±æ˜¯æŠŠå½“å‰çš„çŠ¶æ€ç”¨2è¿›åˆ¶çš„01ä¸²æ¥è¡¨ç¤º</strong></p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><h3 id="è¿é€šæ€§æ–¹æ ¼ç±»çŠ¶æ€å‹ç¼©ï¼š"><a href="#è¿é€šæ€§æ–¹æ ¼ç±»çŠ¶æ€å‹ç¼©ï¼š" class="headerlink" title="è¿é€šæ€§æ–¹æ ¼ç±»çŠ¶æ€å‹ç¼©ï¼š"></a>è¿é€šæ€§æ–¹æ ¼ç±»çŠ¶æ€å‹ç¼©ï¼š</h3><blockquote><p>æ±‚æŠŠ NÃ—M çš„æ£‹ç›˜åˆ†å‰²æˆè‹¥å¹²ä¸ª 1Ã—21Ã—2 çš„çš„é•¿æ–¹å½¢ï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚</p><p>ä¾‹å¦‚å½“ N=2ï¼ŒM=4 æ—¶ï¼Œå…±æœ‰ 5 ç§æ–¹æ¡ˆã€‚å½“ N=2ï¼ŒM=3 æ—¶ï¼Œå…±æœ‰ 3 ç§æ–¹æ¡ˆã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://www.acwing.com/media/article/image/2019/01/26/19_4dd1644c20-2411_1.jpg" alt="2411_1.jpg"></p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>æ¯ç»„æµ‹è¯•ç”¨ä¾‹å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mã€‚</p><p>å½“è¾“å…¥ç”¨ä¾‹ N=0ï¼ŒM=0æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ï¼Œä¸”è¯¥ç”¨ä¾‹æ— éœ€å¤„ç†ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Mâ‰¤11</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">11</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">11</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br>0<br>1<br>2<br>3<br>5<br>144<br>51205<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">12</span>, M = (<span class="hljs-number">1</span> &lt;&lt; N);<br><br>LL f[N][M];<br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; state[M];<br><span class="hljs-keyword">bool</span> st[M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n, m;<br>    <br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n &gt;&gt; m, n || m)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; (<span class="hljs-number">1</span> &lt;&lt; n); i ++ )<br>        &#123;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>            <br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>            &#123;<br>                <span class="hljs-keyword">if</span> ((i &gt;&gt; j) &amp; <span class="hljs-number">1</span>)<br>                &#123;<br>                    <span class="hljs-keyword">if</span> (cnt &amp; <span class="hljs-number">1</span>)<br>                    &#123;<br>                        flag = <span class="hljs-literal">false</span>;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                    cnt = <span class="hljs-number">0</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> cnt ++ ;<br>            &#125;<br>            <br>            <span class="hljs-keyword">if</span> (cnt &amp; <span class="hljs-number">1</span>) flag = <span class="hljs-literal">false</span>;<br>            <br>            st[i] = flag;<br>        &#125;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; (<span class="hljs-number">1</span> &lt;&lt; n); i ++ )<br>        &#123;<br>            state[i].<span class="hljs-built_in">clear</span>();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; (<span class="hljs-number">1</span> &lt;&lt; n); j ++ )<br>                <span class="hljs-keyword">if</span> (!(i &amp; j) &amp;&amp; st[i | j])<br>state[i].<span class="hljs-built_in">push_back</span>(j);<br>        &#125;<br>        <br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> f);<br>        <br>        f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; (<span class="hljs-number">1</span> &lt;&lt; n); j ++ )<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> k : state[j])<br>                    f[i][j] += f[i - <span class="hljs-number">1</span>][k];<br><br>        <br>        cout &lt;&lt; f[m][<span class="hljs-number">0</span>] &lt;&lt; endl;<br>        <br>        <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é›†åˆç±»çŠ¶æ€å‹ç¼©ï¼š"><a href="#é›†åˆç±»çŠ¶æ€å‹ç¼©ï¼š" class="headerlink" title="é›†åˆç±»çŠ¶æ€å‹ç¼©ï¼š"></a>é›†åˆç±»çŠ¶æ€å‹ç¼©ï¼š</h3><blockquote><p>ç»™å®šä¸€å¼  n ä¸ªç‚¹çš„å¸¦æƒæ— å‘å›¾ï¼Œç‚¹ä» 0âˆ¼nâˆ’1 æ ‡å·ï¼Œæ±‚èµ·ç‚¹ 00 åˆ°ç»ˆç‚¹ nâˆ’1 çš„æœ€çŸ­ Hamilton è·¯å¾„ã€‚</p><p>Hamilton è·¯å¾„çš„å®šä¹‰æ˜¯ä» 0 åˆ° nâˆ’1 ä¸é‡ä¸æ¼åœ°ç»è¿‡æ¯ä¸ªç‚¹æ°å¥½ä¸€æ¬¡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œæ¯è¡Œ n ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i è¡Œç¬¬ j ä¸ªæ•´æ•°è¡¨ç¤ºç‚¹ i åˆ° j çš„è·ç¦»ï¼ˆè®°ä¸º a[i,j]ï¼‰ã€‚</p><p>å¯¹äºä»»æ„çš„ x,y,zï¼Œæ•°æ®ä¿è¯ a[x,x]=0ï¼Œa[x,y]=a[y,x]å¹¶ä¸” a[x,y]+a[y,z]â‰¥a[x,z]</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€çŸ­ Hamilton è·¯å¾„çš„é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤20<br>0â‰¤a[i,j]â‰¤10^7</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">0</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span> <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">5</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">18<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">20</span>, M = <span class="hljs-number">1</span> &lt;&lt; N;<br><br><span class="hljs-keyword">int</span> w[N][N], f[M][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>            cin &gt;&gt; w[i][j];<br>    <br>    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> f);<br>    <br>    f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!(i &gt;&gt; j &amp; <span class="hljs-number">1</span>)) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; n; k ++ )<br>            &#123;<br>                <span class="hljs-keyword">if</span> (!(i - (<span class="hljs-number">1</span> &lt;&lt; j) &gt;&gt; k &amp; <span class="hljs-number">1</span>)) <span class="hljs-keyword">continue</span>;<br>                f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[i - (<span class="hljs-number">1</span> &lt;&lt; j)][k] + w[k][j]);<br>            &#125;<br>        &#125;<br>    &#125;    <br>    <br>    cout &lt;&lt; f[(<span class="hljs-number">1</span> &lt;&lt; n) - <span class="hljs-number">1</span>][n - <span class="hljs-number">1</span>] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h2><h3 id="T1-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š-SGU223-SCOI2005ï¼‰"><a href="#T1-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š-SGU223-SCOI2005ï¼‰" class="headerlink" title="T1:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š, SGU223, SCOI2005ï¼‰"></a>T1:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š, SGU223, SCOI2005ï¼‰</h3><blockquote><p>åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šæ”¾ kk ä¸ªå›½ç‹ï¼Œå›½ç‹å¯æ”»å‡»ç›¸é‚»çš„ 8 ä¸ªæ ¼å­ï¼Œæ±‚ä½¿å®ƒä»¬æ— æ³•äº’ç›¸æ”»å‡»çš„æ–¹æ¡ˆæ€»æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ kã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè¡¨ç¤ºæ–¹æ¡ˆæ€»æ•°ï¼Œè‹¥ä¸èƒ½å¤Ÿæ”¾ç½®åˆ™è¾“å‡º0ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10<br>0â‰¤kâ‰¤n^2</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">16<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">12</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>;<br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; head[M];<br>vector&lt;<span class="hljs-keyword">int</span>&gt; state;<br><span class="hljs-keyword">int</span> cnt[M];<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> dp[N][N * N][M];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span>((x &gt;&gt; i &amp; <span class="hljs-number">1</span>) &amp;&amp; (x &gt;&gt; i + <span class="hljs-number">1</span> &amp; <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) res += (x &gt;&gt; i &amp; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(i)) <br>        &#123;<br>            state.<span class="hljs-built_in">push_back</span>(i);<br>            cnt[i] = <span class="hljs-built_in">count</span>(i);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; state.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> a = state[i];<br>            <span class="hljs-keyword">int</span> b = state[j];<br>            <span class="hljs-keyword">if</span> (!(a &amp; b) &amp;&amp; <span class="hljs-built_in">check</span>(a | b))<br>            &#123;<br>                head[i].<span class="hljs-built_in">push_back</span>(j);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= m; k ++ )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> a : head[j])<br>                &#123;<br>                    <span class="hljs-keyword">int</span> c = cnt[state[j]];<br>                    <span class="hljs-keyword">if</span>(k &gt;= c)<br>                    dp[i][k][j] += dp[i - <span class="hljs-number">1</span>][k - c][a];<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; dp[n + <span class="hljs-number">1</span>][m][<span class="hljs-number">0</span>] &lt;&lt; endl;    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T2-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"><a href="#T2-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰" class="headerlink" title="T2:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"></a>T2:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰</h3><blockquote><p>å†œå¤«çº¦ç¿°çš„åœŸåœ°ç”± MÃ—N ä¸ªå°æ–¹æ ¼ç»„æˆï¼Œç°åœ¨ä»–è¦åœ¨åœŸåœ°é‡Œç§æ¤ç‰ç±³ã€‚</p><p>éå¸¸é—æ†¾ï¼Œéƒ¨åˆ†åœŸåœ°æ˜¯ä¸è‚²çš„ï¼Œæ— æ³•ç§æ¤ã€‚</p><p>è€Œä¸”ï¼Œç›¸é‚»çš„åœŸåœ°ä¸èƒ½åŒæ—¶ç§æ¤ç‰ç±³ï¼Œä¹Ÿå°±æ˜¯è¯´ç§æ¤ç‰ç±³çš„æ‰€æœ‰æ–¹æ ¼ä¹‹é—´éƒ½ä¸ä¼šæœ‰å…¬å…±è¾¹ç¼˜ã€‚</p><p>ç°åœ¨ç»™å®šåœŸåœ°çš„å¤§å°ï¼Œè¯·ä½ æ±‚å‡ºå…±æœ‰å¤šå°‘ç§ç§æ¤æ–¹æ³•ã€‚</p><p>åœŸåœ°ä¸Šä»€ä¹ˆéƒ½ä¸ç§ä¹Ÿç®—ä¸€ç§æ–¹æ³•ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ 1 è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° M å’Œ Nã€‚</p><p>ç¬¬ 2..M+1 è¡Œï¼šæ¯è¡ŒåŒ…å« N ä¸ªæ•´æ•° 0 æˆ– 1ï¼Œç”¨æ¥æè¿°æ•´ä¸ªåœŸåœ°çš„çŠ¶å†µï¼Œ1 è¡¨ç¤ºè¯¥å—åœŸåœ°è‚¥æ²ƒï¼Œ0 è¡¨ç¤ºè¯¥å—åœŸåœ°ä¸è‚²ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ€»ç§æ¤æ–¹æ³•å¯¹ 10^8 å–æ¨¡åçš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤M,Nâ‰¤12</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">9<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">14</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">12</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e8</span>;<br><br><span class="hljs-keyword">int</span> g[N];<br>vector&lt;<span class="hljs-keyword">int</span>&gt; state;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; head[M];<br>LL dp[N][M];<br><br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> state)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> ((state &gt;&gt; i &amp; <span class="hljs-number">1</span>) &amp;&amp; (state &gt;&gt; (i + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) <br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> v;<br>            cin &gt;&gt; v;<br>            <span class="hljs-keyword">if</span> (!v)<br>            &#123;<br>                g[i] += (<span class="hljs-number">1</span> &lt;&lt; j);<br>            &#125;    <br>        &#125;<br>        <br>    &#125;<br>    <br>    <span class="hljs-comment">// for (int i = 1; i &lt;= n; i ++ ) cout &lt;&lt; g[i] &lt;&lt; endl; </span><br>    <br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; m; i ++ )<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(i)) state.<span class="hljs-built_in">push_back</span>(i);<br>        <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; state.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> a = state[i], b = state[j];<br>            <br>            <span class="hljs-keyword">if</span> (!(a &amp; b))<br>            &#123;<br>                head[i].<span class="hljs-built_in">push_back</span>(j);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!(state[j] &amp; g[i]))<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> a : head[j])<br>                &#123;<br>                    <span class="hljs-comment">// if (!(a &amp; g[i]))</span><br>                    dp[i][j] = (dp[i][j] + dp[i - <span class="hljs-number">1</span>][a]) % MOD;<br>                &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; dp[n + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>];<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T3-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-NOI2001ï¼‰"><a href="#T3-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-NOI2001ï¼‰" class="headerlink" title="T3:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—, NOI2001ï¼‰"></a>T3:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—, NOI2001ï¼‰</h3><blockquote><p>å¸ä»¤éƒ¨çš„å°†å†›ä»¬æ‰“ç®—åœ¨ NÃ—M çš„ç½‘æ ¼åœ°å›¾ä¸Šéƒ¨ç½²ä»–ä»¬çš„ç‚®å…µéƒ¨é˜Ÿã€‚</p><p>ä¸€ä¸ª NÃ—M çš„åœ°å›¾ç”± NN è¡Œ MM åˆ—ç»„æˆï¼Œåœ°å›¾çš„æ¯ä¸€æ ¼å¯èƒ½æ˜¯å±±åœ°ï¼ˆç”¨ <code>H</code> è¡¨ç¤ºï¼‰ï¼Œä¹Ÿå¯èƒ½æ˜¯å¹³åŸï¼ˆç”¨ <code>P</code> è¡¨ç¤ºï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚</p><p>åœ¨æ¯ä¸€æ ¼å¹³åŸåœ°å½¢ä¸Šæœ€å¤šå¯ä»¥å¸ƒç½®ä¸€æ”¯ç‚®å…µéƒ¨é˜Ÿï¼ˆå±±åœ°ä¸Šä¸èƒ½å¤Ÿéƒ¨ç½²ç‚®å…µéƒ¨é˜Ÿï¼‰ï¼›ä¸€æ”¯ç‚®å…µéƒ¨é˜Ÿåœ¨åœ°å›¾ä¸Šçš„æ”»å‡»èŒƒå›´å¦‚å›¾ä¸­é»‘è‰²åŒºåŸŸæ‰€ç¤ºï¼š</p><p><img src="https://www.acwing.com/media/article/image/2019/02/16/19_d512cdba31-1185_1.jpg" alt="1185_1.jpg"></p><p>å¦‚æœåœ¨åœ°å›¾ä¸­çš„ç°è‰²æ‰€æ ‡è¯†çš„å¹³åŸä¸Šéƒ¨ç½²ä¸€æ”¯ç‚®å…µéƒ¨é˜Ÿï¼Œåˆ™å›¾ä¸­çš„é»‘è‰²çš„ç½‘æ ¼è¡¨ç¤ºå®ƒèƒ½å¤Ÿæ”»å‡»åˆ°çš„åŒºåŸŸï¼šæ²¿æ¨ªå‘å·¦å³å„ä¸¤æ ¼ï¼Œæ²¿çºµå‘ä¸Šä¸‹å„ä¸¤æ ¼ã€‚</p><p>å›¾ä¸Šå…¶å®ƒç™½è‰²ç½‘æ ¼å‡æ”»å‡»ä¸åˆ°ã€‚</p><p>ä»å›¾ä¸Šå¯è§ç‚®å…µçš„æ”»å‡»èŒƒå›´ä¸å—åœ°å½¢çš„å½±å“ã€‚</p><p>ç°åœ¨ï¼Œå°†å†›ä»¬è§„åˆ’å¦‚ä½•éƒ¨ç½²ç‚®å…µéƒ¨é˜Ÿï¼Œåœ¨é˜²æ­¢è¯¯ä¼¤çš„å‰æä¸‹ï¼ˆä¿è¯ä»»ä½•ä¸¤æ”¯ç‚®å…µéƒ¨é˜Ÿä¹‹é—´ä¸èƒ½äº’ç›¸æ”»å‡»ï¼Œå³ä»»ä½•ä¸€æ”¯ç‚®å…µéƒ¨é˜Ÿéƒ½ä¸åœ¨å…¶ä»–æ”¯ç‚®å…µéƒ¨é˜Ÿçš„æ”»å‡»èŒƒå›´å†…ï¼‰ï¼Œåœ¨æ•´ä¸ªåœ°å›¾åŒºåŸŸå†…æœ€å¤šèƒ½å¤Ÿæ‘†æ”¾å¤šå°‘æˆ‘å†›çš„ç‚®å…µéƒ¨é˜Ÿã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªç”±ç©ºæ ¼åˆ†å‰²å¼€çš„æ­£æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º N å’Œ Mï¼›</p><p>æ¥ä¸‹æ¥çš„ N è¡Œï¼Œæ¯ä¸€è¡Œå«æœ‰è¿ç»­çš„ M ä¸ªå­—ç¬¦(<code>P</code> æˆ–è€… <code>H</code>)ï¼Œä¸­é—´æ²¡æœ‰ç©ºæ ¼ã€‚æŒ‰é¡ºåºè¡¨ç¤ºåœ°å›¾ä¸­æ¯ä¸€è¡Œçš„æ•°æ®ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Kï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æ‘†æ”¾çš„ç‚®å…µéƒ¨é˜Ÿçš„æ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>Nâ‰¤100,Mâ‰¤10</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">5</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">PHPP</span><br><span class="hljs-attribute">PPHH</span><br><span class="hljs-attribute">PPPP</span><br><span class="hljs-attribute">PHPP</span><br><span class="hljs-attribute">PHHP</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> g[N * N * N + <span class="hljs-number">10</span>];<br><span class="hljs-keyword">int</span> f[<span class="hljs-number">2</span>][M][M];<br>vector&lt;<span class="hljs-keyword">int</span>&gt; state;<br><span class="hljs-keyword">int</span> cnt[M];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> state)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m ; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> ((state &gt;&gt; i &amp; <span class="hljs-number">1</span>) &amp;&amp; ((state &gt;&gt; i + <span class="hljs-number">1</span> &amp; <span class="hljs-number">1</span>) || (state &gt;&gt; i + <span class="hljs-number">2</span> &amp; <span class="hljs-number">1</span>)))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-keyword">int</span> state)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ ) res += (state &gt;&gt; i &amp; <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>       cin &gt;&gt; n &gt;&gt; m;<br>       <br>       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">char</span> c;<br>            cin &gt;&gt; c;<br>            g[i] += (c == <span class="hljs-string">&#x27;H&#x27;</span>) &lt;&lt; j;<br>        &#125;<br>      <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; m; i ++ )<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(i))<br>        &#123;<br>            state.<span class="hljs-built_in">push_back</span>(i);<br>            cnt[i] = <span class="hljs-built_in">count</span>(i);<br>        &#125;<br>    <br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; state.<span class="hljs-built_in">size</span>(); k ++ )<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>; u &lt; state.<span class="hljs-built_in">size</span>(); u ++ )<br>                &#123;<br>                    <span class="hljs-keyword">int</span> a = state[j], b = state[k], c = state[u];<br>                    <span class="hljs-keyword">if</span> (a &amp; b | a &amp; c | b &amp; c) <span class="hljs-keyword">continue</span>;<br>                    <span class="hljs-keyword">if</span> (g[i] &amp; b | g[i - <span class="hljs-number">1</span>] &amp; a) <span class="hljs-keyword">continue</span>;<br>                    f[i &amp; <span class="hljs-number">1</span>][j][k] = <span class="hljs-built_in">max</span>(f[i &amp; <span class="hljs-number">1</span>][j][k], f[i - <span class="hljs-number">1</span> &amp; <span class="hljs-number">1</span>][u][j] + cnt[b]);<br>                &#125;<br><br>       <br>       <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; state.<span class="hljs-built_in">size</span>(); i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; state.<span class="hljs-built_in">size</span>(); j ++ )<br>            res = <span class="hljs-built_in">max</span>(res, f[n &amp; <span class="hljs-number">1</span>][i][j]);<br><br>    cout &lt;&lt; res &lt;&lt; endl;<br>       <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T4-ï¼ˆNOIP2016æé«˜ç»„ï¼‰"><a href="#T4-ï¼ˆNOIP2016æé«˜ç»„ï¼‰" class="headerlink" title="T4:ï¼ˆNOIP2016æé«˜ç»„ï¼‰"></a>T4:ï¼ˆNOIP2016æé«˜ç»„ï¼‰</h3><blockquote><p>Kiana æœ€è¿‘æ²‰è¿·äºä¸€æ¬¾ç¥å¥‡çš„æ¸¸æˆæ— æ³•è‡ªæ‹”ã€‚â€‚â€‚â€‚</p><p>ç®€å•æ¥è¯´ï¼Œè¿™æ¬¾æ¸¸æˆæ˜¯åœ¨ä¸€ä¸ªå¹³é¢ä¸Šè¿›è¡Œçš„ã€‚â€‚</p><p>æœ‰ä¸€æ¶å¼¹å¼“ä½äºâ€‚(0,0)(0,0)â€‚å¤„ï¼Œæ¯æ¬¡ Kiana å¯ä»¥ç”¨å®ƒå‘ç¬¬ä¸€è±¡é™å‘å°„ä¸€åªçº¢è‰²çš„å°é¸Ÿï¼Œâ€‚å°é¸Ÿä»¬çš„é£è¡Œè½¨è¿¹å‡ä¸ºå½¢å¦‚â€‚y=ax2+bxy=ax2+bxâ€‚çš„æ›²çº¿ï¼Œå…¶ä¸­â€‚a,ba,bâ€‚æ˜¯ Kiana æŒ‡å®šçš„å‚æ•°ï¼Œä¸”å¿…é¡»æ»¡è¶³â€‚a&lt;0a&lt;0ã€‚</p><p>å½“å°é¸Ÿè½å›åœ°é¢ï¼ˆå³â€‚xxâ€‚è½´ï¼‰æ—¶ï¼Œå®ƒå°±ä¼šç¬é—´æ¶ˆå¤±ã€‚</p><p>åœ¨æ¸¸æˆçš„æŸä¸ªå…³å¡é‡Œï¼Œå¹³é¢çš„ç¬¬ä¸€è±¡é™ä¸­æœ‰â€‚nnâ€‚åªç»¿è‰²çš„å°çŒªï¼Œå…¶ä¸­ç¬¬â€‚iiâ€‚åªå°çŒªæ‰€åœ¨çš„åæ ‡ä¸ºâ€‚(xi,yi)(xi,yi)ã€‚â€‚</p><p>å¦‚æœæŸåªå°é¸Ÿçš„é£è¡Œè½¨è¿¹ç»è¿‡äº†â€‚(xi,â€‚yi)(xi,â€‚yi)ï¼Œé‚£ä¹ˆç¬¬â€‚iiâ€‚åªå°çŒªå°±ä¼šè¢«æ¶ˆç­æ‰ï¼ŒåŒæ—¶å°é¸Ÿå°†ä¼šæ²¿ç€åŸå…ˆçš„è½¨è¿¹ç»§ç»­é£è¡Œï¼›â€‚</p><p>å¦‚æœä¸€åªå°é¸Ÿçš„é£è¡Œè½¨è¿¹æ²¡æœ‰ç»è¿‡â€‚(xi,â€‚yi)(xi,â€‚yi)ï¼Œé‚£ä¹ˆè¿™åªå°é¸Ÿé£è¡Œçš„å…¨è¿‡ç¨‹å°±ä¸ä¼šå¯¹ç¬¬â€‚iiâ€‚åªå°çŒªäº§ç”Ÿä»»ä½•å½±å“ã€‚â€‚</p><p>ä¾‹å¦‚ï¼Œè‹¥ä¸¤åªå°çŒªåˆ†åˆ«ä½äºâ€‚(1,3)(1,3)â€‚å’Œâ€‚(3,3)(3,3)ï¼ŒKiana å¯ä»¥é€‰æ‹©å‘å°„ä¸€åªé£è¡Œè½¨è¿¹ä¸º y=âˆ’x2+4xy=âˆ’x2+4xâ€‚çš„å°é¸Ÿï¼Œè¿™æ ·ä¸¤åªå°çŒªå°±ä¼šè¢«è¿™åªå°é¸Ÿä¸€èµ·æ¶ˆç­ã€‚â€‚</p><p>è€Œè¿™ä¸ªæ¸¸æˆçš„ç›®çš„ï¼Œå°±æ˜¯é€šè¿‡å‘å°„å°é¸Ÿæ¶ˆç­æ‰€æœ‰çš„å°çŒªã€‚â€‚</p><p>è¿™æ¬¾ç¥å¥‡æ¸¸æˆçš„æ¯ä¸ªå…³å¡å¯¹ Kiana æ¥è¯´éƒ½å¾ˆéš¾ï¼Œæ‰€ä»¥ Kiana è¿˜è¾“å…¥äº†ä¸€äº›ç¥ç§˜çš„æŒ‡ä»¤ï¼Œä½¿å¾—è‡ªå·±èƒ½æ›´è½»æ¾åœ°å®Œæˆè¿™ä¸ªè¿™ä¸ªæ¸¸æˆã€‚â€‚â€‚â€‚</p><p>è¿™äº›æŒ‡ä»¤å°†åœ¨è¾“å…¥æ ¼å¼ä¸­è¯¦è¿°ã€‚â€‚</p><p>å‡è®¾è¿™æ¬¾æ¸¸æˆä¸€å…±æœ‰â€‚TTâ€‚ä¸ªå…³å¡ï¼Œç°åœ¨ Kiana æƒ³çŸ¥é“ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…³å¡ï¼Œè‡³å°‘éœ€è¦å‘å°„å¤šå°‘åªå°é¸Ÿæ‰èƒ½æ¶ˆç­æ‰€æœ‰çš„å°çŒªã€‚â€‚â€‚</p><p>ç”±äºå¥¹ä¸ä¼šç®—ï¼Œæ‰€ä»¥å¸Œæœ›ç”±ä½ å‘Šè¯‰å¥¹ã€‚</p><p><strong>æ³¨æ„</strong>:æœ¬é¢˜é™¤ NOIP åŸæ•°æ®å¤–ï¼Œè¿˜åŒ…å«åŠ å¼ºæ•°æ®ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° Tï¼Œè¡¨ç¤ºæ¸¸æˆçš„å…³å¡æ€»æ•°ã€‚</p><p>ä¸‹é¢ä¾æ¬¡è¾“å…¥è¿™ T ä¸ªå…³å¡çš„ä¿¡æ¯ã€‚</p><p>æ¯ä¸ªå…³å¡ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªéè´Ÿæ•´æ•° n,mï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥å…³å¡ä¸­çš„å°çŒªæ•°é‡å’Œ Kiana è¾“å…¥çš„ç¥ç§˜æŒ‡ä»¤ç±»å‹ã€‚</p><p>æ¥ä¸‹æ¥çš„ n è¡Œä¸­ï¼Œç¬¬ i è¡ŒåŒ…å«ä¸¤ä¸ªæ­£å®æ•° (xi,yi)ï¼Œè¡¨ç¤ºç¬¬ i åªå°çŒªåæ ‡ä¸º (xi,yi)ï¼Œæ•°æ®ä¿è¯åŒä¸€ä¸ªå…³å¡ä¸­ä¸å­˜åœ¨ä¸¤åªåæ ‡å®Œå…¨ç›¸åŒçš„å°çŒªã€‚</p><p>å¦‚æœ m=0ï¼Œè¡¨ç¤º Kiana è¾“å…¥äº†ä¸€ä¸ªæ²¡æœ‰ä»»ä½•ä½œç”¨çš„æŒ‡ä»¤ã€‚</p><p>å¦‚æœ m=1ï¼Œåˆ™è¿™ä¸ªå…³å¡å°†ä¼šæ»¡è¶³ï¼šè‡³å¤šç”¨ âŒˆn/3+1âŒ‰ åªå°é¸Ÿå³å¯æ¶ˆç­æ‰€æœ‰å°çŒªã€‚</p><p>å¦‚æœ m=2ï¼Œåˆ™è¿™ä¸ªå…³å¡å°†ä¼šæ»¡è¶³ï¼šä¸€å®šå­˜åœ¨ä¸€ç§æœ€ä¼˜è§£ï¼Œå…¶ä¸­æœ‰ä¸€åªå°é¸Ÿæ¶ˆç­äº†è‡³å°‘ âŒŠn/3âŒ‹ åªå°çŒªã€‚</p><p>ä¿è¯ 1â‰¤nâ‰¤18ï¼Œ0â‰¤mâ‰¤2ï¼Œ0&lt;xi,yi&lt;10è¾“å…¥ä¸­çš„å®æ•°å‡ä¿ç•™åˆ°å°æ•°ç‚¹åä¸¤ä½ã€‚</p><p>ä¸Šæ–‡ä¸­ï¼Œç¬¦å· âŒˆcâŒ‰ å’Œ âŒŠcâŒ‹ åˆ†åˆ«è¡¨ç¤ºå¯¹ c å‘ä¸Šå–æ•´å’Œå‘ä¸‹å–æ•´ï¼Œä¾‹å¦‚ ï¼šâŒˆ2.1âŒ‰=âŒˆ2.9âŒ‰=âŒˆ3.0âŒ‰=âŒŠ3.0âŒ‹=âŒŠ3.1âŒ‹=âŒŠ3.9âŒ‹=3</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹æ¯ä¸ªå…³å¡ä¾æ¬¡è¾“å‡ºä¸€è¡Œç­”æ¡ˆã€‚</p><p>è¾“å‡ºçš„æ¯ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºç›¸åº”çš„å…³å¡ä¸­ï¼Œæ¶ˆç­æ‰€æœ‰å°çŒªæœ€å°‘éœ€è¦çš„å°é¸Ÿæ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p><img src="https://cdn.acwing.com/media/article/image/2021/03/11/19_f187a0f582-QQ%E6%88%AA%E5%9B%BE20210311115727.png" alt="QQæˆªå›¾20210311115727.png"></p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">2</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">0</span><br><span class="hljs-attribute">1</span>.<span class="hljs-number">00</span> <span class="hljs-number">3</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">3</span>.<span class="hljs-number">00</span> <span class="hljs-number">3</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">5</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">1</span>.<span class="hljs-number">00</span> <span class="hljs-number">5</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">2</span>.<span class="hljs-number">00</span> <span class="hljs-number">8</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">3</span>.<span class="hljs-number">00</span> <span class="hljs-number">9</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">4</span>.<span class="hljs-number">00</span> <span class="hljs-number">8</span>.<span class="hljs-number">00</span><br><span class="hljs-attribute">5</span>.<span class="hljs-number">00</span> <span class="hljs-number">5</span>.<span class="hljs-number">00</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br>1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">18</span>, M = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">18</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br>PDD q[N];<br><span class="hljs-keyword">int</span> path[N][N];<br><span class="hljs-keyword">int</span> f[M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x, <span class="hljs-keyword">double</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(x - y) &lt; eps) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (x &lt; y) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        cin &gt;&gt; n &gt;&gt; m;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i].x &gt;&gt; q[i].y;<br><br>        <span class="hljs-built_in">memset</span>(path, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> path);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        &#123;<br>            path[i][i] = <span class="hljs-number">1</span> &lt;&lt; i;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>            &#123;<br>                <span class="hljs-keyword">double</span> x1 = q[i].x, y1 = q[i].y;<br>                <span class="hljs-keyword">double</span> x2 = q[j].x, y2 = q[j].y;<br>                <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">cmp</span>(x1, x2)) <span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">double</span> a = (y1 / x1 - y2 / x2) / (x1 - x2);<br>                <span class="hljs-keyword">double</span> b = y1 / x1 - a * x1;<br><br>                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">cmp</span>(a, <span class="hljs-number">0</span>) &gt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">int</span> state = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; n; k ++ )<br>                &#123;<br>                    <span class="hljs-keyword">double</span> x = q[k].x, y = q[k].y;<br>                    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">cmp</span>(a * x * x + b * x, y)) state += <span class="hljs-number">1</span> &lt;&lt; k;<br>                &#125;<br>                path[i][j] = state;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> f);<br>        f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i + <span class="hljs-number">1</span> &lt; <span class="hljs-number">1</span> &lt;&lt; n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>                <span class="hljs-keyword">if</span> (!(i &gt;&gt; j &amp; <span class="hljs-number">1</span>))<br>                &#123;<br>                    x = j;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>                f[i | path[x][j]] = <span class="hljs-built_in">min</span>(f[i | path[x][j]], f[i] + <span class="hljs-number">1</span>);<br>        &#125;<br><br>        cout &lt;&lt; f[(<span class="hljs-number">1</span> &lt;&lt; n) - <span class="hljs-number">1</span>] &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŠ¶æ€æœºæ¨¡å‹dp</title>
    <link href="/posts/2942116695.html"/>
    <url>/posts/2942116695.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°çŠ¶æ€æœºæ¨¡å‹çš„dp</p><span id="more"></span><p><strong>çŠ¶æ€æœºæ¨¡å‹dpæ¥è‡ªäºæ•´ä¸ªçŠ¶æ€å®šä¹‰å’Œè½¬ç§»ç‰¹åˆ«åƒ<a href="https://baike.baidu.com/item/%E7%8A%B6%E6%80%81%E6%9C%BA/6548513?fr=aladdin">çŠ¶æ€æœº</a>è€Œé—»å</strong></p><p>çœ‹é“ä¾‹é¢˜å°±æ‡‚äº†~</p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><blockquote><p>é˜¿ç¦æ˜¯ä¸€åç»éªŒä¸°å¯Œçš„å¤§ç›—ã€‚è¶ç€æœˆé»‘é£é«˜ï¼Œé˜¿ç¦æ‰“ç®—ä»Šæ™šæ´—åŠ«ä¸€æ¡è¡—ä¸Šçš„åº—é“ºã€‚</p><p>è¿™æ¡è¡—ä¸Šä¸€å…±æœ‰ N å®¶åº—é“ºï¼Œæ¯å®¶åº—ä¸­éƒ½æœ‰ä¸€äº›ç°é‡‘ã€‚</p><p>é˜¿ç¦äº‹å…ˆè°ƒæŸ¥å¾—çŸ¥ï¼Œåªæœ‰å½“ä»–åŒæ—¶æ´—åŠ«äº†ä¸¤å®¶ç›¸é‚»çš„åº—é“ºæ—¶ï¼Œè¡—ä¸Šçš„æŠ¥è­¦ç³»ç»Ÿæ‰ä¼šå¯åŠ¨ï¼Œç„¶åè­¦å¯Ÿå°±ä¼šèœ‚æ‹¥è€Œè‡³ã€‚</p><p>ä½œä¸ºä¸€å‘è°¨æ…ä½œæ¡ˆçš„å¤§ç›—ï¼Œé˜¿ç¦ä¸æ„¿æ„å†’ç€è¢«è­¦å¯Ÿè¿½æ•çš„é£é™©è¡Œçªƒã€‚</p><p>ä»–æƒ³çŸ¥é“ï¼Œåœ¨ä¸æƒŠåŠ¨è­¦å¯Ÿçš„æƒ…å†µä¸‹ï¼Œä»–ä»Šæ™šæœ€å¤šå¯ä»¥å¾—åˆ°å¤šå°‘ç°é‡‘ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° Tï¼Œè¡¨ç¤ºä¸€å…±æœ‰ T ç»„æ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥çš„æ¯ç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° N ï¼Œè¡¨ç¤ºä¸€å…±æœ‰ N å®¶åº—é“ºã€‚</p><p>ç¬¬äºŒè¡Œæ˜¯ N ä¸ªè¢«ç©ºæ ¼åˆ†å¼€çš„æ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸€å®¶åº—é“ºä¸­çš„ç°é‡‘æ•°é‡ã€‚</p><p>æ¯å®¶åº—é“ºä¸­çš„ç°é‡‘æ•°é‡å‡ä¸è¶…è¿‡1000ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œã€‚</p><p>è¯¥è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé˜¿ç¦åœ¨ä¸æƒŠåŠ¨è­¦å¯Ÿçš„æƒ…å†µä¸‹å¯ä»¥å¾—åˆ°çš„ç°é‡‘æ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Tâ‰¤50<br>1â‰¤Nâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">8</span> <span class="hljs-number">2</span><br><span class="hljs-number">4</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">7</span> <span class="hljs-number">6</span> <span class="hljs-number">14</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br>24<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>å¯¹äºç¬¬ä¸€ç»„æ ·ä¾‹ï¼Œé˜¿ç¦é€‰æ‹©ç¬¬2å®¶åº—é“ºè¡Œçªƒï¼Œè·å¾—çš„ç°é‡‘æ•°é‡ä¸º8ã€‚</p><p>å¯¹äºç¬¬äºŒç»„æ ·ä¾‹ï¼Œé˜¿ç¦é€‰æ‹©ç¬¬1å’Œ4å®¶åº—é“ºè¡Œçªƒï¼Œè·å¾—çš„ç°é‡‘æ•°é‡ä¸º10+14=24ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI =<span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">int</span> f[N][<span class="hljs-number">2</span>];<br><br><span class="hljs-comment">// int h[N], e[M], w[M], ne[M], idx;</span><br><br><span class="hljs-comment">// void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-comment">// void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, &amp;);&#125;puts(&quot;&quot;);&#125;</span><br><br><span class="hljs-comment">// void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, &amp;);puts(&quot;&quot;);&#125;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>),cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>),cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        cin &gt;&gt; n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; a[i];<br>        <br>        f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = -INF;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) <br>        &#123;<br>            f[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]);<br>            f[i][<span class="hljs-number">1</span>] = f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[i];<br>        &#125;<br>        <br>        cout &lt;&lt; <span class="hljs-built_in">max</span>(f[n][<span class="hljs-number">0</span>], f[n][<span class="hljs-number">1</span>]) &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h2><h3 id="T1ï¼šï¼ˆleetcodeï¼‰"><a href="#T1ï¼šï¼ˆleetcodeï¼‰" class="headerlink" title="T1ï¼šï¼ˆleetcodeï¼‰"></a>T1ï¼šï¼ˆleetcodeï¼‰</h3><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ç¬¬ i ä¸ªæ•°å­—è¡¨ç¤ºä¸€ä¸ªç»™å®šè‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ï¼Œä½ æœ€å¤šå¯ä»¥å®Œæˆ k ç¬”äº¤æ˜“ã€‚</p><p>æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ä¸€æ¬¡ä¹°å…¥å–å‡ºåˆä¸ºä¸€ç¬”äº¤æ˜“ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° N å’Œ kï¼Œè¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ä»¥åŠä½ å¯ä»¥å®Œæˆçš„æœ€å¤§äº¤æ˜“æ•°é‡ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªä¸è¶…è¿‡ 10000 çš„æ­£æ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´çš„æ•°ç»„ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§åˆ©æ¶¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>1â‰¤kâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">6 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">0</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">7<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š-1"><a href="#æ ·ä¾‹è§£é‡Š-1" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>æ ·ä¾‹1ï¼šåœ¨ç¬¬ 1 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 4) çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-2 = 2 ã€‚</p><p>æ ·ä¾‹2ï¼šåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤© (è‚¡ç¥¨ä»·æ ¼ = 6) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-2 = 4 ã€‚éšåï¼Œåœ¨ç¬¬ 5 å¤© (è‚¡ç¥¨ä»·æ ¼ = 0) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 6 å¤© (è‚¡ç¥¨ä»·æ ¼ = 3) çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 3-0 = 3 ã€‚å…±è®¡åˆ©æ¶¦ 4+3 = 7.</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>, M = <span class="hljs-number">110</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><span class="hljs-keyword">int</span> f[N][M][<span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> w[N];<br><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, &amp;);&#125;puts(&quot;&quot;);&#125;</span><br><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, &amp;);puts(&quot;&quot;);&#125;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br>    <br>    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">-0x3f</span>, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) f[i][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; j ++ )<br>        &#123;<br>            f[i][j][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][j][<span class="hljs-number">0</span>], f[i - <span class="hljs-number">1</span>][j][<span class="hljs-number">1</span>] + w[i]);<br>            f[i][j][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][j][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] - w[i]);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i ++ ) res = <span class="hljs-built_in">max</span>(res, f[n][i][<span class="hljs-number">0</span>]);<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure><hr><h3 id="T2-ï¼ˆLeetcodeï¼‰"><a href="#T2-ï¼ˆLeetcodeï¼‰" class="headerlink" title="T2:ï¼ˆLeetcodeï¼‰"></a>T2:ï¼ˆLeetcodeï¼‰</h3><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ç¬¬ i ä¸ªæ•°å­—è¡¨ç¤ºä¸€ä¸ªç»™å®šè‚¡ç¥¨åœ¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—æœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:</p><ul><li>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚</li><li>å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚</li></ul><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªä¸è¶…è¿‡ 10000 çš„æ­£æ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´çš„æ•°ç»„ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§åˆ©æ¶¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">0</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š-2"><a href="#æ ·ä¾‹è§£é‡Š-2" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]ï¼Œç¬¬ä¸€ç¬”äº¤æ˜“å¯å¾—åˆ©æ¶¦ 2-1 = 1ï¼Œç¬¬äºŒç¬”äº¤æ˜“å¯å¾—åˆ©æ¶¦ 2-0 = 2ï¼Œå…±å¾—åˆ©æ¶¦ 1+2 = 3ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; PDD;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> PI = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> T, n, m, k;<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> f[N][<span class="hljs-number">3</span>];<br><br><span class="hljs-comment">//int h[N], e[M], w[M], ne[M], idx;</span><br><br><span class="hljs-comment">//void add(int a, int b, int c)&#123;e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &amp; -x;&#125;<br><span class="hljs-comment">//void print1()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;printf(&quot;%d &quot;, &amp;);&#125;puts(&quot;&quot;);&#125;</span><br><br><span class="hljs-comment">//void print2()&#123;for (int i = 1; i &lt;= n; i ++ )&#123;for (int j = 1; j &lt;= n; j ++ ) printf(&quot;%d &quot;, &amp;);puts(&quot;&quot;);&#125;&#125;</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>), cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br>    <br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;<br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">-0x3f3f3f3f</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] - w[i], f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]);<br>        f[i][<span class="hljs-number">1</span>] = f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + w[i];<br>        f[i][<span class="hljs-number">2</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>]);<br>    &#125;<br>    <br>    cout &lt;&lt; <span class="hljs-built_in">max</span>(f[n][<span class="hljs-number">1</span>], f[n][<span class="hljs-number">2</span>]) &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span><br><span class="hljs-comment">             __.&#x27;              ~.   .~              `.__</span><br><span class="hljs-comment">           .&#x27;//                  \./                  \\`.</span><br><span class="hljs-comment">         .&#x27;//                     |                     \\`.</span><br><span class="hljs-comment">       .&#x27;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._     |     _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`.</span><br><span class="hljs-comment">     .&#x27;//.-&quot;                 `-.  |  .-&#x27;                 &quot;-.\\`.</span><br><span class="hljs-comment">   .&#x27;//______.============-..   \ | /   ..-============.______\\`.</span><br><span class="hljs-comment"> .&#x27;______________________________\|/______________________________`.</span><br><span class="hljs-comment">*/</span><br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ€§dpæ¨¡å‹</title>
    <link href="/posts/2122028850.html"/>
    <url>/posts/2122028850.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°çº¿æ€§dpçš„æ•°å­—ä¸‰è§’å½¢ï¼Œæœ€é•¿ä¸Šå‡ï¼ˆä¸‹é™ï¼‰å­åºåˆ—ï¼Œ æœ€é•¿å…¬å…±å­åºåˆ—</p><span id="more"></span><h1 id="çº¿æ€§dp"><a href="#çº¿æ€§dp" class="headerlink" title="çº¿æ€§dp"></a>çº¿æ€§dp</h1><p><strong>è¿™ç±»dpåº”è¯¥æ˜¯æœ€ç®€å•çš„ä¸€ç±»dpäº†ï¼Œä¹Ÿæ²¡ä»€ä¹ˆèƒŒæ™¯å¯è¨€ï¼Œå°±ç›´æ¥è®²ä¸€ä¸‹å°±å¯ä»¥äº†</strong></p><h2 id="æ•°å­—ä¸‰è§’å½¢æ¨¡å‹"><a href="#æ•°å­—ä¸‰è§’å½¢æ¨¡å‹" class="headerlink" title="æ•°å­—ä¸‰è§’å½¢æ¨¡å‹"></a>æ•°å­—ä¸‰è§’å½¢æ¨¡å‹</h2><p><strong>è¿™ä¸ªæ¨¡å‹æ¯”è¾ƒç®€å•ï¼Œç›´æ¥çœ‹é¢˜å°±è¡Œäº†</strong></p><blockquote><p>ç»™å®šä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•°å­—ä¸‰è§’å½¢ï¼Œä»é¡¶éƒ¨å‡ºå‘ï¼Œåœ¨æ¯ä¸€ç»“ç‚¹å¯ä»¥é€‰æ‹©ç§»åŠ¨è‡³å…¶å·¦ä¸‹æ–¹çš„ç»“ç‚¹æˆ–ç§»åŠ¨è‡³å…¶å³ä¸‹æ–¹çš„ç»“ç‚¹ï¼Œä¸€ç›´èµ°åˆ°åº•å±‚ï¼Œè¦æ±‚æ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼Œä½¿è·¯å¾„ä¸Šçš„æ•°å­—çš„å’Œæœ€å¤§ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache">        <span class="hljs-attribute">7</span><br>      <span class="hljs-attribute">3</span>   <span class="hljs-number">8</span><br>    <span class="hljs-attribute">8</span>   <span class="hljs-number">1</span>   <span class="hljs-number">0</span><br>  <span class="hljs-attribute">2</span>   <span class="hljs-number">7</span>   <span class="hljs-number">4</span>   <span class="hljs-number">4</span><br><span class="hljs-attribute">4</span>   <span class="hljs-number">5</span>   <span class="hljs-number">2</span>   <span class="hljs-number">6</span>   <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºæ•°å­—ä¸‰è§’å½¢çš„å±‚æ•°ã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«è‹¥å¹²æ•´æ•°ï¼Œå…¶ä¸­ç¬¬ ii è¡Œè¡¨ç¤ºæ•°å­—ä¸‰è§’å½¢ç¬¬ ii å±‚åŒ…å«çš„æ•´æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„è·¯å¾„æ•°å­—å’Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤500<br>âˆ’10000â‰¤ä¸‰è§’å½¢ä¸­çš„æ•´æ•°â‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-number">7</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <br><span class="hljs-symbol">2 </span><span class="hljs-number">7</span> <span class="hljs-number">4</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">30<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><span class="hljs-keyword">int</span> a[N][N];<br><br><span class="hljs-keyword">int</span> n;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j ++ )<br>            cin &gt;&gt; f[i][j];<br>            <br>            <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j ++ )<br>            f[i][j] += <span class="hljs-built_in">max</span>(f[i + <span class="hljs-number">1</span>][j], f[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>]);<br>    &#125;<br>    <br>    cout &lt;&lt; f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"></a>æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</h2><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°åˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼å•è°ƒé€’å¢çš„å­åºåˆ—çš„é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´åºåˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤1000<br>âˆ’10^9â‰¤æ•°åˆ—ä¸­çš„æ•°â‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">7</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">8</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><p><strong>ä¼˜åŒ–å‰ï¼ˆn^2ï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">int</span> a[N], f[N];<br><br><span class="hljs-keyword">int</span> maxv;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; a[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (a[i] &gt; a[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>        &#125;    <br>        <br>        maxv = <span class="hljs-built_in">max</span>(maxv, f[i]);<br>    &#125;<br>    <span class="hljs-comment">// cout &lt;&lt; f[n] &lt;&lt; endl;</span><br>    cout &lt;&lt; maxv &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–åï¼ˆnlognï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br><br>    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = len;<br>        <span class="hljs-keyword">while</span> (l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (q[mid] &lt; a[i]) l = mid;<br>            <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>        len = <span class="hljs-built_in">max</span>(len, r + <span class="hljs-number">1</span>);<br>        q[r + <span class="hljs-number">1</span>] = a[i];<br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, len);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ—"></a>æœ€é•¿å…¬å…±å­åºåˆ—</h2><blockquote><p>ç»™å®šä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸º N å’Œ M çš„å­—ç¬¦ä¸² A å’Œ Bï¼Œæ±‚æ—¢æ˜¯ A çš„å­åºåˆ—åˆæ˜¯ BB çš„å­åºåˆ—çš„å­—ç¬¦ä¸²é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º N çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² Aã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º M çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² Bã€‚</p><p>å­—ç¬¦ä¸²å‡ç”±å°å†™å­—æ¯æ„æˆã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Mâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">4</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">acbd</span><br><span class="hljs-attribute">abedc</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">char</span> s1[N], s2[N];<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    cin &gt;&gt; s1 + <span class="hljs-number">1</span> &gt;&gt; s2 + <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            f[i][j] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][j], f[i][ j - <span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">if</span>(s1[i] == s2[j]) f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], f[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"></a>æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—</h2><blockquote><p>ç†Šå¤§å¦ˆçš„å¥¶ç‰›åœ¨å°æ²æ²çš„ç†é™¶ä¸‹å¼€å§‹ç ”ç©¶ä¿¡æ¯é¢˜ç›®ã€‚</p><p>å°æ²æ²å…ˆè®©å¥¶ç‰›ç ”ç©¶äº†æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå†è®©ä»–ä»¬ç ”ç©¶äº†æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œç°åœ¨åˆè®©ä»–ä»¬ç ”ç©¶æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—äº†ã€‚</p><p>å°æ²æ²è¯´ï¼Œå¯¹äºä¸¤ä¸ªæ•°åˆ— AA å’Œ BBï¼Œå¦‚æœå®ƒä»¬éƒ½åŒ…å«ä¸€æ®µä½ç½®ä¸ä¸€å®šè¿ç»­çš„æ•°ï¼Œä¸”æ•°å€¼æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œé‚£ä¹ˆç§°è¿™ä¸€æ®µæ•°æ˜¯ä¸¤ä¸ªæ•°åˆ—çš„å…¬å…±ä¸Šå‡å­åºåˆ—ï¼Œè€Œæ‰€æœ‰çš„å…¬å…±ä¸Šå‡å­åºåˆ—ä¸­æœ€é•¿çš„å°±æ˜¯æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—äº†ã€‚</p><p>å¥¶ç‰›åŠæ‡‚ä¸æ‡‚ï¼Œå°æ²æ²è¦ä½ æ¥å‘Šè¯‰å¥¶ç‰›ä»€ä¹ˆæ˜¯æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—ã€‚</p><p>ä¸è¿‡ï¼Œåªè¦å‘Šè¯‰å¥¶ç‰›å®ƒçš„é•¿åº¦å°±å¯ä»¥äº†ã€‚</p><p>æ•°åˆ— AA å’Œ BB çš„é•¿åº¦å‡ä¸è¶…è¿‡ 3000ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºæ•°åˆ— Aï¼ŒBAï¼ŒB çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ— AAã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ— BBã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤3000,åºåˆ—ä¸­çš„æ•°å­—å‡ä¸è¶…è¿‡ 2^31âˆ’1</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">3010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> a[N], b[N];<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; b[i];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> maxv = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>        &#123;<br>            f[i][j] = f[i - <span class="hljs-number">1</span>][j];<br>            <span class="hljs-keyword">if</span> (a[i] == b[j]) f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], maxv);<br><br>            <span class="hljs-keyword">if</span> (b[j] &lt; a[i])<br>                maxv = <span class="hljs-built_in">max</span>(maxv, f[i - <span class="hljs-number">1</span>][j] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) res = <span class="hljs-built_in">max</span>(res, f[n][i]);<br>    cout &lt;&lt; res &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h2 id="æœ€çŸ­ç¼–è¾‘è·ç¦»"><a href="#æœ€çŸ­ç¼–è¾‘è·ç¦»" class="headerlink" title="æœ€çŸ­ç¼–è¾‘è·ç¦»"></a>æœ€çŸ­ç¼–è¾‘è·ç¦»</h2><blockquote><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² A å’Œ Bï¼Œç°åœ¨è¦å°† A ç»è¿‡è‹¥å¹²æ“ä½œå˜ä¸º Bï¼Œå¯è¿›è¡Œçš„æ“ä½œæœ‰ï¼š</p><ol><li>åˆ é™¤â€“å°†å­—ç¬¦ä¸² A ä¸­çš„æŸä¸ªå­—ç¬¦åˆ é™¤ã€‚</li><li>æ’å…¥â€“åœ¨å­—ç¬¦ä¸² A çš„æŸä¸ªä½ç½®æ’å…¥æŸä¸ªå­—ç¬¦ã€‚</li><li>æ›¿æ¢â€“å°†å­—ç¬¦ä¸² A ä¸­çš„æŸä¸ªå­—ç¬¦æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚</li></ol><p>ç°åœ¨è¯·ä½ æ±‚å‡ºï¼Œå°† A å˜ä¸º B è‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² A çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² Aã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å«æ•´æ•° mï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² B çš„é•¿åº¦ã€‚</p><p>ç¬¬å››è¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º m çš„å­—ç¬¦ä¸² Bã€‚</p><p>å­—ç¬¦ä¸²ä¸­å‡åªåŒ…å«å¤§å†™å­—æ¯ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘æ“ä½œæ¬¡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">10 <br>AGTCTGACGC<br>11 <br>AGTAAGTAGGC<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-keyword">char</span> s1[N], s2[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; s1 + <span class="hljs-number">1</span> &gt;&gt; m &gt;&gt; s2 + <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) f[i][<span class="hljs-number">0</span>] = i;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i ++ ) f[<span class="hljs-number">0</span>][i] = i;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            f[i][j] = <span class="hljs-built_in">min</span>(f[i - <span class="hljs-number">1</span>][j], f[i][j - <span class="hljs-number">1</span>]) + <span class="hljs-number">1</span>;<br>            f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + !(s1[i] == s2[j]));<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h1 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h1><p><strong>æ‰€æœ‰éƒ½é€‰è‡ªç®—æ³•ç±»ç»å…¸ä¹¦ç±å’ŒNOIPæ¯”å¡é¢˜</strong></p><h2 id="T1ï¼š-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š"><a href="#T1ï¼š-ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š" class="headerlink" title="T1ï¼š(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)"></a>T1ï¼š(ä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š)</h2><blockquote><p>æ€ªç›—åŸºå¾·æ˜¯ä¸€ä¸ªå……æ»¡ä¼ å¥‡è‰²å½©çš„æ€ªç›—ï¼Œä¸“é—¨ä»¥ç å®ä¸ºç›®æ ‡çš„è¶…çº§ç›—çªƒçŠ¯ã€‚</p><p>è€Œä»–æœ€ä¸ºçªå‡ºçš„åœ°æ–¹ï¼Œå°±æ˜¯ä»–æ¯æ¬¡éƒ½èƒ½é€ƒè„±ä¸­æ‘è­¦éƒ¨çš„é‡é‡å›´å µï¼Œè€Œè¿™ä¹Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å¤šäºäº†ä»–éšèº«æºå¸¦çš„ä¾¿äºæ“ä½œçš„æ»‘ç¿”ç¿¼ã€‚</p><p>æœ‰ä¸€å¤©ï¼Œæ€ªç›—åŸºå¾·åƒå¾€å¸¸ä¸€æ ·å·èµ°äº†ä¸€é¢—çè´µçš„é’»çŸ³ï¼Œä¸æ–™å´è¢«æŸ¯å—å°æœ‹å‹è¯†ç ´äº†ä¼ªè£…ï¼Œè€Œä»–çš„æ»‘ç¿”ç¿¼çš„åŠ¨åŠ›è£…ç½®ä¹Ÿè¢«æŸ¯å—è¸¢å‡ºçš„è¶³çƒç ´åäº†ã€‚</p><p>ä¸å¾—å·²ï¼Œæ€ªç›—åŸºå¾·åªèƒ½æ“ä½œå—æŸçš„æ»‘ç¿”ç¿¼é€ƒè„±ã€‚</p><p>å‡è®¾åŸå¸‚ä¸­ä¸€å…±æœ‰Nå¹¢å»ºç­‘æ’æˆä¸€æ¡çº¿ï¼Œæ¯å¹¢å»ºç­‘çš„é«˜åº¦å„ä¸ç›¸åŒã€‚</p><p>åˆå§‹æ—¶ï¼Œæ€ªç›—åŸºå¾·å¯ä»¥åœ¨ä»»ä½•ä¸€å¹¢å»ºç­‘çš„é¡¶ç«¯ã€‚</p><p>ä»–å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ–¹å‘é€ƒè·‘ï¼Œä½†æ˜¯ä¸èƒ½ä¸­é€”æ”¹å˜æ–¹å‘ï¼ˆå› ä¸ºä¸­æ£®è­¦éƒ¨ä¼šåœ¨åé¢è¿½å‡»ï¼‰ã€‚</p><p>å› ä¸ºæ»‘ç¿”ç¿¼åŠ¨åŠ›è£…ç½®å—æŸï¼Œä»–åªèƒ½å¾€ä¸‹æ»‘è¡Œï¼ˆå³ï¼šåªèƒ½ä»è¾ƒé«˜çš„å»ºç­‘æ»‘ç¿”åˆ°è¾ƒä½çš„å»ºç­‘ï¼‰ã€‚</p><p>ä»–å¸Œæœ›å°½å¯èƒ½å¤šåœ°ç»è¿‡ä¸åŒå»ºç­‘çš„é¡¶éƒ¨ï¼Œè¿™æ ·å¯ä»¥å‡ç¼“ä¸‹é™æ—¶çš„å†²å‡»åŠ›ï¼Œå‡å°‘å—ä¼¤çš„å¯èƒ½æ€§ã€‚</p><p>è¯·é—®ï¼Œä»–æœ€å¤šå¯ä»¥ç»è¿‡å¤šå°‘å¹¢ä¸åŒå»ºç­‘çš„é¡¶éƒ¨(åŒ…å«åˆå§‹æ—¶çš„å»ºç­‘)ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Kï¼Œä»£è¡¨æœ‰Kç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æµ‹è¯•æ•°æ®åŒ…å«ä¸¤è¡Œï¼šç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Nï¼Œä»£è¡¨æœ‰Nå¹¢å»ºç­‘ã€‚ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªä¸åŒçš„æ•´æ•°ï¼Œæ¯ä¸€ä¸ªå¯¹åº”ä¸€å¹¢å»ºç­‘çš„é«˜åº¦hï¼ŒæŒ‰ç…§å»ºç­‘çš„æ’åˆ—é¡ºåºç»™å‡ºã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ€ªç›—åŸºå¾·æœ€å¤šå¯ä»¥ç»è¿‡çš„å»ºç­‘æ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Kâ‰¤100<br>1â‰¤Nâ‰¤100<br>0&lt;h&lt;10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-number">8</span><br><span class="hljs-symbol">300 </span><span class="hljs-number">207</span> <span class="hljs-number">155</span> <span class="hljs-number">299</span> <span class="hljs-number">298</span> <span class="hljs-number">170</span> <span class="hljs-number">158</span> <span class="hljs-number">65</span><br><span class="hljs-number">8</span><br><span class="hljs-symbol">65 </span><span class="hljs-number">158</span> <span class="hljs-number">170</span> <span class="hljs-number">298</span> <span class="hljs-number">299</span> <span class="hljs-number">155</span> <span class="hljs-number">207</span> <span class="hljs-number">300</span><br><span class="hljs-number">10</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">10</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br>6<br>9<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> f[N], w[N];<br><br><span class="hljs-keyword">int</span> maxv;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;<br>        cin &gt;&gt; n;<br>        <br>        maxv = <span class="hljs-number">0</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        &#123;<br>            f[i] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>            &#123;<br>                <span class="hljs-keyword">if</span> (w[i] &gt; w[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>            &#125;<br>            maxv = <span class="hljs-built_in">max</span>(maxv, f[i]);<br>        &#125;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>        &#123;<br>            f[i] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n; j &gt; i; j -- )<br>            &#123;<br>                <span class="hljs-keyword">if</span> (w[i] &gt; w[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>            &#125;<br>            maxv = <span class="hljs-built_in">max</span>(maxv, f[i]);<br>        &#125;<br>        <br>        cout &lt;&lt; maxv &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T2-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š-ç¬¬å…­å±ŠåŒ—äº¬å¤§å­¦ç¨‹åºè®¾è®¡å¤§èµ›æš¨ACM-ICPCé€‰æ‹”èµ›ï¼‰"><a href="#T2-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š-ç¬¬å…­å±ŠåŒ—äº¬å¤§å­¦ç¨‹åºè®¾è®¡å¤§èµ›æš¨ACM-ICPCé€‰æ‹”èµ›ï¼‰" class="headerlink" title="T2:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š , ç¬¬å…­å±ŠåŒ—äº¬å¤§å­¦ç¨‹åºè®¾è®¡å¤§èµ›æš¨ACM/ICPCé€‰æ‹”èµ›ï¼‰"></a>T2:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š , ç¬¬å…­å±ŠåŒ—äº¬å¤§å­¦ç¨‹åºè®¾è®¡å¤§èµ›æš¨ACM/ICPCé€‰æ‹”èµ›ï¼‰</h2><blockquote><p>äº”ä¸€åˆ°äº†ï¼ŒACMé˜Ÿç»„ç»‡å¤§å®¶å»ç™»å±±è§‚å…‰ï¼Œé˜Ÿå‘˜ä»¬å‘ç°å±±ä¸Šä¸€å…±æœ‰Nä¸ªæ™¯ç‚¹ï¼Œå¹¶ä¸”å†³å®šæŒ‰ç…§é¡ºåºæ¥æµè§ˆè¿™äº›æ™¯ç‚¹ï¼Œå³æ¯æ¬¡æ‰€æµè§ˆæ™¯ç‚¹çš„ç¼–å·éƒ½è¦å¤§äºå‰ä¸€ä¸ªæµè§ˆæ™¯ç‚¹çš„ç¼–å·ã€‚</p><p>åŒæ—¶é˜Ÿå‘˜ä»¬è¿˜æœ‰å¦ä¸€ä¸ªç™»å±±ä¹ æƒ¯ï¼Œå°±æ˜¯ä¸è¿ç»­æµè§ˆæµ·æ‹”ç›¸åŒçš„ä¸¤ä¸ªæ™¯ç‚¹ï¼Œå¹¶ä¸”ä¸€æ—¦å¼€å§‹ä¸‹å±±ï¼Œå°±ä¸å†å‘ä¸Šèµ°äº†ã€‚</p><p>é˜Ÿå‘˜ä»¬å¸Œæœ›åœ¨æ»¡è¶³ä¸Šé¢æ¡ä»¶çš„åŒæ—¶ï¼Œå°½å¯èƒ½å¤šçš„æµè§ˆæ™¯ç‚¹ï¼Œä½ èƒ½å¸®ä»–ä»¬æ‰¾å‡ºæœ€å¤šå¯èƒ½æµè§ˆçš„æ™¯ç‚¹æ•°ä¹ˆï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-6"><a href="#è¾“å…¥æ ¼å¼-6" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°Nï¼Œè¡¨ç¤ºæ™¯ç‚¹æ•°é‡ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªæ™¯ç‚¹çš„æµ·æ‹”ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æµè§ˆçš„æ™¯ç‚¹æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-6"><a href="#æ•°æ®èŒƒå›´-6" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>2â‰¤Nâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-6"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">8</span><br><span class="hljs-symbol">186 </span><span class="hljs-number">186</span> <span class="hljs-number">150</span> <span class="hljs-number">200</span> <span class="hljs-number">160</span> <span class="hljs-number">130</span> <span class="hljs-number">197</span> <span class="hljs-number">220</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-6"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> h[N];<br><span class="hljs-keyword">int</span> f[N], g[N];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; h[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (h[i] &gt; h[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>    &#123;<br>        g[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n; j &gt; i; j -- )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (h[i] &gt; h[j]) g[i] = <span class="hljs-built_in">max</span>(g[i], g[j] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) res = <span class="hljs-built_in">max</span>(res, f[i] + g[i] - <span class="hljs-number">1</span>);<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T3-ï¼ˆNOIP2004æé«˜ç»„ï¼‰"><a href="#T3-ï¼ˆNOIP2004æé«˜ç»„ï¼‰" class="headerlink" title="T3:ï¼ˆNOIP2004æé«˜ç»„ï¼‰"></a>T3:ï¼ˆNOIP2004æé«˜ç»„ï¼‰</h2><blockquote><p>N ä½åŒå­¦ç«™æˆä¸€æ’ï¼ŒéŸ³ä¹è€å¸ˆè¦è¯·å…¶ä¸­çš„ (Nâˆ’K) ä½åŒå­¦å‡ºåˆ—ï¼Œä½¿å¾—å‰©ä¸‹çš„ K ä½åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚â€‚â€‚â€‚â€‚â€‚</p><p>åˆå”±é˜Ÿå½¢æ˜¯æŒ‡è¿™æ ·çš„ä¸€ç§é˜Ÿå½¢ï¼šè®¾ KK ä½åŒå­¦ä»å·¦åˆ°å³ä¾æ¬¡ç¼–å·ä¸º 1ï¼Œ2â€¦ï¼ŒKä»–ä»¬çš„èº«é«˜åˆ†åˆ«ä¸º T1ï¼ŒT2ï¼Œâ€¦ï¼ŒTKâ€‚â€‚åˆ™ä»–ä»¬çš„èº«é«˜æ»¡è¶³ T1&lt;â€¦<Ti>Ti+1&gt;â€¦&gt;TK(1â‰¤iâ‰¤K)â€‚â€‚â€‚</p><p>ä½ çš„ä»»åŠ¡æ˜¯ï¼Œå·²çŸ¥æ‰€æœ‰ N ä½åŒå­¦çš„èº«é«˜ï¼Œè®¡ç®—æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ï¼Œå¯ä»¥ä½¿å¾—å‰©ä¸‹çš„åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-7"><a href="#è¾“å…¥æ ¼å¼-7" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºåŒå­¦çš„æ€»æ•°ã€‚</p><p>ç¬¬äºŒè¡Œæœ‰ N ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬ i ä¸ªæ•´æ•° Ti æ˜¯ç¬¬ ii ä½åŒå­¦çš„èº«é«˜(å˜ç±³)ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-7"><a href="#è¾“å‡ºæ ¼å¼-7" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºåŒ…æ‹¬ä¸€è¡Œï¼Œè¿™ä¸€è¡ŒåªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œå°±æ˜¯æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ã€‚</p><h4 id="æ•°æ®èŒƒå›´-7"><a href="#æ•°æ®èŒƒå›´-7" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>2â‰¤Nâ‰¤100<br>130â‰¤Tiâ‰¤230</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-7"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">8</span><br><span class="hljs-symbol">186 </span><span class="hljs-number">186</span> <span class="hljs-number">150</span> <span class="hljs-number">200</span> <span class="hljs-number">160</span> <span class="hljs-number">130</span> <span class="hljs-number">197</span> <span class="hljs-number">220</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-7"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">int</span> h[N];<br><span class="hljs-keyword">int</span> f[N], g[N];<br><br><span class="hljs-keyword">int</span> maxv;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; h[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (h[i] &gt; h[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>    &#123;<br>        g[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n; j &gt; i; j -- )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (h[i] &gt; h[j]) g[i] = <span class="hljs-built_in">max</span>(g[i], g[j] + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) maxv = <span class="hljs-built_in">max</span>(maxv, f[i] + g[i] - <span class="hljs-number">1</span>);<br>    <br>    cout &lt;&lt; n - maxv &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T4-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"><a href="#T4-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰" class="headerlink" title="T4:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"></a>T4:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰</h2><blockquote><p>Palmiaå›½æœ‰ä¸€æ¡æ¨ªè´¯ä¸œè¥¿çš„å¤§æ²³ï¼Œæ²³æœ‰ç¬”ç›´çš„å—åŒ—ä¸¤å²¸ï¼Œå²¸ä¸Šå„æœ‰ä½ç½®å„ä¸ç›¸åŒçš„Nä¸ªåŸå¸‚ã€‚</p><p>åŒ—å²¸çš„æ¯ä¸ªåŸå¸‚æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‹å¥½åŸå¸‚åœ¨å—å²¸ï¼Œè€Œä¸”ä¸åŒåŸå¸‚çš„å‹å¥½åŸå¸‚ä¸ç›¸åŒã€‚</p><p>æ¯å¯¹å‹å¥½åŸå¸‚éƒ½å‘æ”¿åºœç”³è¯·åœ¨æ²³ä¸Šå¼€è¾Ÿä¸€æ¡ç›´çº¿èˆªé“è¿æ¥ä¸¤ä¸ªåŸå¸‚ï¼Œä½†æ˜¯ç”±äºæ²³ä¸Šé›¾å¤ªå¤§ï¼Œæ”¿åºœå†³å®šé¿å…ä»»æ„ä¸¤æ¡èˆªé“äº¤å‰ï¼Œä»¥é¿å…äº‹æ•…ã€‚</p><p>ç¼–ç¨‹å¸®åŠ©æ”¿åºœåšå‡ºä¸€äº›æ‰¹å‡†å’Œæ‹’ç»ç”³è¯·çš„å†³å®šï¼Œä½¿å¾—åœ¨ä¿è¯ä»»æ„ä¸¤æ¡èˆªçº¿ä¸ç›¸äº¤çš„æƒ…å†µä¸‹ï¼Œè¢«æ‰¹å‡†çš„ç”³è¯·å°½é‡å¤šã€‚</p><h4 id="è¾“å…¥æ ¼å¼-8"><a href="#è¾“å…¥æ ¼å¼-8" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬1è¡Œï¼Œä¸€ä¸ªæ•´æ•°Nï¼Œè¡¨ç¤ºåŸå¸‚æ•°ã€‚</p><p>ç¬¬2è¡Œåˆ°ç¬¬n+1è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œä¸­é—´ç”¨1ä¸ªç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºå—å²¸å’ŒåŒ—å²¸çš„ä¸€å¯¹å‹å¥½åŸå¸‚çš„åæ ‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-8"><a href="#è¾“å‡ºæ ¼å¼-8" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä»…ä¸€è¡Œï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ”¿åºœæ‰€èƒ½æ‰¹å‡†çš„æœ€å¤šç”³è¯·æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-8"><a href="#æ•°æ®èŒƒå›´-8" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤5000<br>0â‰¤xiâ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-8"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-8" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">7</span><br><span class="hljs-symbol">22 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">15 </span><span class="hljs-number">12</span><br><span class="hljs-symbol">9 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">17 </span><span class="hljs-number">17</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-8"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-8" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">5010</span>;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br>PII w[N];<br><span class="hljs-keyword">int</span> f[N];<br><span class="hljs-keyword">int</span> n, maxv;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i].x &gt;&gt; w[i].y;<br>    <br>    <span class="hljs-built_in">sort</span>(w + <span class="hljs-number">1</span>, w + n + <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (w[i].y &gt; w[j].y) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>        &#125;<br>        <br>        maxv = <span class="hljs-built_in">max</span>(maxv, f[i]);<br>    &#125;<br>    <br>    cout &lt;&lt; maxv &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T5-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"><a href="#T5-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰" class="headerlink" title="T5:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"></a>T5:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰</h2><blockquote><p>ä¸€ä¸ªæ•°çš„åºåˆ— biï¼Œå½“ b1&lt;b2&lt;â€¦&lt;bSçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªåºåˆ—æ˜¯ä¸Šå‡çš„ã€‚</p><p>å¯¹äºç»™å®šçš„ä¸€ä¸ªåºåˆ—(a1,a2,â€¦,aNï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›ä¸Šå‡çš„å­åºåˆ—(ai1,ai2,â€¦,aiK)ï¼Œè¿™é‡Œ1â‰¤i1&lt;i2&lt;â€¦&lt;iKâ‰¤Nã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹äºåºåˆ—(1,7,3,5,9,4,8)ï¼Œæœ‰å®ƒçš„ä¸€äº›ä¸Šå‡å­åºåˆ—ï¼Œå¦‚(1,7),(3,4,8)ç­‰ç­‰ã€‚</p><p>è¿™äº›å­åºåˆ—ä¸­å’Œæœ€å¤§ä¸º18ï¼Œä¸ºå­åºåˆ—(1,3,5,9)çš„å’Œã€‚</p><p>ä½ çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„åºåˆ—ï¼Œæ±‚å‡ºæœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚</p><p>æ³¨æ„ï¼Œæœ€é•¿çš„ä¸Šå‡å­åºåˆ—çš„å’Œä¸ä¸€å®šæ˜¯æœ€å¤§çš„ï¼Œæ¯”å¦‚åºåˆ—(100,1,2,3)çš„æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œä¸º100ï¼Œè€Œæœ€é•¿ä¸Šå‡å­åºåˆ—ä¸º(1,2,3)ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-9"><a href="#è¾“å…¥æ ¼å¼-9" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯åºåˆ—çš„é•¿åº¦Nã€‚</p><p>ç¬¬äºŒè¡Œç»™å‡ºåºåˆ—ä¸­çš„Nä¸ªæ•´æ•°ï¼Œè¿™äº›æ•´æ•°çš„å–å€¼èŒƒå›´éƒ½åœ¨0åˆ°10000(å¯èƒ½é‡å¤)ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-9"><a href="#è¾“å‡ºæ ¼å¼-9" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-9"><a href="#æ•°æ®èŒƒå›´-9" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-9"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-9" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">7</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">9</span> <span class="hljs-number">4</span> <span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-9"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-9" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">18<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> w[N], f[N];<br><span class="hljs-keyword">int</span> n, res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; w[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        f[i] = w[i];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (w[i] &gt; w[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + w[i]);<br>        &#125;<br>        <br>        res = <span class="hljs-built_in">max</span>(res, f[i]);<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T6-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ŒNOIP1999ï¼‰"><a href="#T6-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ŒNOIP1999ï¼‰" class="headerlink" title="T6:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ŒNOIP1999ï¼‰"></a>T6:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼ŒNOIP1999ï¼‰</h2><blockquote><p>æŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå‘å±•å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚</p><p>ä½†æ˜¯è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼šè™½ç„¶å®ƒçš„ç¬¬ä¸€å‘ç‚®å¼¹èƒ½å¤Ÿåˆ°è¾¾ä»»æ„çš„é«˜åº¦ï¼Œä½†æ˜¯ä»¥åæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚</p><p>æŸå¤©ï¼Œé›·è¾¾æ•æ‰åˆ°æ•Œå›½çš„å¯¼å¼¹æ¥è¢­ã€‚</p><p>ç”±äºè¯¥ç³»ç»Ÿè¿˜åœ¨è¯•ç”¨é˜¶æ®µï¼Œæ‰€ä»¥åªæœ‰ä¸€å¥—ç³»ç»Ÿï¼Œå› æ­¤æœ‰å¯èƒ½ä¸èƒ½æ‹¦æˆªæ‰€æœ‰çš„å¯¼å¼¹ã€‚</p><p>è¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼ˆé›·è¾¾ç»™å‡ºçš„é«˜åº¦æ•°æ®æ˜¯ä¸å¤§äº30000çš„æ­£æ•´æ•°ï¼Œå¯¼å¼¹æ•°ä¸è¶…è¿‡1000ï¼‰ï¼Œè®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œå¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚</p><h4 id="è¾“å…¥æ ¼å¼-10"><a href="#è¾“å…¥æ ¼å¼-10" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-10"><a href="#è¾“å‡ºæ ¼å¼-10" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡çš„ç³»ç»Ÿæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-10"><a href="#æ•°æ®èŒƒå›´-10" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>é›·è¾¾ç»™å‡ºçš„é«˜åº¦æ•°æ®æ˜¯ä¸å¤§äº 30000 çš„æ­£æ•´æ•°ï¼Œå¯¼å¼¹æ•°ä¸è¶…è¿‡ 1000ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-10"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-10" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">389 </span><span class="hljs-number">207</span> <span class="hljs-number">155</span> <span class="hljs-number">300</span> <span class="hljs-number">299</span> <span class="hljs-number">170</span> <span class="hljs-number">158</span> <span class="hljs-number">65</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-10"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-10" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br>2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> w[N], q[N], f[N];<br><br><span class="hljs-keyword">int</span> n = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">int</span> maxv;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string line;<br>    <span class="hljs-built_in">getline</span>(cin, line);<br>    <br>    <span class="hljs-function">stringstream <span class="hljs-title">ssin</span><span class="hljs-params">(line)</span></span>;<br>    <br>    <span class="hljs-keyword">while</span> (ssin &gt;&gt; w[n]) n ++ ;<br>    <br>    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<br>    <br>    q[<span class="hljs-number">0</span>] = <span class="hljs-number">-0x3f3f3f3f</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i ++ )<br>    &#123;<br>        f[i] = <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j ++ )<br>            &#123;<br>                <span class="hljs-keyword">if</span> (w[i] &lt;= w[j]) f[i] = <span class="hljs-built_in">max</span>(f[i], f[j] + <span class="hljs-number">1</span>);<br>                maxv = <span class="hljs-built_in">max</span>(f[i], maxv);<br>            &#125;<br>            <br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> r = len + <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">while</span> (l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (q[mid] &gt;= w[i]) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        len = <span class="hljs-built_in">max</span>(r, len);<br>        q[r] = w[i];<br>    &#125;<br>    <br>    cout &lt;&lt; maxv &lt;&lt; endl &lt;&lt; len &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T7-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"><a href="#T7-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰" class="headerlink" title="T7:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰"></a>T7:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰</h2><blockquote><p>ä¸ºäº†å¯¹æŠ—é™„è¿‘æ¶æ„å›½å®¶çš„å¨èƒï¼ŒRR å›½æ›´æ–°äº†ä»–ä»¬çš„å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿã€‚</p><p>ä¸€å¥—é˜²å¾¡ç³»ç»Ÿçš„å¯¼å¼¹æ‹¦æˆªé«˜åº¦è¦ä¹ˆä¸€ç›´ <strong>ä¸¥æ ¼å•è°ƒ</strong> ä¸Šå‡è¦ä¹ˆä¸€ç›´ <strong>ä¸¥æ ¼å•è°ƒ</strong> ä¸‹é™ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€å¥—ç³»ç»Ÿå…ˆåæ‹¦æˆªäº†é«˜åº¦ä¸º 3 å’Œé«˜åº¦ä¸º 4 çš„ä¸¤å‘å¯¼å¼¹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯¥ç³»ç»Ÿå°±åªèƒ½æ‹¦æˆªé«˜åº¦å¤§äº 4 çš„å¯¼å¼¹ã€‚</p><p>ç»™å®šå³å°†è¢­æ¥çš„ä¸€ç³»åˆ—å¯¼å¼¹çš„é«˜åº¦ï¼Œè¯·ä½ æ±‚å‡ºè‡³å°‘éœ€è¦å¤šå°‘å¥—é˜²å¾¡ç³»ç»Ÿï¼Œå°±å¯ä»¥å°†å®ƒä»¬å…¨éƒ¨å‡»è½ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-11"><a href="#è¾“å…¥æ ¼å¼-11" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nnï¼Œè¡¨ç¤ºæ¥è¢­å¯¼å¼¹æ•°é‡ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ª<strong>ä¸åŒçš„</strong>æ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªå¯¼å¼¹çš„é«˜åº¦ã€‚</p><p>å½“è¾“å…¥æµ‹è¯•ç”¨ä¾‹ n=0æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ï¼Œä¸”è¯¥ç”¨ä¾‹æ— éœ€å¤„ç†ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-11"><a href="#è¾“å‡ºæ ¼å¼-11" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªå æ®ä¸€è¡Œçš„æ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„é˜²å¾¡ç³»ç»Ÿæ•°é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-11"><a href="#æ•°æ®èŒƒå›´-11" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤50</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-11"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-11" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">0 </span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-11"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-11" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>å¯¹äºç»™å‡ºæ ·ä¾‹ï¼Œæœ€å°‘éœ€è¦ä¸¤å¥—é˜²å¾¡ç³»ç»Ÿã€‚</p><p>ä¸€å¥—å‡»è½é«˜åº¦ä¸º 3,4 çš„å¯¼å¼¹ï¼Œå¦ä¸€å¥—å‡»è½é«˜åº¦ä¸º 5,2,1 çš„å¯¼å¼¹ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">55</span>;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> up[N], down[N];<br><span class="hljs-keyword">int</span> ans = <span class="hljs-number">100</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> su, <span class="hljs-keyword">int</span> sd)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (su + sd &gt;= ans) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span> (u == n)<br>    &#123;<br>        ans = su + sd;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (k &lt; su &amp;&amp; up[k] &gt;= w[u]) k ++ ;<br>    <span class="hljs-keyword">if</span> (k &lt; su)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = up[k];<br>        up[k] = w[u];<br>        <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, su, sd);<br>        up[k] = t;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        <span class="hljs-comment">// int t = up[k];</span><br>        up[k] = w[u];<br>        <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, su + <span class="hljs-number">1</span>, sd);<br>    &#125;<br>    <br>    k = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (k &lt; sd &amp;&amp; down[k] &lt;= w[u]) k ++ ;<br>    <span class="hljs-keyword">if</span> (k &lt; sd)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = down[k];<br>        down[k] = w[u];<br>        <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, su, sd);<br>        down[k] = t;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        down[k] = w[u];<br>        <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, su, sd + <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n, n)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; w[i];<br>        <br>        ans = n;<br>        <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        cout &lt;&lt; ans &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T8-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"><a href="#T8-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰" class="headerlink" title="T8:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"></a>T8:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰</h2><blockquote><p>Hello Kittyæƒ³æ‘˜ç‚¹èŠ±ç”Ÿé€ç»™å¥¹å–œæ¬¢çš„ç±³è€é¼ ã€‚</p><p>å¥¹æ¥åˆ°ä¸€ç‰‡æœ‰ç½‘æ ¼çŠ¶é“è·¯çš„çŸ©å½¢èŠ±ç”Ÿåœ°(å¦‚ä¸‹å›¾)ï¼Œä»è¥¿åŒ—è§’è¿›å»ï¼Œä¸œå—è§’å‡ºæ¥ã€‚</p><p>åœ°é‡Œæ¯ä¸ªé“è·¯çš„äº¤å‰ç‚¹ä¸Šéƒ½æœ‰ç§ç€ä¸€æ ªèŠ±ç”Ÿè‹—ï¼Œä¸Šé¢æœ‰è‹¥å¹²é¢—èŠ±ç”Ÿï¼Œç»è¿‡ä¸€æ ªèŠ±ç”Ÿè‹—å°±èƒ½æ‘˜èµ°è¯¥å®ƒä¸Šé¢æ‰€æœ‰çš„èŠ±ç”Ÿã€‚</p><p>Hello Kittyåªèƒ½å‘ä¸œæˆ–å‘å—èµ°ï¼Œä¸èƒ½å‘è¥¿æˆ–å‘åŒ—èµ°ã€‚</p><p>é—®Hello Kittyæœ€å¤šèƒ½å¤Ÿæ‘˜åˆ°å¤šå°‘é¢—èŠ±ç”Ÿã€‚</p><p><img src="https://cdn.acwing.com/media/article/image/2019/09/12/19_a8509f26d5-1.gif" alt="1.gif"></p><h4 id="è¾“å…¥æ ¼å¼-12"><a href="#è¾“å…¥æ ¼å¼-12" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Tï¼Œä»£è¡¨ä¸€å…±æœ‰å¤šå°‘ç»„æ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯Tç»„æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«ä»£è¡¨èŠ±ç”Ÿè‹—çš„è¡Œæ•°Rå’Œåˆ—æ•° Cã€‚</p><p>æ¯ç»„æ•°æ®çš„æ¥ä¸‹æ¥Rè¡Œæ•°æ®ï¼Œä»åŒ—å‘å—ä¾æ¬¡æè¿°æ¯è¡ŒèŠ±ç”Ÿè‹—çš„æƒ…å†µã€‚æ¯è¡Œæ•°æ®æœ‰Cä¸ªæ•´æ•°ï¼ŒæŒ‰ä»è¥¿å‘ä¸œçš„é¡ºåºæè¿°äº†è¯¥è¡Œæ¯æ ªèŠ±ç”Ÿè‹—ä¸Šçš„èŠ±ç”Ÿæ•°ç›®Mã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-12"><a href="#è¾“å‡ºæ ¼å¼-12" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹æ¯ç»„è¾“å…¥æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼Œå†…å®¹ä¸ºHello Kittyèƒ½æ‘˜åˆ°å¾—æœ€å¤šçš„èŠ±ç”Ÿé¢—æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-12"><a href="#æ•°æ®èŒƒå›´-12" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Tâ‰¤100<br>1â‰¤R,Câ‰¤100<br>0â‰¤Mâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-12"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-12" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">6</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-12"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-12" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br>16<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, m;<br>        cin &gt;&gt; n &gt;&gt; m;<br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> f);<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            &#123;<br>                cin &gt;&gt; f[i][j];<br>                f[i][j] += <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][j], f[i][j - <span class="hljs-number">1</span>]);<br>            &#125;<br>            <br>        cout &lt;&lt; f[n][m] &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T9-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"><a href="#T9-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰" class="headerlink" title="T9:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰"></a>T9:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰</h2><blockquote><p>ä¸€ä¸ªå•†äººç©¿è¿‡ä¸€ä¸ª NÃ—Nçš„æ­£æ–¹å½¢çš„ç½‘æ ¼ï¼Œå»å‚åŠ ä¸€ä¸ªéå¸¸é‡è¦çš„å•†åŠ¡æ´»åŠ¨ã€‚</p><p>ä»–è¦ä»ç½‘æ ¼çš„å·¦ä¸Šè§’è¿›ï¼Œå³ä¸‹è§’å‡ºã€‚</p><p>æ¯ç©¿è¶Šä¸­é—´ 1 ä¸ªå°æ–¹æ ¼ï¼Œéƒ½è¦èŠ±è´¹ 1 ä¸ªå•ä½æ—¶é—´ã€‚</p><p>å•†äººå¿…é¡»åœ¨ (2Nâˆ’1) ä¸ªå•ä½æ—¶é—´ç©¿è¶Šå‡ºå»ã€‚</p><p>è€Œåœ¨ç»è¿‡ä¸­é—´çš„æ¯ä¸ªå°æ–¹æ ¼æ—¶ï¼Œéƒ½éœ€è¦ç¼´çº³ä¸€å®šçš„è´¹ç”¨ã€‚</p><p>è¿™ä¸ªå•†äººæœŸæœ›åœ¨è§„å®šæ—¶é—´å†…ç”¨æœ€å°‘è´¹ç”¨ç©¿è¶Šå‡ºå»ã€‚</p><p>è¯·é—®è‡³å°‘éœ€è¦å¤šå°‘è´¹ç”¨ï¼Ÿ</p><p>æ³¨æ„ï¼šä¸èƒ½å¯¹è§’ç©¿è¶Šå„ä¸ªå°æ–¹æ ¼ï¼ˆå³ï¼Œåªèƒ½å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸”ä¸èƒ½ç¦»å¼€ç½‘æ ¼ï¼‰ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-13"><a href="#è¾“å…¥æ ¼å¼-13" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ­£æ–¹å½¢çš„å®½åº¦ Nã€‚</p><p>åé¢ N è¡Œï¼Œæ¯è¡Œ N ä¸ªä¸å¤§äº 100 çš„æ­£æ•´æ•°ï¼Œä¸ºç½‘æ ¼ä¸Šæ¯ä¸ªå°æ–¹æ ¼çš„è´¹ç”¨ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-13"><a href="#è¾“å‡ºæ ¼å¼-13" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè‡³å°‘éœ€è¦çš„è´¹ç”¨ã€‚</p><h4 id="æ•°æ®èŒƒå›´-13"><a href="#æ•°æ®èŒƒå›´-13" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-13"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-13" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span> <span class="hljs-number">4</span>  <span class="hljs-number">6</span>  <span class="hljs-number">8</span>  <span class="hljs-number">10</span><br><span class="hljs-symbol">2 </span> <span class="hljs-number">5</span>  <span class="hljs-number">7</span>  <span class="hljs-number">15</span> <span class="hljs-number">17</span><br><span class="hljs-symbol">6 </span> <span class="hljs-number">8</span>  <span class="hljs-number">9</span>  <span class="hljs-number">18</span> <span class="hljs-number">20</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">19</span> <span class="hljs-number">21</span><br><span class="hljs-symbol">20 </span><span class="hljs-number">23</span> <span class="hljs-number">25</span> <span class="hljs-number">29</span> <span class="hljs-number">33</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-13"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-13" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">109<br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š-1"><a href="#æ ·ä¾‹è§£é‡Š-1" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>æ ·ä¾‹ä¸­ï¼Œæœ€å°å€¼ä¸º 109=1+2+5+7+9+12+19+21+33</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> t;<br>            cin &gt;&gt; t;<br>            f[i][j] = <span class="hljs-number">0x3f3f3f3f</span>;<br>            <span class="hljs-comment">// int t = f[i][j];</span><br>            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span> &amp;&amp; j == <span class="hljs-number">1</span>) f[i][j] = t;<br>            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">1</span>) f[i][j] = <span class="hljs-built_in">min</span>(t + f[i - <span class="hljs-number">1</span>][j], f[i][j]);<br>            <span class="hljs-keyword">if</span> (j &gt; <span class="hljs-number">1</span>) f[i][j] = <span class="hljs-built_in">min</span>(f[i][j - <span class="hljs-number">1</span>] + t, f[i][j]);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n][n] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="T10-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-NOIP2008æé«˜ç»„-Googleé¢è¯•é¢˜ï¼‰"><a href="#T10-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-NOIP2008æé«˜ç»„-Googleé¢è¯•é¢˜ï¼‰" class="headerlink" title="T10:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—, NOIP2008æé«˜ç»„,Googleé¢è¯•é¢˜ï¼‰"></a>T10:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—, NOIP2008æé«˜ç»„,Googleé¢è¯•é¢˜ï¼‰</h2><blockquote><p>å°æ¸Šå’Œå°è½©æ˜¯å¥½æœ‹å‹ä¹Ÿæ˜¯åŒç­åŒå­¦ï¼Œä»–ä»¬åœ¨ä¸€èµ·æ€»æœ‰è°ˆä¸å®Œçš„è¯é¢˜ã€‚</p><p>ä¸€æ¬¡ç´ è´¨æ‹“å±•æ´»åŠ¨ä¸­ï¼Œç­ä¸ŠåŒå­¦å®‰æ’åæˆä¸€ä¸ª m è¡Œ n åˆ—çš„çŸ©é˜µï¼Œè€Œå°æ¸Šå’Œå°è½©è¢«å®‰æ’åœ¨çŸ©é˜µå¯¹è§’çº¿çš„ä¸¤ç«¯ï¼Œå› æ­¤ï¼Œä»–ä»¬å°±æ— æ³•ç›´æ¥äº¤è°ˆäº†ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œä»–ä»¬å¯ä»¥é€šè¿‡ä¼ çº¸æ¡æ¥è¿›è¡Œäº¤æµã€‚</p><p>çº¸æ¡è¦ç»ç”±è®¸å¤šåŒå­¦ä¼ åˆ°å¯¹æ–¹æ‰‹é‡Œï¼Œå°æ¸Šååœ¨çŸ©é˜µçš„å·¦ä¸Šè§’ï¼Œåæ ‡ (1,1)ï¼Œå°è½©ååœ¨çŸ©é˜µçš„å³ä¸‹è§’ï¼Œåæ ‡ (m,n)ã€‚</p><p>ä»å°æ¸Šä¼ åˆ°å°è½©çš„çº¸æ¡åªå¯ä»¥å‘ä¸‹æˆ–è€…å‘å³ä¼ é€’ï¼Œä»å°è½©ä¼ ç»™å°æ¸Šçš„çº¸æ¡åªå¯ä»¥å‘ä¸Šæˆ–è€…å‘å·¦ä¼ é€’ã€‚â€‚</p><p>åœ¨æ´»åŠ¨è¿›è¡Œä¸­ï¼Œå°æ¸Šå¸Œæœ›ç»™å°è½©ä¼ é€’ä¸€å¼ çº¸æ¡ï¼ŒåŒæ—¶å¸Œæœ›å°è½©ç»™ä»–å›å¤ã€‚</p><p>ç­é‡Œæ¯ä¸ªåŒå­¦éƒ½å¯ä»¥å¸®ä»–ä»¬ä¼ é€’ï¼Œä½†åªä¼šå¸®ä»–ä»¬ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæ­¤äººåœ¨å°æ¸Šé€’ç»™å°è½©çº¸æ¡çš„æ—¶å€™å¸®å¿™ï¼Œé‚£ä¹ˆåœ¨å°è½©é€’ç»™å°æ¸Šçš„æ—¶å€™å°±ä¸ä¼šå†å¸®å¿™ï¼Œåä¹‹äº¦ç„¶ã€‚â€‚</p><p>è¿˜æœ‰ä¸€ä»¶äº‹æƒ…éœ€è¦æ³¨æ„ï¼Œå…¨ç­æ¯ä¸ªåŒå­¦æ„¿æ„å¸®å¿™çš„å¥½æ„Ÿåº¦æœ‰é«˜æœ‰ä½ï¼ˆæ³¨æ„ï¼šå°æ¸Šå’Œå°è½©çš„å¥½å¿ƒç¨‹åº¦æ²¡æœ‰å®šä¹‰ï¼Œè¾“å…¥æ—¶ç”¨ 0 è¡¨ç¤ºï¼‰ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª 0âˆ¼100 çš„è‡ªç„¶æ•°æ¥è¡¨ç¤ºï¼Œæ•°è¶Šå¤§è¡¨ç¤ºè¶Šå¥½å¿ƒã€‚</p><p>å°æ¸Šå’Œå°è½©å¸Œæœ›å°½å¯èƒ½æ‰¾å¥½å¿ƒç¨‹åº¦é«˜çš„åŒå­¦æ¥å¸®å¿™ä¼ çº¸æ¡ï¼Œå³æ‰¾åˆ°æ¥å›ä¸¤æ¡ä¼ é€’è·¯å¾„ï¼Œä½¿å¾—è¿™ä¸¤æ¡è·¯å¾„ä¸ŠåŒå­¦çš„å¥½å¿ƒç¨‹åº¦ä¹‹å’Œæœ€å¤§ã€‚</p><p>ç°åœ¨ï¼Œè¯·ä½ å¸®åŠ©å°æ¸Šå’Œå°è½©æ‰¾åˆ°è¿™æ ·çš„ä¸¤æ¡è·¯å¾„ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-14"><a href="#è¾“å…¥æ ¼å¼-14" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæœ‰ 2 ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•° m å’Œ nï¼Œè¡¨ç¤ºå­¦ç”ŸçŸ©é˜µæœ‰ m è¡Œ n åˆ—ã€‚</p><p>æ¥ä¸‹æ¥çš„ m è¡Œæ˜¯ä¸€ä¸ª mÃ—nçš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­ç¬¬ i è¡Œ j åˆ—çš„æ•´æ•°è¡¨ç¤ºååœ¨ç¬¬ i è¡Œ j åˆ—çš„å­¦ç”Ÿçš„å¥½å¿ƒç¨‹åº¦ï¼Œæ¯è¡Œçš„ n ä¸ªæ•´æ•°ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-14"><a href="#è¾“å‡ºæ ¼å¼-14" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ¥å›ä¸¤æ¡è·¯ä¸Šå‚ä¸ä¼ é€’çº¸æ¡çš„å­¦ç”Ÿçš„å¥½å¿ƒç¨‹åº¦ä¹‹å’Œçš„æœ€å¤§å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-14"><a href="#æ•°æ®èŒƒå›´-14" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤50</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-14"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-14" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">8</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">7</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-14"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-14" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">34<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">55</span>;<br><br><span class="hljs-keyword">int</span> f[N &lt;&lt; <span class="hljs-number">1</span>][N][N];<br><span class="hljs-keyword">int</span> w[N][N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            cin &gt;&gt; w[i][j];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">2</span>; k &lt;= n + m; k ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i1 = <span class="hljs-number">1</span>; i1 &lt;= n; i1 ++ )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i2 = <span class="hljs-number">1</span>; i2 &lt;= n; i2 ++ )<br>            &#123;<br>                <span class="hljs-keyword">int</span> j1 = k - i1, j2 = k - i2;<br>                <br>                <span class="hljs-keyword">if</span> (j1 &lt; <span class="hljs-number">1</span> || j1 &gt; m || j2 &lt; <span class="hljs-number">1</span> || j2 &gt; m) <span class="hljs-keyword">continue</span>;<br>                <br>                <span class="hljs-keyword">int</span> t = w[i1][j1];<br>                <span class="hljs-keyword">if</span> (i1 != i2) t += w[i2][j2];<br>                <br>                <span class="hljs-keyword">int</span> &amp;x = f[k][i1][i2];<br>                <br>                x = <span class="hljs-built_in">max</span>(x, t + f[k - <span class="hljs-number">1</span>][i1][i2]);<br>                x = <span class="hljs-built_in">max</span>(x, t + f[k - <span class="hljs-number">1</span>][i1 - <span class="hljs-number">1</span>][i2]);<br>                x = <span class="hljs-built_in">max</span>(x, t + f[k - <span class="hljs-number">1</span>][i1][i2 - <span class="hljs-number">1</span>]);<br>                x = <span class="hljs-built_in">max</span>(x, t + f[k - <span class="hljs-number">1</span>][i1 - <span class="hljs-number">1</span>][i2 - <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n + m][n][n] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èƒŒåŒ…é—®é¢˜åˆå§‹åŒ–çš„ç ”ç©¶</title>
    <link href="/posts/174001435.html"/>
    <url>/posts/174001435.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰æ˜¯ä¸€ç¯‡æœ¬äººåšèƒŒåŒ…é—®é¢˜é¢˜ç›®æ—¶çš„ä¸€äº›æ„Ÿæ‚Ÿï¼Œæ–‡ç« è¾ƒé•¿~</p><span id="more"></span><h2 id="å­¦èƒŒåŒ…é—®é¢˜çš„è¿‡ç¨‹"><a href="#å­¦èƒŒåŒ…é—®é¢˜çš„è¿‡ç¨‹" class="headerlink" title="å­¦èƒŒåŒ…é—®é¢˜çš„è¿‡ç¨‹:"></a>å­¦èƒŒåŒ…é—®é¢˜çš„è¿‡ç¨‹:</h2><ul><li>ä¸€å¼€å§‹å­¦èƒŒåŒ…é—®é¢˜æ—¶é‡åˆ°çš„å¤§å¤šæ•°çš„çŠ¶æ€è¡¨ç¤ºæ˜¯ï¼šä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡jçš„é—®é¢˜ã€‚</li><li>æ…¢æ…¢åœ°å°±æœ‰å‡ºç°çŠ¶æ€è¡¨ç¤ºæ˜¯ï¼šä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯æ°å¥½æ˜¯jçš„é—®é¢˜ã€‚ä¾‹å¦‚ä¹°ä¹¦ ï¼Œæ±‚çš„æ˜¯æ°å¥½æ˜¯jçš„æ€»æ–¹æ¡ˆæ•°é—®é¢˜ã€‚</li><li>åŒæ—¶è¿˜å‡ºç°äº†çŠ¶æ€è¡¨ç¤ºæ˜¯ï¼šä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯è‡³å°‘æ˜¯jçš„é—®é¢˜ã€‚ä¾‹å¦‚æ½œæ°´å‘˜ ï¼Œæ±‚çš„æ˜¯æ€»ä½“ç§¯è‡³å°‘æ˜¯jçš„æœ€å°ä»·å€¼</li></ul><p><strong>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä»–ä»¬çš„åˆ†ææ–¹æ³•ä»¥åŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå”¯ç‹¬æ˜¯åˆå§‹åŒ–æœ‰å¾ˆå¤§çš„ä¸åŒ</strong></p><hr><h2 id="æ±‚æ–¹æ¡ˆæ•°é—®é¢˜"><a href="#æ±‚æ–¹æ¡ˆæ•°é—®é¢˜" class="headerlink" title="æ±‚æ–¹æ¡ˆæ•°é—®é¢˜"></a>æ±‚æ–¹æ¡ˆæ•°é—®é¢˜</h2><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯ä¸è¶…è¿‡mçš„æ–¹æ¡ˆæ•°</p></blockquote><p>ä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡jçš„æ€»æ–¹æ¡ˆæ•°ï¼Œåˆå§‹åŒ–æ˜¯f[0][i] = 1, 0 &lt;= i &lt;= mï¼Œå…¶ä½™æ˜¯0</p><h3 id="äºŒç»´ä»£ç ï¼š"><a href="#äºŒç»´ä»£ç ï¼š" class="headerlink" title="äºŒç»´ä»£ç ï¼š"></a>äºŒç»´ä»£ç ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i &lt;= m;i ++) f[<span class="hljs-number">0</span>][i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;j &lt;= m;j ++)<br>        &#123;<br>            f[i][j] = f[i - <span class="hljs-number">1</span>][j];<br>            <span class="hljs-keyword">if</span>(j &gt;= v) f[i][j] += f[i - <span class="hljs-number">1</span>][j - v];<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="ä¸€ç»´ä»£ç ï¼š"><a href="#ä¸€ç»´ä»£ç ï¼š" class="headerlink" title="ä¸€ç»´ä»£ç ï¼š"></a>ä¸€ç»´ä»£ç ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i &lt;= m;i ++) f[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= v;j --)<br>        &#123;<br>            f[j] = f[j] + f[j - v];<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><hr><p><strong>ä»¥ä¸‹å¼€å§‹éƒ½ç›´æ¥å†™ä¸€ç»´å¼å­</strong></p><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥é€‰æ— æ•°å¤šä¸ªï¼Œæ±‚æ€»ä½“ç§¯ä¸è¶…è¿‡mçš„æ–¹æ¡ˆæ•°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i &lt;= m;i ++) f[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = v;j &lt;= m;j ++)<br>        &#123;<br>            f[j] = f[j] + f[j - v];<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯æ°å¥½æ˜¯mçš„æ–¹æ¡ˆæ•°</p></blockquote><p><strong>ä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯æ°å¥½æ˜¯jçš„æ€»æ–¹æ¡ˆæ•°ï¼Œåˆå§‹åŒ–æ˜¯f[0][0] = 1, å…¶ä½™æ˜¯0</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= v;j --)<br>        &#123;<br>            f[j] = f[j] + f[j - v];<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥é€‰æ— æ•°å¤šä¸ªï¼Œæ±‚æ€»ä½“ç§¯æ°å¥½æ˜¯mçš„æ–¹æ¡ˆæ•°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = v;j &lt;= m;j ++)<br>        &#123;<br>            f[j] = f[j] + f[j - v];<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯è‡³å°‘æ˜¯mçš„æ–¹æ¡ˆæ•°</p></blockquote><p><strong>ä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯è‡³å°‘æ˜¯jçš„æ€»æ–¹æ¡ˆæ•°ï¼Œåˆå§‹åŒ–æ˜¯f[0][0] = 1, å…¶ä½™æ˜¯0ï¼ˆè‡³å°‘çš„æƒ…å†µï¼Œjéœ€è¦ä»0æšä¸¾åˆ°mï¼Œæˆ–è€…ä»mæšä¸¾åˆ°0ï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= <span class="hljs-number">0</span>;j --)<span class="hljs-comment">//å³ä½¿ç‰©å“ä½“ç§¯æ¯”jå¤§ï¼Œj - v &lt; 0ï¼Œä¹Ÿèƒ½é€‰ï¼Œç­‰ä»·äºf[0]</span><br>        &#123;<br>            f[j] = f[j] + f[<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>,j - v)];<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥é€‰æ— æ•°å¤šä¸ªï¼Œæ±‚æ€»ä½“ç§¯è‡³å°‘æ˜¯mçš„æ–¹æ¡ˆæ•°</p></blockquote><p><strong>ç­”æ¡ˆæ˜¯æ— ç©·å¤šç§æ–¹æ¡ˆæ•°</strong></p><hr><h2 id="æ±‚æœ€å¤§å€¼æœ€å°å€¼é—®é¢˜"><a href="#æ±‚æœ€å¤§å€¼æœ€å°å€¼é—®é¢˜" class="headerlink" title="æ±‚æœ€å¤§å€¼æœ€å°å€¼é—®é¢˜"></a>æ±‚æœ€å¤§å€¼æœ€å°å€¼é—®é¢˜</h2><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯å’Œå¯¹åº”çš„ä»·å€¼ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯ä¸è¶…è¿‡mçš„æœ€å¤§ä»·å€¼</p></blockquote><p><strong>1ã€ä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯ä¸è¶…è¿‡jçš„æœ€å¤§ä»·å€¼ï¼Œåˆå§‹åŒ–æ˜¯f[i,k] = 0ï¼Œ0 &lt;= i &lt;= n, 0 &lt;= k &lt;= mï¼ˆåªä¼šæ±‚ä»·å€¼çš„æœ€å¤§å€¼ï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= v;j --)<br>        &#123;<br>            f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯å’Œå¯¹åº”çš„ä»·å€¼ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯æ°å¥½æ˜¯jçš„æœ€å°ä»·å€¼</p></blockquote><p><strong>(1)æ±‚ä»·å€¼æœ€å°å€¼ï¼šåˆå§‹åŒ–f[0][0] = 0, å…¶ä½™æ˜¯INF</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-built_in">memset</span>(f, INF, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= v;j --)<br>        &#123;<br>            f[j] = <span class="hljs-built_in">min</span>(f[j], f[j - v] + w);<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><blockquote><p>ä¾‹å­ï¼šç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯å’Œå¯¹åº”çš„ä»·å€¼ï¼Œæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€ä¸ªï¼Œæ±‚æ€»ä½“ç§¯æ°å¥½æ˜¯jçš„æœ€å¤§ä»·å€¼</p></blockquote><p><strong>(2)æ±‚ä»·å€¼æœ€å¤§å€¼ï¼šåˆå§‹åŒ–f[0][0] = 0, å…¶ä½™æ˜¯-INF</strong></p><figure class="highlight arduino"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-built_in">memset</span>(f, -INF, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= v;j --)<br>        &#123;<br>            f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><blockquote><p>ç»™ä½ ä¸€å †ç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€å®šçš„ä½“ç§¯å’Œå¯¹åº”çš„ä»·å€¼ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥é€‰æ— æ•°å¤šä¸ªï¼Œæ±‚æ€»ä½“ç§¯è‡³å°‘æ˜¯jçš„æœ€å°ä»·å€¼</p></blockquote><p><strong>ä»å‰iä¸ªç‰©å“ä¸­é€‰ï¼Œä¸”æ€»ä½“ç§¯è‡³å°‘æ˜¯jï¼Œåˆå§‹åŒ–æ˜¯f[0][0] = 0, å…¶ä½™æ˜¯INFï¼ˆåªä¼šæ±‚ä»·å€¼çš„æœ€å°å€¼ï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-built_in">memset</span>(f, INF, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m;j &gt;= <span class="hljs-number">0</span>;j --)<br>        &#123;<br>            f[j] = <span class="hljs-built_in">min</span>(f[j], f[<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, j - v)] + w);<span class="hljs-comment">//å³ä½¿ç‰©å“ä½“ç§¯æ¯”jå¤§ï¼Œj - v &lt; 0ï¼Œä¹Ÿèƒ½é€‰ï¼Œç­‰ä»·äºf[0]</span><br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>è‡³æ­¤æŠŠå‡ ä¹æ‰€æœ‰èƒŒåŒ…é—®é¢˜çš„çŸ¥è¯†ç‚¹éƒ½ç»“æŸäº†ï¼Œè¿™ä¸ªåˆå§‹åŒ–ä¹Ÿæ˜¯è´¹äº†å¥½å¤§åŠ²æ•´ç†å‡ºæ¥çš„</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èƒŒåŒ…æ¨¡å‹dp</title>
    <link href="/posts/4049357194.html"/>
    <url>/posts/4049357194.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°å››ä¸ªèƒŒåŒ…æ¨¡å‹å’Œä¸€éƒ¨åˆ†ä¼˜åŒ–æ–¹å¼</p><span id="more"></span><h1 id="åŠ¨æ€è§„åˆ’ï¼ˆ1ï¼‰â€“èƒŒåŒ…é—®é¢˜"><a href="#åŠ¨æ€è§„åˆ’ï¼ˆ1ï¼‰â€“èƒŒåŒ…é—®é¢˜" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼ˆ1ï¼‰â€“èƒŒåŒ…é—®é¢˜"></a>åŠ¨æ€è§„åˆ’ï¼ˆ1ï¼‰â€“èƒŒåŒ…é—®é¢˜</h1><h2 id="èƒŒåŒ…é—®é¢˜çš„åˆ†ç±»ï¼š"><a href="#èƒŒåŒ…é—®é¢˜çš„åˆ†ç±»ï¼š" class="headerlink" title="èƒŒåŒ…é—®é¢˜çš„åˆ†ç±»ï¼š"></a>èƒŒåŒ…é—®é¢˜çš„åˆ†ç±»ï¼š</h2><ul><li>01èƒŒåŒ…æ¨¡å‹<ul><li>æ¯ä¸ªç‰©å“åªæœ‰ä¸€ä¸ª</li></ul></li><li>å®Œå…¨èƒŒåŒ…é—®é¢˜<ul><li>æ¯ä¸ªç‰©å“æœ‰æ— é™ä¸ª</li></ul></li><li>å¤šé‡èƒŒåŒ…é—®é¢˜<ul><li>æ¯ä¸ªç‰©å“å…·æœ‰ç‰¹å®šæ•°ç›®ä¸ª</li></ul></li><li>åˆ†ç»„èƒŒåŒ…é—®é¢˜<ul><li>æœ‰å¤šä¸ªç»„ï¼Œæ¯ç»„ç‰©å“åªèƒ½æ‹¿ä¸€ä¸ª</li></ul></li></ul><p>ä¼šå‘ç°è¿™ç±»é—®é¢˜ä»£è¡¨äº†æˆ‘ä»¬ç°å®ç”Ÿæ´»ä¸­çš„æ¯ä¸ªåœºæ™¯</p><hr><h3 id="èƒŒåŒ…æ¨¡å‹"><a href="#èƒŒåŒ…æ¨¡å‹" class="headerlink" title="èƒŒåŒ…æ¨¡å‹"></a>èƒŒåŒ…æ¨¡å‹</h3><blockquote><p>æ­¤æ¨¡å‹å¯¹åº”ç°å®ä¸­çš„ä¸€ä¸ªçœŸå®æƒ…æ™¯ï¼Œå½“ä½ é¢å‰æ‘†æ»¡äº†è®¸å¤šç‰©å“ï¼ˆç‰©å“å…·æœ‰ä½“ç§¯å’Œä»·å€¼ï¼‰ï¼ˆ<strong>æ¯ä¸ªç‰©å“ä¸ªæ•°ä¼šæœ‰ä¸åŒçš„é™å®šæ¡ä»¶</strong>ï¼‰ï¼Œè€Œæ­¤æ—¶ä½ çš„èƒŒåŒ…å®¹é‡æœ‰é™ï¼ˆä½“ç§¯æœ‰é™ï¼‰ï¼Œä½ è¦æ€ä¹ˆæ‹¿ç‰©å“æ‰èƒ½ä½¿ä½ çš„èƒŒåŒ…é‡Œæ‹¿èµ°çš„ç‰©å“ä»·å€¼æœ€å¤§ã€‚</p></blockquote><p>å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå°±æ˜¯æœ€ä¼˜æ–¹æ¡ˆé—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šèŒç”Ÿå‡ºä¸€ä¸ªæš´åŠ›çš„æƒ³æ³•å°±æ˜¯æšä¸¾æ¯ä¸ªç‰©å“è¦æˆ–è€…ä¸è¦ï¼Œé‚£ä¹ˆå°±ä¼šæšä¸¾2çš„næ¬¡æ–¹ç§æ–¹æ¡ˆ(åªçœ‹æœ€ç®€å•çš„01èƒŒåŒ…çš„æ—¶å€™)ï¼Œè¿™æ˜æ˜¾æŒ‡æ•°çº§çš„å¤æ‚åº¦æ˜¯ä¸å¯å–çš„ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¼šç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p><p><strong>åŠ¨æ€è§„åˆ’å°±æ˜¯åŒ–é›¶ä¸ºæ•´ï¼ŒåŒ–æ•´ä¸ºé›¶çš„è¿‡ç¨‹</strong>ï¼ˆè¯¾ä¸Šä¼šä»”ç»†è®²è¿™ä¸ªæ€æƒ³ï¼‰</p><p>è®©æˆ‘ä»¬çœ‹ä¸€çœ‹é¢˜ç›®å§~</p><h4 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p>ç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹"><a href="#è¾“å…¥æ ·ä¾‹" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><p><strong>ä¼˜åŒ–å‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span>(j - v &gt;= <span class="hljs-number">0</span>) f[i][j] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][j], f[i - <span class="hljs-number">1</span>][j - v] + w);<br>            <span class="hljs-keyword">else</span> f[i][j] = f[i - <span class="hljs-number">1</span>][j];<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–å</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= v; j -- )<br>        &#123;<br>            <br>            f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>dpçš„ä¼˜åŒ–å°±æ˜¯å¯¹åŸæ¥çš„ä»£ç åšç­‰ä»·å˜æ¢</strong></p><hr><h3 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h3><h4 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p>æœ‰ N ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨ã€‚</p><p>ç¬¬ i ç§ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ç§ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹-1"><a href="#è¾“å…¥æ ·ä¾‹-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">10<br></code></pre></div></td></tr></table></figure></blockquote><p><strong>ä¼˜åŒ–å‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;v, &amp;w);<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k * v &lt;= j; k ++ )<br>            &#123;<br>                f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], f[i - <span class="hljs-number">1</span>][j - v * k] + w * k);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–å</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = v; j &lt;= m; j ++ )<br>            f[j] = <span class="hljs-built_in">max</span>(f[j - v] + w, f[j]);<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä¹Ÿæ˜¯æ‰¾åˆ°äº†æ€§è´¨è¿›è¡Œç­‰ä»·å˜å½¢</p><hr><h3 id="å¤šé‡èƒŒåŒ…é—®é¢˜ï¼š"><a href="#å¤šé‡èƒŒåŒ…é—®é¢˜ï¼š" class="headerlink" title="å¤šé‡èƒŒåŒ…é—®é¢˜ï¼š"></a>å¤šé‡èƒŒåŒ…é—®é¢˜ï¼š</h3><h4 id="åˆ—é¢˜ï¼š"><a href="#åˆ—é¢˜ï¼š" class="headerlink" title="åˆ—é¢˜ï¼š"></a>åˆ—é¢˜ï¼š</h4><blockquote><p>æœ‰ N ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚</p><p>ç¬¬ i ç§ç‰©å“æœ€å¤šæœ‰ si ä»¶ï¼Œæ¯ä»¶ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,wi,siç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ ii ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤100<br>0&lt;vi,wi,siâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹-2"><a href="#è¾“å…¥æ ·ä¾‹-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">10<br></code></pre></div></td></tr></table></figure></blockquote><p><strong>ä¼˜åŒ–å‰ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w, c;<br>        cin &gt;&gt; v &gt;&gt; w &gt;&gt; c;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j -- )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k * v &lt;= j &amp;&amp; k &lt;= c; k ++ )<br>            &#123;<br>                f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - k * v] + w * k);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>ä¼˜åŒ–å</strong>ï¼ˆäºŒè¿›åˆ¶ä¼˜åŒ–ï¼Œä»¥åè¿˜ä¼šæœ‰å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span> * <span class="hljs-number">11</span>, M = <span class="hljs-number">2010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-keyword">int</span> f[M];<br><br><span class="hljs-keyword">int</span> w[N], v[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, s;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;<br>        <br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">while</span> (k &lt;= s)<br>        &#123;<br>            cnt ++ ;<br>            v[cnt] = a * k;<br>            w[cnt] = b * k;<br>            <br>            s -= k;<br>            k &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (s &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            cnt ++ ;<br>            v[cnt] = a * s;<br>            w[cnt] = b * s;<br>        &#125;<br>    &#125;<br>    <br>    n = cnt;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= v[i]; j -- )<br>        &#123;<br>            f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v[i]] + w[i]);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>é€šè¿‡ä¸€äº›æ€§è´¨ï¼ŒæŠŠå¤šé‡èƒŒåŒ…è½¬æ¢æˆ01èƒŒåŒ…</strong></p><hr><h3 id="åˆ†ç»„èƒŒåŒ…"><a href="#åˆ†ç»„èƒŒåŒ…" class="headerlink" title="åˆ†ç»„èƒŒåŒ…"></a>åˆ†ç»„èƒŒåŒ…</h3><h4 id="ä¾‹é¢˜ï¼š-2"><a href="#ä¾‹é¢˜ï¼š-2" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p>æœ‰ N ç»„ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚</p><p>æ¯ç»„ç‰©å“æœ‰è‹¥å¹²ä¸ªï¼ŒåŒä¸€ç»„å†…çš„ç‰©å“æœ€å¤šåªèƒ½é€‰ä¸€ä¸ªã€‚<br>æ¯ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ vijï¼Œä»·å€¼æ˜¯ wijï¼Œå…¶ä¸­ i æ˜¯ç»„å·ï¼Œj æ˜¯ç»„å†…ç¼–å·ã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚</p><p>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° Nï¼ŒVç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç»„æ•°å’ŒèƒŒåŒ…å®¹é‡ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N ç»„æ•°æ®ï¼š</p><ul><li>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•° Siï¼Œè¡¨ç¤ºç¬¬ ii ä¸ªç‰©å“ç»„çš„ç‰©å“æ•°é‡ï¼›</li><li>æ¯ç»„æ•°æ®æ¥ä¸‹æ¥æœ‰ Si è¡Œï¼Œæ¯è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° vij,wijï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä¸ªç‰©å“ç»„çš„ç¬¬ j ä¸ªç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ï¼›</li></ul><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤100<br>0&lt;Siâ‰¤100<br>0&lt;vij,wijâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹-3"><a href="#è¾“å…¥æ ·ä¾‹-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">5</span><br><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-number">1</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> v[N][N], w[N][N];<br><br><span class="hljs-keyword">int</span> f[N], s[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        cin &gt;&gt; s[i];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= s[i]; j ++ ) <br>            cin &gt;&gt; v[i][j] &gt;&gt; w[i][j];<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j -- )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= s[i]; k ++ )<br>            &#123;<br>                <span class="hljs-keyword">if</span> (v[i][k] &lt;= j) f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v[i][k]] + w[i][k]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="ç»ƒä¹ é¢˜ï¼š"><a href="#ç»ƒä¹ é¢˜ï¼š" class="headerlink" title="ç»ƒä¹ é¢˜ï¼š"></a>ç»ƒä¹ é¢˜ï¼š</h2><h3 id="T1-ï¼ˆNOIP2005æ™®åŠç»„ï¼‰ï¼ˆ01èƒŒåŒ…é—®é¢˜ï¼‰"><a href="#T1-ï¼ˆNOIP2005æ™®åŠç»„ï¼‰ï¼ˆ01èƒŒåŒ…é—®é¢˜ï¼‰" class="headerlink" title="T1:ï¼ˆNOIP2005æ™®åŠç»„ï¼‰ï¼ˆ01èƒŒåŒ…é—®é¢˜ï¼‰"></a>T1:ï¼ˆNOIP2005æ™®åŠç»„ï¼‰ï¼ˆ01èƒŒåŒ…é—®é¢˜ï¼‰</h3><blockquote><p>è¾°è¾°æ˜¯ä¸ªå¤©èµ„èªé¢–çš„å­©å­ï¼Œä»–çš„æ¢¦æƒ³æ˜¯æˆä¸ºä¸–ç•Œä¸Šæœ€ä¼Ÿå¤§çš„åŒ»å¸ˆã€‚</p><p>ä¸ºæ­¤ï¼Œä»–æƒ³æ‹œé™„è¿‘æœ€æœ‰å¨æœ›çš„åŒ»å¸ˆä¸ºå¸ˆã€‚</p><p>åŒ»å¸ˆä¸ºäº†åˆ¤æ–­ä»–çš„èµ„è´¨ï¼Œç»™ä»–å‡ºäº†ä¸€ä¸ªéš¾é¢˜ã€‚</p><p>åŒ»å¸ˆæŠŠä»–å¸¦åˆ°ä¸€ä¸ªåˆ°å¤„éƒ½æ˜¯è‰è¯çš„å±±æ´é‡Œå¯¹ä»–è¯´ï¼šâ€œå­©å­ï¼Œè¿™ä¸ªå±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒçš„è‰è¯ï¼Œé‡‡æ¯ä¸€æ ªéƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯ä¸€æ ªä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼ã€‚æˆ‘ä¼šç»™ä½ ä¸€æ®µæ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œï¼Œä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­ï¼Œä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§ã€‚â€</p><p>å¦‚æœä½ æ˜¯è¾°è¾°ï¼Œä½ èƒ½å®Œæˆè¿™ä¸ªä»»åŠ¡å—ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° T å’Œ Mï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼ŒT ä»£è¡¨æ€»å…±èƒ½å¤Ÿç”¨æ¥é‡‡è¯çš„æ—¶é—´ï¼ŒM ä»£è¡¨å±±æ´é‡Œçš„è‰è¯çš„æ•°ç›®ã€‚</p><p>æ¥ä¸‹æ¥çš„ M è¡Œæ¯è¡ŒåŒ…æ‹¬ä¸¤ä¸ªåœ¨ 1 åˆ° 100 ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ 100ï¼‰çš„æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºé‡‡æ‘˜æŸæ ªè‰è¯çš„æ—¶é—´å’Œè¿™æ ªè‰è¯çš„ä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ–‡ä»¶åŒ…æ‹¬ä¸€è¡Œï¼Œè¿™ä¸€è¡ŒåªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåœ¨è§„å®šçš„æ—¶é—´å†…ï¼Œå¯ä»¥é‡‡åˆ°çš„è‰è¯çš„æœ€å¤§æ€»ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Tâ‰¤1000<br>1â‰¤Mâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">70 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">71 </span><span class="hljs-number">100</span><br><span class="hljs-symbol">69 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= v; j -- )<br>        &#123;<br>            f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="T2-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰ï¼ˆ01èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰"><a href="#T2-ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰ï¼ˆ01èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰" class="headerlink" title="T2:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰ï¼ˆ01èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰"></a>T2:ï¼ˆç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ï¼‰ï¼ˆ01èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰</h3><blockquote><p>ç»™å®š N ä¸ªæ­£æ•´æ•° A1,A2,â€¦,ANï¼Œä»ä¸­é€‰å‡ºè‹¥å¹²ä¸ªæ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸º Mï¼Œæ±‚æœ‰å¤šå°‘ç§é€‰æ‹©æ–¹æ¡ˆã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º A1,A2,â€¦,AN</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>åŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯é€‰æ–¹æ¡ˆæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤100<br>1â‰¤Mâ‰¤10000<br>1â‰¤Aiâ‰¤1000<br>ç­”æ¡ˆä¿è¯åœ¨ int èŒƒå›´å†…ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= v; j -- )<br>            f[j] += f[j - v];<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T3-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ï¼‰"><a href="#T3-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ï¼‰" class="headerlink" title="T3:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ï¼‰"></a>T3:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ï¼‰</h3><blockquote><p>å°æ˜æ‰‹é‡Œæœ‰nå…ƒé’±å…¨éƒ¨ç”¨æ¥ä¹°ä¹¦ï¼Œä¹¦çš„ä»·æ ¼ä¸º10å…ƒï¼Œ20å…ƒï¼Œ50å…ƒï¼Œ100å…ƒã€‚</p><p>é—®å°æ˜æœ‰å¤šå°‘ç§ä¹°ä¹¦æ–¹æ¡ˆï¼Ÿï¼ˆæ¯ç§ä¹¦å¯è´­ä¹°å¤šæœ¬ï¼‰</p><h4 id="è¾“å…¥æ ¼å¼-6"><a href="#è¾“å…¥æ ¼å¼-6" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ä¸€ä¸ªæ•´æ•° nï¼Œä»£è¡¨æ€»å…±é’±æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨é€‰æ‹©æ–¹æ¡ˆç§æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-6"><a href="#æ•°æ®èŒƒå›´-6" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0â‰¤nâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">20<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">15<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">0<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ·ä¾‹3ï¼š"><a href="#è¾“å…¥æ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹3ï¼š"></a>è¾“å…¥æ ·ä¾‹3ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">0<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹3ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹3ï¼š"></a>è¾“å‡ºæ ·ä¾‹3ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> v[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>&#125;;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br><br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = v[i]; j &lt;= n; j ++ )<br>            f[j] += f[j - v[i]];<br><br>    cout &lt;&lt; f[n] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T4-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆåˆ†ç»„èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆï¼‰"><a href="#T4-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆåˆ†ç»„èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆï¼‰" class="headerlink" title="T4:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆåˆ†ç»„èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆï¼‰"></a>T4:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰ï¼ˆåˆ†ç»„èƒŒåŒ…æ±‚å…·ä½“æ–¹æ¡ˆï¼‰</h3><blockquote><p>æ€»å…¬å¸æ‹¥æœ‰Må° <strong>ç›¸åŒ</strong> çš„é«˜æ•ˆè®¾å¤‡ï¼Œå‡†å¤‡åˆ†ç»™ä¸‹å±çš„Nä¸ªåˆ†å…¬å¸ã€‚</p><p>å„åˆ†å…¬å¸è‹¥è·å¾—è¿™äº›è®¾å¤‡ï¼Œå¯ä»¥ä¸ºå›½å®¶æä¾›ä¸€å®šçš„ç›ˆåˆ©ã€‚ç›ˆåˆ©ä¸åˆ†é…çš„è®¾å¤‡æ•°é‡æœ‰å…³ã€‚</p><p>é—®ï¼šå¦‚ä½•åˆ†é…è¿™Må°è®¾å¤‡æ‰èƒ½ä½¿å›½å®¶å¾—åˆ°çš„ç›ˆåˆ©æœ€å¤§ï¼Ÿ</p><p>æ±‚å‡ºæœ€å¤§ç›ˆåˆ©å€¼ã€‚</p><p>åˆ†é…åŸåˆ™ï¼šæ¯ä¸ªå…¬å¸æœ‰æƒè·å¾—ä»»æ„æ•°ç›®çš„è®¾å¤‡ï¼Œä½†æ€»å°æ•°ä¸è¶…è¿‡è®¾å¤‡æ•°Mã€‚</p><h4 id="è¾“å…¥æ ¼å¼-7"><a href="#è¾“å…¥æ ¼å¼-7" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•°ï¼Œç¬¬ä¸€ä¸ªæ•°æ˜¯åˆ†å…¬å¸æ•°Nï¼Œç¬¬äºŒä¸ªæ•°æ˜¯è®¾å¤‡å°æ•°Mï¼›</p><p>æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªN*Mçš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„ç¬¬ i è¡Œç¬¬ j åˆ—çš„æ•´æ•°è¡¨ç¤ºç¬¬ i ä¸ªå…¬å¸åˆ†é… j å°æœºå™¨æ—¶çš„ç›ˆåˆ©ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-7"><a href="#è¾“å‡ºæ ¼å¼-7" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å‡ºæœ€å¤§ç›ˆåˆ©å€¼ï¼›</p><p>æ¥ä¸‹Nè¡Œï¼Œæ¯è¡Œæœ‰2ä¸ªæ•°ï¼Œå³åˆ†å…¬å¸ç¼–å·å’Œè¯¥åˆ†å…¬å¸è·å¾—è®¾å¤‡å°æ•°ã€‚</p><p>ç­”æ¡ˆä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„åˆæ³•æ–¹æ¡ˆå³å¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´-7"><a href="#æ•°æ®èŒƒå›´-7" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10<br>1â‰¤Mâ‰¤15</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">30 </span><span class="hljs-number">40</span> <span class="hljs-number">50</span><br><span class="hljs-symbol">20 </span><span class="hljs-number">30</span> <span class="hljs-number">50</span><br><span class="hljs-symbol">20 </span><span class="hljs-number">25</span> <span class="hljs-number">30</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-6"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">70</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">11</span>, M = <span class="hljs-number">16</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> w[N][M];<br><span class="hljs-keyword">int</span> f[N][M];<br><span class="hljs-keyword">int</span> way[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>            cin &gt;&gt; w[i][j];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= m; j ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= j; k ++ )<br>                f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], f[i - <span class="hljs-number">1</span>][j - k] + w[i][k]);<br><br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">int</span> j = m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i; i -- )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= j; k ++ )<br>            <span class="hljs-keyword">if</span> (f[i][j] == f[i - <span class="hljs-number">1</span>][j - k] + w[i][k])<br>            &#123;<br>                way[i] = k;<br>                j -= k;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; way[i] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T5-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰"><a href="#T5-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰" class="headerlink" title="T5:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰"></a>T5:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ±‚å…·ä½“æ–¹æ¡ˆé—®é¢˜ï¼‰</h3><blockquote><p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p>ç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚</p><p>è¾“å‡º <strong>å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆ</strong>ã€‚è¿™é‡Œçš„å­—å…¸åºæ˜¯æŒ‡ï¼šæ‰€é€‰ç‰©å“çš„ç¼–å·æ‰€æ„æˆçš„åºåˆ—ã€‚ç‰©å“çš„ç¼–å·èŒƒå›´æ˜¯ 1â€¦N</p><h4 id="è¾“å…¥æ ¼å¼-8"><a href="#è¾“å…¥æ ¼å¼-8" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ ii ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-8"><a href="#è¾“å‡ºæ ¼å¼-8" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«è‹¥å¹²ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼Œè¡¨ç¤ºæœ€ä¼˜è§£ä¸­æ‰€é€‰ç‰©å“çš„ç¼–å·åºåˆ—ï¼Œä¸”è¯¥ç¼–å·åºåˆ—çš„å­—å…¸åºæœ€å°ã€‚</p><p>ç‰©å“ç¼–å·èŒƒå›´æ˜¯ 1â€¦N</p><h4 id="æ•°æ®èŒƒå›´-8"><a href="#æ•°æ®èŒƒå›´-8" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹-4"><a href="#è¾“å…¥æ ·ä¾‹-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-7"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> v[N], w[N];<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; v[i] &gt;&gt; w[i];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -- )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= m; j ++ )<br>        &#123;<br>            f[i][j] = f[i + <span class="hljs-number">1</span>][j];<br>            <span class="hljs-keyword">if</span> (j &gt;= v[i]) f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], f[i + <span class="hljs-number">1</span>][j - v[i]] + w[i]);<br>        &#125;<br><br>    <span class="hljs-keyword">int</span> j = m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">if</span> (j &gt;= v[i] &amp;&amp; f[i][j] == f[i + <span class="hljs-number">1</span>][j - v[i]] + w[i])<br>        &#123;<br>            cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>            j -= v[i];<br>        &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T6-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰"><a href="#T6-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰" class="headerlink" title="T6:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰"></a>T6:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰</h3><blockquote><p>æœ‰ N ä¸ªç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚</p><p>ç‰©å“ä¹‹é—´å…·æœ‰ä¾èµ–å…³ç³»ï¼Œä¸”ä¾èµ–å…³ç³»ç»„æˆä¸€æ£µæ ‘çš„å½¢çŠ¶ã€‚å¦‚æœé€‰æ‹©ä¸€ä¸ªç‰©å“ï¼Œåˆ™å¿…é¡»é€‰æ‹©å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://www.acwing.com/media/article/image/2018/10/18/1_bb51ecbcd2-QQ%E5%9B%BE%E7%89%8720181018170337.png" alt="QQå›¾ç‰‡20181018170337.png"></p><p>å¦‚æœé€‰æ‹©ç‰©å“5ï¼Œåˆ™å¿…é¡»é€‰æ‹©ç‰©å“1å’Œ2ã€‚è¿™æ˜¯å› ä¸º2æ˜¯5çš„çˆ¶èŠ‚ç‚¹ï¼Œ1æ˜¯2çš„çˆ¶èŠ‚ç‚¹ã€‚</p><p>æ¯ä»¶ç‰©å“çš„ç¼–å·æ˜¯ iiï¼Œä½“ç§¯æ˜¯ viviï¼Œä»·å€¼æ˜¯ wiwiï¼Œä¾èµ–çš„çˆ¶èŠ‚ç‚¹ç¼–å·æ˜¯ pipiã€‚ç‰©å“çš„ä¸‹æ ‡èŒƒå›´æ˜¯ 1â€¦N1â€¦Nã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚</p><p>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-9"><a href="#è¾“å…¥æ ¼å¼-9" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° Nï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ä¸ªæ•°å’ŒèƒŒåŒ…å®¹é‡ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œæ•°æ®ï¼Œæ¯è¡Œæ•°æ®è¡¨ç¤ºä¸€ä¸ªç‰©å“ã€‚<br>ç¬¬ ii è¡Œæœ‰ä¸‰ä¸ªæ•´æ•° vi,wi,piï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œä¾èµ–çš„ç‰©å“ç¼–å·ã€‚<br>å¦‚æœ pi=âˆ’1è¡¨ç¤ºæ ¹èŠ‚ç‚¹ã€‚ <strong>æ•°æ®ä¿è¯æ‰€æœ‰ç‰©å“æ„æˆä¸€æ£µæ ‘ã€‚</strong></p><h4 id="è¾“å‡ºæ ¼å¼-9"><a href="#è¾“å‡ºæ ¼å¼-9" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-9"><a href="#æ•°æ®èŒƒå›´-9" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Vâ‰¤100<br>1â‰¤vi,wiâ‰¤100</p><p>çˆ¶èŠ‚ç‚¹ç¼–å·èŒƒå›´ï¼š</p><ul><li>å†…éƒ¨ç»“ç‚¹ï¼š1â‰¤piâ‰¤N</li><li>æ ¹èŠ‚ç‚¹ pi=âˆ’1</li></ul><h4 id="è¾“å…¥æ ·ä¾‹-5"><a href="#è¾“å…¥æ ·ä¾‹-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">7</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> -<span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">5</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">7</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">6</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-8"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-8" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">11<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> v[N], w[N];<br><span class="hljs-keyword">int</span> h[N], e[N], ne[N], idx;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])   <span class="hljs-comment">// å¾ªç¯ç‰©å“ç»„</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> son = e[i];<br>        <span class="hljs-built_in">dfs</span>(e[i]);<br><br>        <span class="hljs-comment">// åˆ†ç»„èƒŒåŒ…</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m - v[u]; j &gt;= <span class="hljs-number">0</span>; j -- )  <span class="hljs-comment">// å¾ªç¯ä½“ç§¯</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= j; k ++ )  <span class="hljs-comment">// å¾ªç¯å†³ç­–</span><br>                f[u][j] = <span class="hljs-built_in">max</span>(f[u][j], f[u][j - k] + f[son][k]);<br>    &#125;<br><br>    <span class="hljs-comment">// å°†ç‰©å“uåŠ è¿›å»</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m; i &gt;= v[u]; i -- ) f[u][i] = f[u][i - v[u]] + w[u];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v[u]; i ++ ) f[u][i] = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <span class="hljs-keyword">int</span> root;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> p;<br>        cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; p;<br>        <span class="hljs-keyword">if</span> (p == <span class="hljs-number">-1</span>) root = i;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">add</span>(p, i);<br>    &#125;<br><br>    <span class="hljs-built_in">dfs</span>(root);<br><br>    cout &lt;&lt; f[root][m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T7-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰-æ±‚æ–¹æ¡ˆæ•°é—®é¢˜"><a href="#T7-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰-æ±‚æ–¹æ¡ˆæ•°é—®é¢˜" class="headerlink" title="T7:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰(æ±‚æ–¹æ¡ˆæ•°é—®é¢˜)"></a>T7:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰(æ±‚æ–¹æ¡ˆæ•°é—®é¢˜)</h3><blockquote><p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p>ç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚</p><p>è¾“å‡º <strong>æœ€ä¼˜é€‰æ³•çš„æ–¹æ¡ˆæ•°</strong>ã€‚æ³¨æ„ç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¾“å‡ºç­”æ¡ˆæ¨¡ 10^9+7 çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-10"><a href="#è¾“å…¥æ ¼å¼-10" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-10"><a href="#è¾“å‡ºæ ¼å¼-10" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º <strong>æ–¹æ¡ˆæ•°</strong> æ¨¡ 10^9+7 çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-10"><a href="#æ•°æ®èŒƒå›´-10" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹-6"><a href="#è¾“å…¥æ ·ä¾‹-6" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-9"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-9" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>, mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N], g[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">-0x3f</span>, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    g[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        cin &gt;&gt; v &gt;&gt; w;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= v; j -- )<br>        &#123;<br>            <span class="hljs-keyword">int</span> maxv = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>            <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">if</span> (f[j] == maxv) s = g[j];<br>            <span class="hljs-keyword">if</span> (f[j - v] + w == maxv) s = (s + g[j - v]) % mod;<br>            f[j] = maxv, g[j] = s;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i ++ )<br>        <span class="hljs-keyword">if</span> (f[i] &gt; f[res])<br>            res = i;<br><br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= m; i ++ )<br>        <span class="hljs-keyword">if</span> (f[i] == f[res])<br>            sum = (sum + g[i]) % mod;<br><br>    cout &lt;&lt; sum &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T8-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ··åˆèƒŒåŒ…ï¼‰"><a href="#T8-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ··åˆèƒŒåŒ…ï¼‰" class="headerlink" title="T8:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ··åˆèƒŒåŒ…ï¼‰"></a>T8:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰ï¼ˆæ··åˆèƒŒåŒ…ï¼‰</h3><blockquote><p>æœ‰ N ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚</p><p>ç‰©å“ä¸€å…±æœ‰ä¸‰ç±»ï¼š</p><ul><li>ç¬¬ä¸€ç±»ç‰©å“åªèƒ½ç”¨1æ¬¡ï¼ˆ01èƒŒåŒ…ï¼‰ï¼›</li><li>ç¬¬äºŒç±»ç‰©å“å¯ä»¥ç”¨æ— é™æ¬¡ï¼ˆå®Œå…¨èƒŒåŒ…ï¼‰ï¼›</li><li>ç¬¬ä¸‰ç±»ç‰©å“æœ€å¤šåªèƒ½ç”¨ si æ¬¡ï¼ˆå¤šé‡èƒŒåŒ…ï¼‰ï¼›</li></ul><p>æ¯ç§ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-11"><a href="#è¾“å…¥æ ¼å¼-11" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,wi,siç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡ã€‚</p><ul><li>si=âˆ’1 è¡¨ç¤ºç¬¬ i ç§ç‰©å“åªèƒ½ç”¨1æ¬¡ï¼›</li><li>si=0 è¡¨ç¤ºç¬¬ i ç§ç‰©å“å¯ä»¥ç”¨æ— é™æ¬¡ï¼›</li><li>si&gt;0 è¡¨ç¤ºç¬¬ i ç§ç‰©å“å¯ä»¥ä½¿ç”¨ si æ¬¡ï¼›</li></ul><h4 id="è¾“å‡ºæ ¼å¼-11"><a href="#è¾“å‡ºæ ¼å¼-11" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-11"><a href="#æ•°æ®èŒƒå›´-11" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤1000<br>âˆ’1â‰¤siâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹-7"><a href="#è¾“å…¥æ ·ä¾‹-7" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> -<span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-10"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-10" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w, s;<br>        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;<br>        <span class="hljs-keyword">if</span> (!s)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = v; j &lt;= m; j ++ )<br>                f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - v] + w);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (s == <span class="hljs-number">-1</span>) s = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= s; k *= <span class="hljs-number">2</span>)<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= k * v; j -- )<br>                    f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - k * v] + k * w);<br>                s -= k;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (s)<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= s * v; j -- )<br>                    f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - s * v] + s * w);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T9-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰-äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜"><a href="#T9-ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰-äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="T9:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰(äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜)"></a>T9:ï¼ˆèƒŒåŒ…ä¹è®²ï¼‰(äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜)</h3><blockquote><p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ï¼ŒèƒŒåŒ…èƒ½æ‰¿å—çš„æœ€å¤§é‡é‡æ˜¯ Mã€‚</p><p>æ¯ä»¶ç‰©å“åªèƒ½ç”¨ä¸€æ¬¡ã€‚ä½“ç§¯æ˜¯ viï¼Œé‡é‡æ˜¯ miï¼Œä»·å€¼æ˜¯ wiã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œæ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…å¯æ‰¿å—çš„æœ€å¤§é‡é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-12"><a href="#è¾“å…¥æ ¼å¼-12" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•°ï¼ŒN,V,M ç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ä»¶æ•°ã€èƒŒåŒ…å®¹ç§¯å’ŒèƒŒåŒ…å¯æ‰¿å—çš„æœ€å¤§é‡é‡ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,mi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯ã€é‡é‡å’Œä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-12"><a href="#è¾“å‡ºæ ¼å¼-12" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-12"><a href="#æ•°æ®èŒƒå›´-12" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0&lt;Nâ‰¤1000<br>0&lt;V,Mâ‰¤100<br>0&lt;vi,miâ‰¤100<br>0&lt;wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹-8"><a href="#è¾“å…¥æ ·ä¾‹-8" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-11"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-11" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, V, M;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; V &gt;&gt; M;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, m, w;<br>        cin &gt;&gt; v &gt;&gt; m &gt;&gt; w;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = V; j &gt;= v; j -- )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = M; k &gt;= m; k -- )<br>                f[j][k] = <span class="hljs-built_in">max</span>(f[j][k], f[j - v][k - m] + w);<br>    &#125;<br><br>    cout &lt;&lt; f[V][M] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T10-ï¼ˆNOIP2006æé«˜ç»„ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰"><a href="#T10-ï¼ˆNOIP2006æé«˜ç»„ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰" class="headerlink" title="T10:ï¼ˆNOIP2006æé«˜ç»„ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰"></a>T10:ï¼ˆNOIP2006æé«˜ç»„ï¼‰ï¼ˆæœ‰ä¾èµ–çš„èƒŒåŒ…é—®é¢˜ï¼‰</h3><blockquote><p>é‡‘æ˜ä»Šå¤©å¾ˆå¼€å¿ƒï¼Œå®¶é‡Œè´­ç½®çš„æ–°æˆ¿å°±è¦é¢†é’¥åŒ™äº†ï¼Œæ–°æˆ¿é‡Œæœ‰ä¸€é—´é‡‘æ˜è‡ªå·±ä¸“ç”¨çš„å¾ˆå®½æ•çš„æˆ¿é—´ã€‚</p><p>æ›´è®©ä»–é«˜å…´çš„æ˜¯ï¼Œå¦ˆå¦ˆæ˜¨å¤©å¯¹ä»–è¯´ï¼šâ€œä½ çš„æˆ¿é—´éœ€è¦è´­ä¹°å“ªäº›ç‰©å“ï¼Œæ€ä¹ˆå¸ƒç½®ï¼Œä½ è¯´äº†ç®—ï¼Œåªè¦ä¸è¶…è¿‡Nå…ƒé’±å°±è¡Œâ€ã€‚</p><p>ä»Šå¤©ä¸€æ—©ï¼Œé‡‘æ˜å°±å¼€å§‹åšé¢„ç®—äº†ï¼Œä»–æŠŠæƒ³ä¹°çš„ç‰©å“åˆ†ä¸ºä¸¤ç±»ï¼šä¸»ä»¶ä¸é™„ä»¶ï¼Œé™„ä»¶æ˜¯ä»å±äºæŸä¸ªä¸»ä»¶çš„ï¼Œä¸‹è¡¨å°±æ˜¯ä¸€äº›ä¸»ä»¶ä¸é™„ä»¶çš„ä¾‹å­ï¼š</p><p><img src="https://www.acwing.com/media/article/image/2019/03/13/19_45c6dcea44-QQ%E6%88%AA%E5%9B%BE20190313024710.png" alt="QQæˆªå›¾20190313024710.png"></p><p>å¦‚æœè¦ä¹°å½’ç±»ä¸ºé™„ä»¶çš„ç‰©å“ï¼Œå¿…é¡»å…ˆä¹°è¯¥é™„ä»¶æ‰€å±çš„ä¸»ä»¶ã€‚</p><p>æ¯ä¸ªä¸»ä»¶å¯ä»¥æœ‰0ä¸ªã€1ä¸ªæˆ–2ä¸ªé™„ä»¶ã€‚</p><p>é™„ä»¶ä¸å†æœ‰ä»å±äºè‡ªå·±çš„é™„ä»¶ã€‚</p><p>é‡‘æ˜æƒ³ä¹°çš„ä¸œè¥¿å¾ˆå¤šï¼Œè‚¯å®šä¼šè¶…è¿‡å¦ˆå¦ˆé™å®šçš„Nå…ƒã€‚</p><p>äºæ˜¯ï¼Œä»–æŠŠæ¯ä»¶ç‰©å“è§„å®šäº†ä¸€ä¸ªé‡è¦åº¦ï¼Œåˆ†ä¸º5ç­‰ï¼šç”¨æ•´æ•°1~5è¡¨ç¤ºï¼Œç¬¬5ç­‰æœ€é‡è¦ã€‚</p><p>ä»–è¿˜ä»å› ç‰¹ç½‘ä¸ŠæŸ¥åˆ°äº†æ¯ä»¶ç‰©å“çš„ä»·æ ¼ï¼ˆéƒ½æ˜¯10å…ƒçš„æ•´æ•°å€ï¼‰ã€‚</p><p>ä»–å¸Œæœ›åœ¨ä¸è¶…è¿‡Nå…ƒï¼ˆå¯ä»¥ç­‰äºNå…ƒï¼‰çš„å‰æä¸‹ï¼Œä½¿æ¯ä»¶ç‰©å“çš„ä»·æ ¼ä¸é‡è¦åº¦çš„ä¹˜ç§¯çš„æ€»å’Œæœ€å¤§ã€‚</p><p>è®¾ç¬¬jä»¶ç‰©å“çš„ä»·æ ¼ä¸ºv[j]ï¼Œé‡è¦åº¦ä¸ºw[j]ï¼Œå…±é€‰ä¸­äº†kä»¶ç‰©å“ï¼Œç¼–å·ä¾æ¬¡ä¸ºj1ï¼Œj2ï¼Œâ€¦ï¼Œjkï¼Œåˆ™æ‰€æ±‚çš„æ€»å’Œä¸ºï¼š</p><p>v[j1]âˆ—w[j1]+v[j2]âˆ—w[j2]+â€¦+v[jk]âˆ—w[jk]ï¼ˆå…¶ä¸­*ä¸ºä¹˜å·ï¼‰</p><p>è¯·ä½ å¸®åŠ©é‡‘æ˜è®¾è®¡ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„è´­ç‰©å•ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-13"><a href="#è¾“å…¥æ ¼å¼-13" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ–‡ä»¶çš„ç¬¬1è¡Œï¼Œä¸ºä¸¤ä¸ªæ­£æ•´æ•°ï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼šN mï¼Œå…¶ä¸­Nè¡¨ç¤ºæ€»é’±æ•°ï¼Œmä¸ºå¸Œæœ›è´­ä¹°ç‰©å“çš„ä¸ªæ•°ã€‚</p><p>ä»ç¬¬2è¡Œåˆ°ç¬¬m+1è¡Œï¼Œç¬¬jè¡Œç»™å‡ºäº†ç¼–å·ä¸ºj-1çš„ç‰©å“çš„åŸºæœ¬æ•°æ®ï¼Œæ¯è¡Œæœ‰3ä¸ªéè´Ÿæ•´æ•°v p qï¼Œå…¶ä¸­vè¡¨ç¤ºè¯¥ç‰©å“çš„ä»·æ ¼ï¼Œpè¡¨ç¤ºè¯¥ç‰©å“çš„é‡è¦åº¦ï¼ˆ1~5ï¼‰ï¼Œqè¡¨ç¤ºè¯¥ç‰©å“æ˜¯ä¸»ä»¶è¿˜æ˜¯é™„ä»¶ã€‚</p><p>å¦‚æœq=0ï¼Œè¡¨ç¤ºè¯¥ç‰©å“ä¸ºä¸»ä»¶ï¼Œå¦‚æœq&gt;0ï¼Œè¡¨ç¤ºè¯¥ç‰©å“ä¸ºé™„ä»¶ï¼Œqæ˜¯æ‰€å±ä¸»ä»¶çš„ç¼–å·ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-13"><a href="#è¾“å‡ºæ ¼å¼-13" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ–‡ä»¶åªæœ‰ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸ºä¸è¶…è¿‡æ€»é’±æ•°çš„ç‰©å“çš„ä»·æ ¼ä¸é‡è¦åº¦ä¹˜ç§¯çš„æ€»å’Œçš„æœ€å¤§å€¼ï¼ˆ&lt;200000ï¼‰ã€‚</p><h4 id="æ•°æ®èŒƒå›´-13"><a href="#æ•°æ®èŒƒå›´-13" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>N&lt;32000,m&lt;60,v&lt;10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1000 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">800 </span><span class="hljs-number">2</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">400 </span><span class="hljs-number">5</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">300 </span><span class="hljs-number">5</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">400 </span><span class="hljs-number">3</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">500 </span><span class="hljs-number">2</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-12"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-12" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-number">2200</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> v first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> w second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">60</span>, M = <span class="hljs-number">32010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br>PII master[N];<br>vector&lt;PII&gt; servent[N];<br><span class="hljs-keyword">int</span> f[M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m &gt;&gt; n;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, p, q;<br>        cin &gt;&gt; v &gt;&gt; p &gt;&gt; q;<br>        p *= v;<br>        <span class="hljs-keyword">if</span> (!q) master[i] = &#123;v, p&#125;;<br>        <span class="hljs-keyword">else</span> servent[q].<span class="hljs-built_in">push_back</span>(&#123;v, p&#125;);<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = m; u &gt;= <span class="hljs-number">0</span>; u -- )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">1</span> &lt;&lt; servent[i].<span class="hljs-built_in">size</span>(); j ++ )<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = master[i].v, w = master[i].w;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; servent[i].<span class="hljs-built_in">size</span>(); k ++ )<br>                    <span class="hljs-keyword">if</span> (j &gt;&gt; k &amp; <span class="hljs-number">1</span>)<br>                    &#123;<br>                        v += servent[i][k].v;<br>                        w += servent[i][k].w;<br>                    &#125;<br>                <span class="hljs-keyword">if</span> (u &gt;= v) f[u] = <span class="hljs-built_in">max</span>(f[u], f[u - v] + w);<br>            &#125;<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T11-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰-äºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜"><a href="#T11-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰-äºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜" class="headerlink" title="T11:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰(äºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜)"></a>T11:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰(äºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜)</h3><blockquote><p>æ½œæ°´å‘˜ä¸ºäº†æ½œæ°´è¦ä½¿ç”¨ç‰¹æ®Šçš„è£…å¤‡ã€‚</p><p>ä»–æœ‰ä¸€ä¸ªå¸¦2ç§æ°”ä½“çš„æ°”ç¼¸ï¼šä¸€ä¸ªä¸ºæ°§æ°”ï¼Œä¸€ä¸ªä¸ºæ°®æ°”ã€‚</p><p>è®©æ½œæ°´å‘˜ä¸‹æ½œçš„æ·±åº¦éœ€è¦å„ç§æ•°é‡çš„æ°§å’Œæ°®ã€‚</p><p>æ½œæ°´å‘˜æœ‰ä¸€å®šæ•°é‡çš„æ°”ç¼¸ã€‚</p><p>æ¯ä¸ªæ°”ç¼¸éƒ½æœ‰é‡é‡å’Œæ°”ä½“å®¹é‡ã€‚</p><p>æ½œæ°´å‘˜ä¸ºäº†å®Œæˆä»–çš„å·¥ä½œéœ€è¦ç‰¹å®šæ•°é‡çš„æ°§å’Œæ°®ã€‚</p><p>ä»–å®Œæˆå·¥ä½œæ‰€éœ€æ°”ç¼¸çš„æ€»é‡çš„æœ€ä½é™åº¦çš„æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä¾‹å¦‚ï¼šæ½œæ°´å‘˜æœ‰5ä¸ªæ°”ç¼¸ã€‚æ¯è¡Œä¸‰ä¸ªæ•°å­—ä¸ºï¼šæ°§ï¼Œæ°®çš„ï¼ˆå‡ï¼‰é‡å’Œæ°”ç¼¸çš„é‡é‡ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">36</span> <span class="hljs-number">120</span><br><br><span class="hljs-symbol">10 </span><span class="hljs-number">25</span> <span class="hljs-number">129</span><br><br><span class="hljs-symbol">5 </span><span class="hljs-number">50</span> <span class="hljs-number">250</span><br><br><span class="hljs-symbol">1 </span><span class="hljs-number">45</span> <span class="hljs-number">130</span><br><br><span class="hljs-symbol">4 </span><span class="hljs-number">20</span> <span class="hljs-number">119</span><br></code></pre></div></td></tr></table></figure><p>å¦‚æœæ½œæ°´å‘˜éœ€è¦5å‡çš„æ°§å’Œ60å‡çš„æ°®åˆ™æ€»é‡æœ€å°ä¸º249ï¼ˆ1ï¼Œ2æˆ–è€…4ï¼Œ5å·æ°”ç¼¸ï¼‰ã€‚</p><p>ä½ çš„ä»»åŠ¡å°±æ˜¯è®¡ç®—æ½œæ°´å‘˜ä¸ºäº†å®Œæˆä»–çš„å·¥ä½œéœ€è¦çš„æ°”ç¼¸çš„é‡é‡çš„æœ€ä½å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-14"><a href="#è¾“å…¥æ ¼å¼-14" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œæœ‰2ä¸ªæ•´æ•° mï¼Œnã€‚å®ƒä»¬è¡¨ç¤ºæ°§ï¼Œæ°®å„è‡ªéœ€è¦çš„é‡ã€‚</p><p>ç¬¬äºŒè¡Œä¸ºæ•´æ•° k è¡¨ç¤ºæ°”ç¼¸çš„ä¸ªæ•°ã€‚</p><p>æ­¤åçš„ k è¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬aiï¼Œbiï¼Œciï¼Œ3ä¸ªæ•´æ•°ã€‚è¿™äº›å„è‡ªæ˜¯ï¼šç¬¬ i ä¸ªæ°”ç¼¸é‡Œçš„æ°§å’Œæ°®çš„å®¹é‡åŠæ°”ç¼¸é‡é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-14"><a href="#è¾“å‡ºæ ¼å¼-14" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä»…ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¸ºæ½œæ°´å‘˜å®Œæˆå·¥ä½œæ‰€éœ€çš„æ°”ç¼¸çš„é‡é‡æ€»å’Œçš„æœ€ä½å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-14"><a href="#æ•°æ®èŒƒå›´-14" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤mâ‰¤21<br>1â‰¤nâ‰¤79<br>1â‰¤kâ‰¤1000<br>1â‰¤aiâ‰¤21<br>1â‰¤biâ‰¤79<br>1â‰¤ciâ‰¤800</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">60</span><br><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">36</span> <span class="hljs-number">120</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">25</span> <span class="hljs-number">129</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">50</span> <span class="hljs-number">250</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">45</span> <span class="hljs-number">130</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">20</span> <span class="hljs-number">119</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-13"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-13" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">249<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">22</span>, M = <span class="hljs-number">80</span>;<br><br><span class="hljs-keyword">int</span> n, m, K;<br><span class="hljs-keyword">int</span> f[N][M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m &gt;&gt; K;<br><br>    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> f);<br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">while</span> (K -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v1, v2, w;<br>        cin &gt;&gt; v1 &gt;&gt; v2 &gt;&gt; w;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">0</span>; i -- )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j -- )<br>                f[i][j] = <span class="hljs-built_in">min</span>(f[i][j], f[<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, i - v1)][<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, j - v2)] + w);<br>    &#125;<br><br><br>    cout &lt;&lt; f[n][m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T12-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰-å¤šé‡èƒŒåŒ…é—®é¢˜"><a href="#T12-ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰-å¤šé‡èƒŒåŒ…é—®é¢˜" class="headerlink" title="T12:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰(å¤šé‡èƒŒåŒ…é—®é¢˜)"></a>T12:ï¼ˆä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€šï¼‰(å¤šé‡èƒŒåŒ…é—®é¢˜)</h3><blockquote><p>ä¸ºäº†åº†è´ºç­çº§åœ¨æ ¡è¿åŠ¨ä¼šä¸Šå–å¾—å…¨æ ¡ç¬¬ä¸€åæˆç»©ï¼Œç­ä¸»ä»»å†³å®šå¼€ä¸€åœºåº†åŠŸä¼šï¼Œä¸ºæ­¤æ‹¨æ¬¾è´­ä¹°å¥–å“çŠ’åŠ³è¿åŠ¨å‘˜ã€‚</p><p>æœŸæœ›æ‹¨æ¬¾é‡‘é¢èƒ½è´­ä¹°æœ€å¤§ä»·å€¼çš„å¥–å“ï¼Œå¯ä»¥è¡¥å……ä»–ä»¬çš„ç²¾åŠ›å’Œä½“åŠ›ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-15"><a href="#è¾“å…¥æ ¼å¼-15" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒäºŒä¸ªæ•°nï¼Œmï¼Œå…¶ä¸­nä»£è¡¨å¸Œæœ›è´­ä¹°çš„å¥–å“çš„ç§æ•°ï¼Œmè¡¨ç¤ºæ‹¨æ¬¾é‡‘é¢ã€‚</p><p>æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œ3ä¸ªæ•°ï¼Œvã€wã€sï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬Iç§å¥–å“çš„ä»·æ ¼ã€ä»·å€¼ï¼ˆä»·æ ¼ä¸ä»·å€¼æ˜¯ä¸åŒçš„æ¦‚å¿µï¼‰å’Œèƒ½è´­ä¹°çš„æœ€å¤§æ•°é‡ï¼ˆä¹°0ä»¶åˆ°sä»¶å‡å¯ï¼‰ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-15"><a href="#è¾“å‡ºæ ¼å¼-15" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä¸€è¡Œï¼šä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæ­¤æ¬¡è´­ä¹°èƒ½è·å¾—çš„æœ€å¤§çš„ä»·å€¼ï¼ˆæ³¨æ„ï¼ä¸æ˜¯ä»·æ ¼ï¼‰ã€‚</p><h4 id="æ•°æ®èŒƒå›´-15"><a href="#æ•°æ®èŒƒå›´-15" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>nâ‰¤500,mâ‰¤6000<br>vâ‰¤100,wâ‰¤1000,sâ‰¤10</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">1000</span><br><span class="hljs-symbol">80 </span><span class="hljs-number">20</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">40 </span><span class="hljs-number">50</span> <span class="hljs-number">9</span><br><span class="hljs-symbol">30 </span><span class="hljs-number">50</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">40 </span><span class="hljs-number">30</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">20 </span><span class="hljs-number">20</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-14"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-14" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight yaml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs yaml"><span class="hljs-number">1040</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">6010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v, w, s;<br>        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j -- )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= s &amp;&amp; k * v &lt;= j; k ++ )<br>                f[j] = <span class="hljs-built_in">max</span>(f[j], f[j - k * v] + k * w);<br>    &#125;<br><br>    cout &lt;&lt; f[m] &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T13-ï¼ˆNOIP2018æé«˜ç»„ï¼‰ï¼ˆæ•°è®º-å®Œå…¨èƒŒåŒ…-è´ªå¿ƒï¼‰"><a href="#T13-ï¼ˆNOIP2018æé«˜ç»„ï¼‰ï¼ˆæ•°è®º-å®Œå…¨èƒŒåŒ…-è´ªå¿ƒï¼‰" class="headerlink" title="T13:ï¼ˆNOIP2018æé«˜ç»„ï¼‰ï¼ˆæ•°è®º + å®Œå…¨èƒŒåŒ… + è´ªå¿ƒï¼‰"></a>T13:ï¼ˆNOIP2018æé«˜ç»„ï¼‰ï¼ˆæ•°è®º + å®Œå…¨èƒŒåŒ… + è´ªå¿ƒï¼‰</h3><blockquote><p>åœ¨ç½‘å‹çš„å›½åº¦ä¸­å…±æœ‰â€‚nâ€‚ç§ä¸åŒé¢é¢çš„è´§å¸ï¼Œç¬¬â€‚iiâ€‚ç§è´§å¸çš„é¢é¢ä¸ºâ€‚a[i]ï¼Œä½ å¯ä»¥å‡è®¾æ¯ä¸€ç§è´§å¸éƒ½æœ‰æ— ç©·å¤šå¼ ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æŠŠè´§å¸ç§æ•°ä¸ºâ€‚nã€é¢é¢æ•°ç»„ä¸ºâ€‚a[1..n]â€‚çš„è´§å¸ç³»ç»Ÿè®°ä½œâ€‚(n,a)ã€‚â€‚</p><p>åœ¨ä¸€ä¸ªå®Œå–„çš„è´§å¸ç³»ç»Ÿä¸­ï¼Œæ¯ä¸€ä¸ªéè´Ÿæ•´æ•°çš„é‡‘é¢â€‚xxâ€‚éƒ½åº”è¯¥å¯ä»¥è¢«è¡¨ç¤ºå‡ºï¼Œå³å¯¹æ¯ä¸€ä¸ªéè´Ÿæ•´æ•°â€‚xï¼Œéƒ½å­˜åœ¨â€‚nâ€‚ä¸ªéè´Ÿæ•´æ•°â€‚t[i]â€‚æ»¡è¶³â€‚a[i]Ã—t[i]â€‚çš„å’Œä¸ºâ€‚xã€‚</p><p>ç„¶è€Œï¼Œåœ¨ç½‘å‹çš„å›½åº¦ä¸­ï¼Œè´§å¸ç³»ç»Ÿå¯èƒ½æ˜¯ä¸å®Œå–„çš„ï¼Œå³å¯èƒ½å­˜åœ¨é‡‘é¢â€‚xxâ€‚ä¸èƒ½è¢«è¯¥è´§å¸ç³»ç»Ÿè¡¨ç¤ºå‡ºã€‚</p><p>ä¾‹å¦‚åœ¨è´§å¸ç³»ç»Ÿâ€‚n=3,â€‚a=[2,5,9]ä¸­ï¼Œé‡‘é¢â€‚1,3â€‚å°±æ— æ³•è¢«è¡¨ç¤ºå‡ºæ¥ã€‚â€‚</p><p>ä¸¤ä¸ªè´§å¸ç³»ç»Ÿâ€‚(n,a)â€‚å’Œâ€‚(m,b)â€‚æ˜¯ç­‰ä»·çš„ï¼Œå½“ä¸”ä»…å½“å¯¹äºä»»æ„éè´Ÿæ•´æ•°â€‚xï¼Œå®ƒè¦ä¹ˆå‡å¯ä»¥è¢«ä¸¤ä¸ªè´§å¸ç³»ç»Ÿè¡¨å‡ºï¼Œè¦ä¹ˆä¸èƒ½è¢«å…¶ä¸­ä»»ä½•ä¸€ä¸ªè¡¨å‡ºã€‚â€‚</p><p>ç°åœ¨ç½‘å‹ä»¬æ‰“ç®—ç®€åŒ–ä¸€ä¸‹è´§å¸ç³»ç»Ÿã€‚</p><p>ä»–ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªè´§å¸ç³»ç»Ÿâ€‚(m,b)ï¼Œæ»¡è¶³â€‚(m,b)â€‚ä¸åŸæ¥çš„è´§å¸ç³»ç»Ÿâ€‚(n,a) ç­‰ä»·ï¼Œä¸”â€‚mâ€‚å°½å¯èƒ½çš„å°ã€‚</p><p>ä»–ä»¬å¸Œæœ›ä½ æ¥ååŠ©å®Œæˆè¿™ä¸ªè‰°å·¨çš„ä»»åŠ¡ï¼šæ‰¾åˆ°æœ€å°çš„â€‚mã€‚</p><h4 id="è¾“å…¥æ ¼å¼-16"><a href="#è¾“å…¥æ ¼å¼-16" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°â€‚Tï¼Œè¡¨ç¤ºæ•°æ®çš„ç»„æ•°ã€‚</p><p>æ¥ä¸‹æ¥æŒ‰ç…§å¦‚ä¸‹æ ¼å¼åˆ†åˆ«ç»™å‡º T ç»„æ•°æ®ã€‚â€‚</p><p>æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°â€‚nã€‚</p><p>æ¥ä¸‹æ¥ä¸€è¡ŒåŒ…å«â€‚nâ€‚ä¸ªç”±ç©ºæ ¼éš”å¼€çš„æ­£æ•´æ•°â€‚a[i]ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-16"><a href="#è¾“å‡ºæ ¼å¼-16" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ–‡ä»¶å…±æœ‰ T è¡Œï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰ä¸â€‚(n,a)â€‚ç­‰ä»·çš„è´§å¸ç³»ç»Ÿâ€‚(m,b)â€‚ä¸­ï¼Œæœ€å°çš„â€‚mã€‚</p><h4 id="æ•°æ®èŒƒå›´-16"><a href="#æ•°æ®èŒƒå›´-16" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>1â‰¤a[i]â‰¤25000<br>1â‰¤Tâ‰¤20</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-6"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><br><span class="hljs-symbol">4 </span><br><span class="hljs-symbol">3 </span><span class="hljs-number">19</span> <span class="hljs-number">10</span> <span class="hljs-number">6</span> <br><span class="hljs-symbol">5 </span><br><span class="hljs-symbol">11 </span><span class="hljs-number">29</span> <span class="hljs-number">13</span> <span class="hljs-number">19</span> <span class="hljs-number">17</span> <br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-15"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-15" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">25010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">bool</span> f[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        cin &gt;&gt; n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; a[i];<br>        <span class="hljs-built_in">sort</span>(a, a + n);<br><br>        <span class="hljs-keyword">int</span> m = a[n - <span class="hljs-number">1</span>];<br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> f);<br>        f[<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;<br><br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!f[a[i]]) k ++ ;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = a[i]; j &lt;= m; j ++ )<br>                f[j] |= f[j - a[i]];<br>        &#125;<br><br>        cout &lt;&lt; k &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="T14-ï¼ˆGoogle-Kickstart2019-Round-B-Problem-Bï¼‰ï¼ˆè´ªå¿ƒ-èƒŒåŒ…ï¼‰"><a href="#T14-ï¼ˆGoogle-Kickstart2019-Round-B-Problem-Bï¼‰ï¼ˆè´ªå¿ƒ-èƒŒåŒ…ï¼‰" class="headerlink" title="T14:ï¼ˆGoogle Kickstart2019 Round B Problem Bï¼‰ï¼ˆè´ªå¿ƒ + èƒŒåŒ…ï¼‰"></a>T14:ï¼ˆGoogle Kickstart2019 Round B Problem Bï¼‰ï¼ˆè´ªå¿ƒ + èƒŒåŒ…ï¼‰</h3><blockquote><p>å²©çŸ³æ€ªç‰©æœè¾¾ç”Ÿæ´»åœ¨é­”æ³•æ£®æ—ä¸­ï¼Œä»–åœ¨åˆé¤æ—¶æ”¶é›†äº† N å—èƒ½é‡çŸ³å‡†å¤‡å¼€åƒã€‚</p><p>ç”±äºä»–çš„å˜´å¾ˆå°ï¼Œæ‰€ä»¥ä¸€æ¬¡åªèƒ½åƒä¸€å—èƒ½é‡çŸ³ã€‚</p><p>èƒ½é‡çŸ³å¾ˆç¡¬ï¼Œåƒå®Œéœ€è¦èŠ±ä¸å°‘æ—¶é—´ã€‚</p><p>åƒå®Œç¬¬ i å—èƒ½é‡çŸ³éœ€è¦èŠ±è´¹çš„æ—¶é—´ä¸º Si ç§’ã€‚</p><p>æœè¾¾é åƒèƒ½é‡çŸ³æ¥è·å–èƒ½é‡ã€‚</p><p>ä¸åŒçš„èƒ½é‡çŸ³åŒ…å«çš„èƒ½é‡å¯èƒ½ä¸åŒã€‚</p><p>æ­¤å¤–ï¼Œèƒ½é‡çŸ³ä¼šéšç€æ—¶é—´æµé€é€æ¸å¤±å»èƒ½é‡ã€‚</p><p>ç¬¬ i å—èƒ½é‡çŸ³æœ€åˆåŒ…å« Ei å•ä½çš„èƒ½é‡ï¼Œå¹¶ä¸”æ¯ç§’å°†å¤±å» Li å•ä½çš„èƒ½é‡ã€‚</p><p>å½“æœè¾¾å¼€å§‹åƒä¸€å—èƒ½é‡çŸ³æ—¶ï¼Œä»–å°±ä¼šç«‹å³è·å¾—è¯¥èƒ½é‡çŸ³æ‰€å«çš„å…¨éƒ¨èƒ½é‡ï¼ˆæ— è®ºå®é™…åƒå®Œè¯¥çŸ³å¤´éœ€è¦å¤šå°‘æ—¶é—´ï¼‰ã€‚</p><p>èƒ½é‡çŸ³ä¸­åŒ…å«çš„èƒ½é‡æœ€å¤šé™ä½è‡³ 0ã€‚</p><p>è¯·é—®æœè¾¾é€šè¿‡åƒèƒ½é‡çŸ³å¯ä»¥è·å¾—çš„æœ€å¤§èƒ½é‡æ˜¯å¤šå°‘ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-17"><a href="#è¾“å…¥æ ¼å¼-17" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Tï¼Œè¡¨ç¤ºå…±æœ‰ T ç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºèƒ½é‡çŸ³çš„æ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° Si,Ei,Liã€‚</p><h3 id="è¾“å‡ºæ ¼å¼-17"><a href="#è¾“å‡ºæ ¼å¼-17" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><p>æ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>ç»“æœè¡¨ç¤ºä¸º <code>Case #x: y</code>ï¼Œå…¶ä¸­ x æ˜¯ç»„åˆ«ç¼–å·ï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œy æ˜¯å¯ä»¥è·å¾—çš„æœ€å¤§èƒ½é‡å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-17"><a href="#æ•°æ®èŒƒå›´-17" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Tâ‰¤10<br>1â‰¤Nâ‰¤100<br>1â‰¤Siâ‰¤100<br>1â‰¤Eiâ‰¤10^5<br>0â‰¤Liâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-7"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-number">4</span><br><span class="hljs-symbol">20 </span><span class="hljs-number">10</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">30</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">100 </span><span class="hljs-number">30</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">80</span> <span class="hljs-number">60</span><br><span class="hljs-number">3</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">4</span> <span class="hljs-number">1000</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">3</span> <span class="hljs-number">1000</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">8</span> <span class="hljs-number">1000</span><br><span class="hljs-number">2</span><br><span class="hljs-symbol">12 </span><span class="hljs-number">300</span> <span class="hljs-number">50</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">200</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-16"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-16" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">Case</span> #<span class="hljs-number">1</span>: <span class="hljs-number">105</span><br><span class="hljs-attribute">Case</span> #<span class="hljs-number">2</span>: <span class="hljs-number">8</span><br><span class="hljs-attribute">Case</span> #<span class="hljs-number">3</span>: <span class="hljs-number">500</span><br></code></pre></div></td></tr></table></figure><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨æ ·ä¾‹ï¼ƒ1ä¸­ï¼Œæœ‰ N=4 ä¸ªå®çŸ³ã€‚æœè¾¾å¯ä»¥é€‰æ‹©çš„ä¸€ä¸ªåƒçŸ³å¤´é¡ºåºæ˜¯ï¼š</p><ul><li>åƒç¬¬å››å—çŸ³å¤´ã€‚è¿™éœ€è¦ 5 ç§’ï¼Œå¹¶ç»™ä»– 80 å•ä½çš„èƒ½é‡ã€‚</li><li>åƒç¬¬äºŒå—çŸ³å¤´ã€‚è¿™éœ€è¦ 5 ç§’ï¼Œå¹¶ç»™ä»– 5 å•ä½çš„èƒ½é‡ï¼ˆç¬¬äºŒå—çŸ³å¤´å¼€å§‹æ—¶å…·æœ‰ 30 å•ä½èƒ½é‡ï¼Œ5 ç§’åå¤±å»äº† 25 å•ä½çš„èƒ½é‡ï¼‰ã€‚</li><li>åƒç¬¬ä¸‰å—çŸ³å¤´ã€‚è¿™éœ€è¦ 100 ç§’ï¼Œå¹¶ç»™ä»– 20 å•ä½çš„èƒ½é‡ï¼ˆç¬¬ä¸‰å—çŸ³å¤´å¼€å§‹æ—¶å…·æœ‰ 30 å•ä½èƒ½é‡ï¼Œ10 ç§’åå¤±å»äº† 10 å•ä½çš„èƒ½é‡ï¼‰ã€‚</li><li>åƒç¬¬ä¸€å—çŸ³å¤´ã€‚è¿™éœ€è¦ 20 ç§’ï¼Œå¹¶ç»™ä»– 0 å•ä½çš„èƒ½é‡ï¼ˆç¬¬ä¸€å—çŸ³å¤´ä»¥ 10 å•ä½èƒ½é‡å¼€å§‹ï¼Œ110 ç§’åå·²ç»å¤±å»äº†æ‰€æœ‰çš„èƒ½é‡ï¼‰ã€‚</li></ul><p>ä»–ä¸€å…±è·å¾—äº† 105 å•ä½çš„èƒ½é‡ï¼Œè¿™æ˜¯èƒ½è·å¾—çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 105ã€‚</p><p>åœ¨æ ·æœ¬æ¡ˆä¾‹ï¼ƒ2ä¸­ï¼Œæœ‰ N=3 ä¸ªå®çŸ³ã€‚</p><p>æ— è®ºæœè¾¾é€‰æ‹©åƒå“ªå—çŸ³å¤´ï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªçŸ³å¤´çš„èƒ½é‡éƒ½ä¼šè€—å…‰ã€‚</p><p>æ‰€ä»¥ä»–åº”è¯¥åƒç¬¬ä¸‰å—çŸ³å¤´ï¼Œç»™ä»–æä¾› 8 å•ä½çš„èƒ½é‡ã€‚</p><p>åœ¨æ ·æœ¬æ¡ˆä¾‹ï¼ƒ3ä¸­ï¼Œæœ‰ N=2 ä¸ªå®çŸ³ã€‚æœè¾¾å¯ä»¥ï¼š</p><ul><li>åƒç¬¬ä¸€å—çŸ³å¤´ã€‚è¿™éœ€è¦ 12 ç§’ï¼Œå¹¶ç»™ä»– 300 å•ä½çš„èƒ½é‡ã€‚</li><li>åƒç¬¬äºŒå—çŸ³å¤´ã€‚è¿™éœ€è¦ 5 ç§’ï¼Œå¹¶ç»™ä»– 200 å•ä½çš„èƒ½é‡ï¼ˆç¬¬äºŒå—çŸ³å¤´éšç€æ—¶é—´çš„æ¨ç§»ä¸ä¼šå¤±å»ä»»ä½•èƒ½é‡ï¼ï¼‰ã€‚</li></ul><p>æ‰€ä»¥ç­”æ¡ˆæ˜¯ 500ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, M = <span class="hljs-number">10010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stone</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> s, e, l;<br>&#125;stones[N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Stone a, Stone b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a.s * b.l &lt; b.s * a.l;<br>&#125;<br><br><span class="hljs-keyword">int</span> f[N][M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> C = <span class="hljs-number">1</span>; C &lt;= T; C ++ )<br>    &#123;<br>        cin &gt;&gt; n;<br>        <span class="hljs-keyword">int</span> m = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> s, e, l;<br>            cin &gt;&gt; s &gt;&gt; e &gt;&gt; l;<br>            stones[i] = &#123;s, e, l&#125;;<br>            m += s;<br>        &#125;<br><br>        <span class="hljs-built_in">sort</span>(stones + <span class="hljs-number">1</span>, stones + <span class="hljs-number">1</span> + n, cmp);<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= m; j ++ )<br>            &#123;<br>                f[i][j] = f[i - <span class="hljs-number">1</span>][j];<br>                <span class="hljs-keyword">if</span> (j &gt;= stones[i].s)<br>                &#123;<br>                    <span class="hljs-keyword">int</span> s = stones[i].s, e = stones[i].e, l = stones[i].l;<br>                    f[i][j] = <span class="hljs-built_in">max</span>(f[i][j], f[i - <span class="hljs-number">1</span>][j - s] + <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, e - l * (j - s)));<br>                &#125;<br>            &#125;<br><br>        <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= m; i ++ ) res = <span class="hljs-built_in">max</span>(res, f[n][i]);<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d: %d\n&quot;</span>, C, res);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>åŠ¨æ€è§„åˆ’</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åšå¼ˆè®º</title>
    <link href="/posts/314364526.html"/>
    <url>/posts/314364526.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°åšå¼ˆè®ºçš„å‡ ä¸ªåŸºæœ¬çŸ¥è¯†</p><span id="more"></span><h1 id="æ•°å­¦ï¼ˆ4ï¼‰"><a href="#æ•°å­¦ï¼ˆ4ï¼‰" class="headerlink" title="æ•°å­¦ï¼ˆ4ï¼‰"></a>æ•°å­¦ï¼ˆ4ï¼‰</h1><h2 id="åšå¼ˆè®º"><a href="#åšå¼ˆè®º" class="headerlink" title="åšå¼ˆè®º"></a>åšå¼ˆè®º</h2><h3 id="nimæ¸¸æˆï¼ˆå…¬å¹³ç»„åˆæ¸¸æˆICGï¼‰ï¼š"><a href="#nimæ¸¸æˆï¼ˆå…¬å¹³ç»„åˆæ¸¸æˆICGï¼‰ï¼š" class="headerlink" title="nimæ¸¸æˆï¼ˆå…¬å¹³ç»„åˆæ¸¸æˆICGï¼‰ï¼š"></a>nimæ¸¸æˆï¼ˆå…¬å¹³ç»„åˆæ¸¸æˆICGï¼‰ï¼š</h3><blockquote><p>å•¥æ˜¯å…¬å¹³ç»„åˆæ¸¸æˆå‘¢ï¼Ÿ</p></blockquote><p><strong>ç”±ä¸¤åç©å®¶è½®æµäº¤æ›¿è¡ŒåŠ¨ï¼Œä¸èƒ½è¡ŒåŠ¨çš„åˆ¤è´Ÿï¼Œnimæ¸¸æˆå°±æ˜¯å…¬å¹³ç»„åˆæ¸¸æˆçš„ä¸€ç§</strong></p><p><strong>çœ‹çœ‹nimæ¸¸æˆçš„ä¾‹é¢˜æŠŠ~</strong></p><hr><blockquote><p>ç»™å®š n å †çŸ³å­ï¼Œä¸¤ä½ç©å®¶è½®æµæ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥ä»ä»»æ„ä¸€å †çŸ³å­ä¸­æ‹¿èµ°ä»»æ„æ•°é‡çš„çŸ³å­ï¼ˆå¯ä»¥æ‹¿å®Œï¼Œä½†ä¸èƒ½ä¸æ‹¿ï¼‰ï¼Œæœ€åæ— æ³•è¿›è¡Œæ“ä½œçš„äººè§†ä¸ºå¤±è´¥ã€‚</p><p>é—®å¦‚æœä¸¤äººéƒ½é‡‡ç”¨æœ€ä¼˜ç­–ç•¥ï¼Œå…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•°å­—ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•°å­—è¡¨ç¤ºç¬¬ i å †çŸ³å­çš„æ•°é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœå…ˆæ‰‹æ–¹å¿…èƒœï¼Œåˆ™è¾“å‡º <code>Yes</code>ã€‚</p><p>å¦åˆ™ï¼Œè¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤æ¯å †çŸ³å­æ•°â‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>        res ^= x;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (res) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="å°é˜¶-nimæ¸¸æˆ"><a href="#å°é˜¶-nimæ¸¸æˆ" class="headerlink" title="å°é˜¶-nimæ¸¸æˆ"></a>å°é˜¶-nimæ¸¸æˆ</h3><blockquote><p>ç°åœ¨ï¼Œæœ‰ä¸€ä¸ª n çº§å°é˜¶çš„æ¥¼æ¢¯ï¼Œæ¯çº§å°é˜¶ä¸Šéƒ½æœ‰è‹¥å¹²ä¸ªçŸ³å­ï¼Œå…¶ä¸­ç¬¬ ii çº§å°é˜¶ä¸Šæœ‰ ai ä¸ªçŸ³å­(iâ‰¥1)ã€‚</p><p>ä¸¤ä½ç©å®¶è½®æµæ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥ä»ä»»æ„ä¸€çº§å°é˜¶ä¸Šæ‹¿è‹¥å¹²ä¸ªçŸ³å­æ”¾åˆ°ä¸‹ä¸€çº§å°é˜¶ä¸­ï¼ˆä¸èƒ½ä¸æ‹¿ï¼‰ã€‚</p><p>å·²ç»æ‹¿åˆ°åœ°é¢ä¸Šçš„çŸ³å­ä¸èƒ½å†æ‹¿ï¼Œæœ€åæ— æ³•è¿›è¡Œæ“ä½œçš„äººè§†ä¸ºå¤±è´¥ã€‚</p><p>é—®å¦‚æœä¸¤äººéƒ½é‡‡ç”¨æœ€ä¼˜ç­–ç•¥ï¼Œå…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ i çº§å°é˜¶ä¸Šçš„çŸ³å­æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœå…ˆæ‰‹æ–¹å¿…èƒœï¼Œåˆ™è¾“å‡º <code>Yes</code>ã€‚</p><p>å¦åˆ™ï¼Œè¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤aiâ‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        <span class="hljs-keyword">if</span> (i &amp; <span class="hljs-number">1</span>) res ^= v;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (res) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é›†åˆ-nimæ¸¸æˆ"><a href="#é›†åˆ-nimæ¸¸æˆ" class="headerlink" title="é›†åˆ-nimæ¸¸æˆ"></a>é›†åˆ-nimæ¸¸æˆ</h3><p><strong>è¦æ¸…æ¥šmexè¿ç®—å’Œsgå‡½æ•°</strong></p><blockquote><p>ç»™å®š n å †çŸ³å­ä»¥åŠä¸€ä¸ªç”± k ä¸ªä¸åŒæ­£æ•´æ•°æ„æˆçš„æ•°å­—é›†åˆ Sã€‚</p><p>ç°åœ¨æœ‰ä¸¤ä½ç©å®¶è½®æµæ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥ä»ä»»æ„ä¸€å †çŸ³å­ä¸­æ‹¿å–çŸ³å­ï¼Œæ¯æ¬¡æ‹¿å–çš„çŸ³å­æ•°é‡å¿…é¡»åŒ…å«äºé›†åˆ Sï¼Œæœ€åæ— æ³•è¿›è¡Œæ“ä½œçš„äººè§†ä¸ºå¤±è´¥ã€‚</p><p>é—®å¦‚æœä¸¤äººéƒ½é‡‡ç”¨æœ€ä¼˜ç­–ç•¥ï¼Œå…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° kï¼Œè¡¨ç¤ºæ•°å­—é›†åˆ SS ä¸­æ•°å­—çš„ä¸ªæ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« k ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•´æ•°è¡¨ç¤ºæ•°å­—é›†åˆ S ä¸­çš„ç¬¬ i ä¸ªæ•° siã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬å››è¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ i å †çŸ³å­çš„æ•°é‡ hiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœå…ˆæ‰‹æ–¹å¿…èƒœï¼Œåˆ™è¾“å‡º <code>Yes</code>ã€‚</p><p>å¦åˆ™ï¼Œè¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,kâ‰¤100<br>1â‰¤si,hiâ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">5</span><br><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">7</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, M = <span class="hljs-number">10010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> s[N], f[M];<br><span class="hljs-keyword">int</span> res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sg</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (~f[x]) <span class="hljs-keyword">return</span> f[x];<br>    <br>    unordered_set&lt;<span class="hljs-keyword">int</span>&gt; S;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> sum = s[i];<br>        <br>        <span class="hljs-keyword">if</span> (x &gt;= sum) S.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">sg</span>(x - sum));<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!S.<span class="hljs-built_in">count</span>(i))<br>            <span class="hljs-keyword">return</span> f[x] = i;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ ) cin &gt;&gt; s[i];<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-built_in">memset</span> (f, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> f);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        res ^= <span class="hljs-built_in">sg</span>(v);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (res) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><hr><p>è‡³æ­¤å¯’å‡å‰çš„é›†è®­å°±ç»“æŸäº†ï¼Œå®¹æˆ‘å…ˆä»‹ç»å¯’å‡é›†è®­å†…å®¹</p><hr><ul><li><p>åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰Dynamic Programming</p><ul><li>èƒŒåŒ…é—®é¢˜<ul><li>01èƒŒåŒ…é—®é¢˜</li><li>å®Œå…¨èƒŒåŒ…é—®é¢˜</li><li>åˆ†ç»„èƒŒåŒ…é—®é¢˜</li><li>å¤šé‡èƒŒåŒ…é—®é¢˜</li><li>åŠå…¶èƒŒåŒ…é—®é¢˜çš„ä¼˜åŒ–</li></ul></li><li>çº¿æ€§dp<ul><li>æ•°å­—ä¸‰è§’å½¢æ¨¡å‹</li><li>æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆä¸ä¸‹é™ï¼‰</li></ul></li><li>çŠ¶æ€æœºæ¨¡å‹</li><li>åŒºé—´dp</li><li>æ ‘å½¢dp</li><li>æ•°ä½dp</li><li>å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–</li><li>æ–œç‡ä¼˜åŒ–</li></ul></li><li><p>è´ªå¿ƒ</p><ul><li><p>åŒºé—´é—®é¢˜</p><ul><li>æœ€å°ç‚¹è¦†ç›–ï¼Œæœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°é‡</li></ul></li><li><p>huffmanæ ‘</p></li><li><p>æ’åºä¸ç­‰å¼</p></li><li><p>ç»å¯¹å€¼ä¸ç­‰å¼</p></li><li><p>æ¨å…¬å¼</p></li></ul></li><li><p>æœç´¢</p><ul><li><p>å¹¿æœ</p><ul><li>flood fillæ¨¡å‹</li><li>æœ€çŸ­è·¯æ¨¡å‹</li><li>æœ€å°æ­¥æ•°æ¨¡å‹</li><li>åŒå‘å¹¿æœ</li><li>å¤šæºå¹¿æœ</li><li>åŒç«¯é˜Ÿåˆ—å¹¿æœ</li><li>A*ç®—æ³•</li></ul></li><li><p>æ·±æœ</p><ul><li>è¿é€šæ€§é—®é¢˜</li><li>æœç´¢é¡ºåº</li><li>å‰ªæ</li><li>è¿­ä»£åŠ æ·±</li><li>åŒå‘æ·±æœ</li><li>IDA*ç®—æ³•</li></ul></li></ul></li><li><p>å›¾è®º</p><ul><li><p>æœ€å°ç”Ÿæˆæ ‘åŠå…¶æ‰©å±•åº”ç”¨</p></li><li><p>æœ€çŸ­è·¯åŠå…¶æ‰©å±•åº”ç”¨</p></li><li><p>floydçš„å…¶ä»–ç”¨æ³•</p></li><li><p>è´Ÿç¯</p></li><li><p>å·®åˆ†çº¦æŸ</p></li><li><p>æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰</p></li><li><p>tarjanç®—æ³•</p><ul><li>å¼ºè¿é€šå’ŒåŒè¿é€šåˆ†é‡</li></ul></li><li><p>æ¬§æ‹‰å›è·¯å’Œè·¯å¾„</p></li><li><p>æ‹“æ‰‘æ’åºç­‰</p><ul><li>å…³é”®è·¯å¾„</li></ul></li></ul></li><li><p>æ•°æ®ç»“æ„</p><ul><li><p>å¹¶æŸ¥é›†åº”ç”¨</p></li><li><p>æ ‘çŠ¶æ•°ç»„</p></li><li><p>çº¿æ®µæ ‘</p></li><li><p>å¯æŒä¹…åŒ–æ•°æ®ç»“æ„</p><ul><li>ä¸»å¸­æ ‘</li><li>å¯æŒä¹…åŒ–å­—å…¸æ ‘</li></ul></li><li><p>å¹³è¡¡æ ‘</p><ul><li>treap</li><li>çº¢é»‘æ ‘</li><li>avl</li></ul></li><li><p>ACè‡ªåŠ¨æœº</p></li></ul></li><li><p>æ•°å­¦ï¼ˆåœ¨ä¹‹å‰è®²è¿‡çš„åŸºç¡€ä¸Šï¼‰</p><ul><li>é«˜æ–¯æ¶ˆå…ƒ</li><li>æ¦‚ç‡ä¸æ•°å­¦æœŸæœ›</li><li>çŸ©é˜µä¹˜æ³•</li></ul></li><li><p>å…¶ä»–</p><ul><li>manacherç®—æ³•</li><li>RMQç®—æ³•</li><li>å¯å‘å¼åˆå¹¶</li><li>æ¨¡æ‹Ÿé€€ç«ï¼Œçˆ¬å±±æ³•</li><li>pythonåŸºç¡€è¯­æ³•å…¥é—¨ï¼Œä¸ºäº†å†™ç®—æ³•é¢˜é‡Œçš„é«˜ç²¾åº¦~</li></ul></li></ul><hr><p>æˆ‘ä¹Ÿæ˜ç™½è¿™æ®µæ—¶é—´ä»¥æ¥å¤§å®¶å¾ˆç´¯äº†ï¼Œå¸Œæœ›å¤§å®¶æœŸæœ«è€ƒè¯•æˆç»©éƒ½å¯ä»¥å¾ˆä¸é”™ï¼Œå¯’å‡é›†è®­è§å’¯ğŸ˜‰ğŸ˜‰ğŸ˜‰</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»„åˆæ•°å­¦</title>
    <link href="/posts/2146983971.html"/>
    <url>/posts/2146983971.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ±‚ç»„åˆæ•°çš„å‡ ç§æ–¹æ³•</p><span id="more"></span><h1 id="æ•°å­¦ï¼ˆ3ï¼‰"><a href="#æ•°å­¦ï¼ˆ3ï¼‰" class="headerlink" title="æ•°å­¦ï¼ˆ3ï¼‰"></a>æ•°å­¦ï¼ˆ3ï¼‰</h1><h2 id="æ±‚ç»„åˆæ•°"><a href="#æ±‚ç»„åˆæ•°" class="headerlink" title="æ±‚ç»„åˆæ•°"></a>æ±‚ç»„åˆæ•°</h2><p><strong>æ­¤æ¬¡è¯¾ä¸ºç»„åˆæ•°å­¦çš„åŸºç¡€è¯¾ï¼Œåªè®²æˆæ±‚ç»„åˆæ•°çš„å‡ ç§æ–¹å¼ï¼Œå…¶ä»–ç»„åˆæ•°å­¦çš„å†…å®¹ä¼šæ”¾åœ¨å¯’å‡é›†è®­</strong> </p><p>æ±‚ç»„åˆæ•°æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ•°æ®èŒƒå›´æ¥é€‰å‡ºé€‚åˆçš„æ–¹å¼ã€‚</p><hr><h3 id="ç¬¬ä¸€ç§ï¼ˆé€’æ¨å¼é¢„å¤„ç†ï¼‰"><a href="#ç¬¬ä¸€ç§ï¼ˆé€’æ¨å¼é¢„å¤„ç†ï¼‰" class="headerlink" title="ç¬¬ä¸€ç§ï¼ˆé€’æ¨å¼é¢„å¤„ç†ï¼‰"></a>ç¬¬ä¸€ç§ï¼ˆé€’æ¨å¼é¢„å¤„ç†ï¼‰</h3><blockquote><p>ç»™å®š n ç»„è¯¢é—®ï¼Œæ¯ç»„è¯¢é—®ç»™å®šä¸¤ä¸ªæ•´æ•° aï¼Œbè¯·ä½ è¾“å‡º C a b mod(10^9+7) çš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ç»„ a å’Œ bã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± n è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„è§£ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10000<br>1â‰¤bâ‰¤aâ‰¤2000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>10<br>1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">2010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> c[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= i; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!j) c[i][j] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> c[i][j] = (c[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + c[i - <span class="hljs-number">1</span>][j]) % MOD;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">init</span>();<br>    <br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        cout &lt;&lt; c[a][b] &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="ç¬¬äºŒç§ï¼ˆä¹˜æ³•é€†å…ƒå‰ç¼€ä¹˜é¢„å¤„ç†ï¼‰"><a href="#ç¬¬äºŒç§ï¼ˆä¹˜æ³•é€†å…ƒå‰ç¼€ä¹˜é¢„å¤„ç†ï¼‰" class="headerlink" title="ç¬¬äºŒç§ï¼ˆä¹˜æ³•é€†å…ƒå‰ç¼€ä¹˜é¢„å¤„ç†ï¼‰"></a>ç¬¬äºŒç§ï¼ˆä¹˜æ³•é€†å…ƒå‰ç¼€ä¹˜é¢„å¤„ç†ï¼‰</h3><blockquote><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10000<br>1â‰¤bâ‰¤aâ‰¤10^5</p></blockquote><p><strong>è¿™æ—¶ä½ å°±ä¼šå‘ç°ï¼Œè¿™ä¸ªæ•°æ®èŒƒå›´ï¼Œå¦‚æœä½¿ç”¨åˆå§‹åŒ–å°±ä¼šçˆ†å‡º1ç§’ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æƒ³ä¸€ä¸ªåˆ«çš„æ–¹æ³•äº†</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> fact[N], infact[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;<br>    <br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;<br>        a = (LL)a * a % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    fact[<span class="hljs-number">0</span>] = infact[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; N; i ++ )<br>    &#123;<br>        fact[i] = (LL)fact[i - <span class="hljs-number">1</span>] * i % MOD;<br>        infact[i] = (LL)infact[i - <span class="hljs-number">1</span>] * <span class="hljs-built_in">qmi</span>(i, MOD - <span class="hljs-number">2</span>, MOD) % MOD;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-built_in">init</span>();<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        cout &lt;&lt; ((LL)fact[a] * infact[b] % MOD * infact[a - b] % MOD) &lt;&lt; endl; <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="ç¬¬ä¸‰ç§ï¼ˆlucaså®šç†ï¼‰"><a href="#ç¬¬ä¸‰ç§ï¼ˆlucaså®šç†ï¼‰" class="headerlink" title="ç¬¬ä¸‰ç§ï¼ˆlucaså®šç†ï¼‰"></a>ç¬¬ä¸‰ç§ï¼ˆlucaså®šç†ï¼‰</h3><blockquote><p>ç»™å®š n ç»„è¯¢é—®ï¼Œæ¯ç»„è¯¢é—®ç»™å®šä¸‰ä¸ªæ•´æ•° a,b,pï¼Œå…¶ä¸­ pp æ˜¯è´¨æ•°ï¼Œè¯·ä½ è¾“å‡º C b a mod p çš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ç»„ a,b,p</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± n è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„è§£ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤20<br>1â‰¤bâ‰¤aâ‰¤10^18<br>1â‰¤pâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">3</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">4</span> <span class="hljs-number">13</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>3<br>2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (k)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (k &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;<br>        a = (LL)a * a % p;<br>        k &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">C</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (b &gt; a) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, j = a; i &lt;= b; i ++, j -- )<br>    &#123;<br>        res = (LL)res * j % p;<br>        res = (LL)res * <span class="hljs-built_in">qmi</span>(i, p - <span class="hljs-number">2</span>, p) % p;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lucas</span><span class="hljs-params">(LL a, LL b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (a &lt; p &amp;&amp; b &lt; p) <span class="hljs-keyword">return</span> <span class="hljs-built_in">C</span>(a, b, p);<br>    <span class="hljs-keyword">return</span> (LL)<span class="hljs-built_in">C</span>(a % p, b % p, p) * <span class="hljs-built_in">lucas</span>(a / p, b / p, p) % p;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br><br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        LL a, b;<br>        <span class="hljs-keyword">int</span> p;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;<br>        cout &lt;&lt; <span class="hljs-built_in">lucas</span>(a, b, p) &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="ç¬¬å››ç§-å¯¹é˜¶ä¹˜åˆ†è§£è´¨å› æ•°-é«˜ç²¾åº¦"><a href="#ç¬¬å››ç§-å¯¹é˜¶ä¹˜åˆ†è§£è´¨å› æ•°-é«˜ç²¾åº¦" class="headerlink" title="ç¬¬å››ç§(å¯¹é˜¶ä¹˜åˆ†è§£è´¨å› æ•° + é«˜ç²¾åº¦)"></a>ç¬¬å››ç§(å¯¹é˜¶ä¹˜åˆ†è§£è´¨å› æ•° + é«˜ç²¾åº¦)</h3><blockquote><p>è¾“å…¥ a,bï¼Œæ±‚ Cba çš„å€¼ã€‚</p><p>æ³¨æ„ç»“æœå¯èƒ½å¾ˆå¤§ï¼Œéœ€è¦ä½¿ç”¨é«˜ç²¾åº¦è®¡ç®—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° a å’Œ bã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè¾“å‡º C b a çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤bâ‰¤aâ‰¤5000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">10<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">5010</span>;<br><br><span class="hljs-keyword">int</span> primes[N], cnt;<br><span class="hljs-keyword">int</span> sum[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!st[i]) primes[cnt ++ ] = i;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; primes[j] &lt;= n / i; j ++ )<br>        &#123;<br>            st[primes[j] * i] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (n)<br>    &#123;<br>        res += n / p;<br>        n /= p;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">mul</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; c;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        t += a[i] * b;<br>        c.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (t)<br>    &#123;<br>        c.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> c;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> a, b;<br>    cin &gt;&gt; a &gt;&gt; b;<br><br>    <span class="hljs-built_in">get_primes</span>(a);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> p = primes[i];<br>        sum[i] = <span class="hljs-built_in">get</span>(a, p) - <span class="hljs-built_in">get</span>(a - b, p) - <span class="hljs-built_in">get</span>(b, p);<br>    &#125;<br><br>    vector&lt;<span class="hljs-keyword">int</span>&gt; res;<br>    res.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; sum[i]; j ++ )<br>            res = <span class="hljs-built_in">mul</span>(res, primes[i]);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = res.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, res[i]);<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å¡ç‰¹å…°æ•°"><a href="#å¡ç‰¹å…°æ•°" class="headerlink" title="å¡ç‰¹å…°æ•°"></a>å¡ç‰¹å…°æ•°</h2><p><strong>åˆ©ç”¨ä¾‹é¢˜æ¥è§£é‡Šä»€ä¹ˆæ˜¯å¡ç‰¹å…°æ•°ï¼Œä½œä¸ºå¡ç‰¹å…°æ•°ï¼Œè¿™ä¸ªä¸–ç•Œä¸Šå¾ˆå¤šæ–¹æ¡ˆæ•°éƒ½æ˜¯å¡ç‰¹å…°æ•°ï¼Œæ‹¥æœ‰å’Œæ–æ³¢é‚£å¥‘æ•°ä¸€æ ·çš„åœ°ä½</strong></p><blockquote><p>ç»™å®š n ä¸ª 0 å’Œ n ä¸ª 1ï¼Œå®ƒä»¬å°†æŒ‰ç…§æŸç§é¡ºåºæ’æˆé•¿åº¦ä¸º 2n çš„åºåˆ—ï¼Œæ±‚å®ƒä»¬èƒ½æ’åˆ—æˆçš„æ‰€æœ‰åºåˆ—ä¸­ï¼Œèƒ½å¤Ÿæ»¡è¶³ä»»æ„å‰ç¼€åºåˆ—ä¸­ 0 çš„ä¸ªæ•°éƒ½ä¸å°‘äº 1 çš„ä¸ªæ•°çš„åºåˆ—æœ‰å¤šå°‘ä¸ªã€‚</p><p>è¾“å‡ºçš„ç­”æ¡ˆå¯¹ 10^9+7 å–æ¨¡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç­”æ¡ˆã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;<br>    <br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>) res = (LL) res * a % p;<br>        a = (LL)a * a % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">int</span> a = n * <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">int</span> b = n;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a; i &gt; b; i -- ) res = (LL)res * i % mod;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) res = (LL)res * <span class="hljs-built_in">qmi</span>(i, mod - <span class="hljs-number">2</span>, mod) % mod;<br>    <br>    res = (LL)res * <span class="hljs-built_in">qmi</span>(n + <span class="hljs-number">1</span>, mod - <span class="hljs-number">2</span>, mod) % mod;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>åŸºç¡€ç»„åˆæ•°å­¦å°±è¿™æ ·ç»“æŸäº†ï¼Œä¸‹èŠ‚è¯¾ä¼šè®²è¿°åšå¼ˆè®ºçš„å‡ ä¸ªä¸œè¥¿~</strong></p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸­å›½å‰©ä½™å®šç†ï¼Œæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼Œå®¹æ–¥åŸç†</title>
    <link href="/posts/1265928899.html"/>
    <url>/posts/1265928899.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°ä¸­å›½å‰©ä½™å®šç†ï¼Œæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼Œå®¹æ–¥åŸç†</p><span id="more"></span><h1 id="æ•°å­¦ï¼ˆ2ï¼‰"><a href="#æ•°å­¦ï¼ˆ2ï¼‰" class="headerlink" title="æ•°å­¦ï¼ˆ2ï¼‰"></a>æ•°å­¦ï¼ˆ2ï¼‰</h1><h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼š"><a href="#æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼š" class="headerlink" title="æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼š"></a>æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼š</h2><p><strong>å¦‚æœæƒ³è¦è®²æ¸…æ¥šä»€ä¹ˆæ˜¯æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œé‚£ä¸€å®šè¦çŸ¥é“çš„ä¸€ç‚¹å°±æ˜¯è£´èœ€å®šç†</strong></p><p><strong>è£´èœ€å®šç†: å¯¹ä»»ä½•æ•´æ•°aã€bï¼Œå­˜åœ¨æ•´æ•°xã€yï¼Œä½¿å¾—ax + by = (a, b)</strong></p><p><strong>è€Œæ‰©å±•æ¬§å‡ é‡Œå¾—å°±æ˜¯æ±‚å‡ºè¿™ä¸ªè£´èœ€å®šç†è§£çš„ä¸€ä¸ªç®—æ³•</strong></p><blockquote><p>ç»™å®š n å¯¹æ­£æ•´æ•° ai,biï¼Œå¯¹äºæ¯å¯¹æ•°ï¼Œæ±‚å‡ºä¸€ç»„ xi,yiä½¿å…¶æ»¡è¶³ aiÃ—xi+biÃ—yi=gcd(ai,bi)</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° ai,bi</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…± n è¡Œï¼Œå¯¹äºæ¯ç»„ ai,biï¼Œæ±‚å‡ºä¸€ç»„æ»¡è¶³æ¡ä»¶çš„ xi,yiï¼Œæ¯ç»„ç»“æœå ä¸€è¡Œã€‚</p><p>æœ¬é¢˜ç­”æ¡ˆä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„æ»¡è¶³æ¡ä»¶çš„ xi,yi å‡å¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤ai,biâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">18</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff"><span class="hljs-deletion">-1 1</span><br><span class="hljs-deletion">-2 1</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">exgcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> &amp;x, <span class="hljs-keyword">int</span> &amp;y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>)<br>    &#123;<br>        x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> a;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">exgcd</span>(b, a % b, y, x);<br>    y -= a / b * x;<br>    <br>    <span class="hljs-keyword">return</span> d;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-keyword">int</span> x, y;<br>        <br>        <span class="hljs-built_in">exgcd</span>(a, b, x, y);<br>        <br>        cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; y &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="çº¿æ€§åŒä½™æ–¹ç¨‹"><a href="#çº¿æ€§åŒä½™æ–¹ç¨‹" class="headerlink" title="çº¿æ€§åŒä½™æ–¹ç¨‹"></a>çº¿æ€§åŒä½™æ–¹ç¨‹</h3><blockquote><p>ç»™å®š nn ç»„æ•°æ® ai,bi,miå¯¹äºæ¯ç»„æ•°æ±‚å‡ºä¸€ä¸ª xixiï¼Œä½¿å…¶æ»¡è¶³ aiÃ—xiâ‰¡bi(modmi) å¦‚æœæ— è§£åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ç»„æ•°æ® ai,bi,mi</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…± n è¡Œï¼Œæ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ xiï¼Œå¦‚æœæ— è§£åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><p>æ¯ç»„æ•°æ®ç»“æœå ä¸€è¡Œï¼Œç»“æœå¯èƒ½ä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç»“æœå‡å¯ã€‚</p><p>è¾“å‡ºç­”æ¡ˆå¿…é¡»åœ¨ int èŒƒå›´ä¹‹å†…ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤ai,bi,miâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">impossible<br><span class="hljs-deletion">-3</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">exgcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> &amp;x, <span class="hljs-keyword">int</span> &amp;y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!b)<br>    &#123;<br>        x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> a;<br>    &#125;<br>    <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">exgcd</span>(b, a % b, y, x);<br>    y -= a / b * x;<br>    <span class="hljs-keyword">return</span> d;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, m;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;m);<br><br>        <span class="hljs-keyword">int</span> x, y;<br>        <span class="hljs-keyword">int</span> d = <span class="hljs-built_in">exgcd</span>(a, m, x, y);<br>        <span class="hljs-keyword">if</span> (b % d) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, (LL)b / d * x % m);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="ä¸­å›½å‰©ä½™å®šç†"><a href="#ä¸­å›½å‰©ä½™å®šç†" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†"></a>ä¸­å›½å‰©ä½™å®šç†</h2><p><strong>é—®é¢˜ï¼šä»Šæœ‰ç‰©ä¸çŸ¥å…¶æ•°ï¼Œä¸‰ä¸‰æ•°ä¹‹å‰©äºŒï¼Œäº”äº”æ•°ä¹‹å‰©ä¸‰ï¼Œä¸ƒä¸ƒæ•°ä¹‹å‰©äºŒã€‚é—®ç‰©å‡ ä½•ï¼Ÿ</strong></p><p>å¤§æ¦‚å°±æ˜¯åœ¨è¯´è¿™ä¹ˆä¸€ä¸ªäº‹æƒ…ï¼Œç‰¹åˆ«åƒä»¥å‰æˆ‘ä»¬å­¦ä¹ çš„å°å­¦æ•°å¥¥é—®é¢˜ã€‚</p><blockquote><p>è‡ªä»æ›¹å†²æå®šäº†å¤§è±¡ä»¥åï¼Œæ›¹æ“å°±å¼€å§‹ç¢ç£¨è®©å„¿å­å¹²äº›äº‹ä¸šï¼Œäºæ˜¯æ´¾ä»–åˆ°ä¸­åŸå…»çŒªåœºå…»çŒªï¼Œå¯æ˜¯æ›¹å†²å¾ˆä¸é«˜å…´ï¼Œäºæ˜¯åœ¨å·¥ä½œä¸­é©¬é©¬è™è™ï¼Œæœ‰ä¸€æ¬¡æ›¹æ“æƒ³çŸ¥é“æ¯çŒªçš„æ•°é‡ï¼Œäºæ˜¯æ›¹å†²æƒ³ç‹ ç‹ è€æ›¹æ“ä¸€æŠŠã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æœ‰ 16 å¤´æ¯çŒªï¼Œå¦‚æœå»ºäº† 3 ä¸ªçŒªåœˆï¼Œå‰©ä¸‹ 1 å¤´çŒªå°±æ²¡æœ‰åœ°æ–¹å®‰å®¶äº†ï¼›å¦‚æœå»ºé€ äº† 5 ä¸ªçŒªåœˆï¼Œä½†æ˜¯ä»ç„¶æœ‰ 1 å¤´çŒªæ²¡æœ‰åœ°æ–¹å»ï¼›å¦‚æœå»ºé€ äº† 7 ä¸ªçŒªåœˆï¼Œè¿˜æœ‰ 2 å¤´æ²¡æœ‰åœ°æ–¹å»ã€‚</p><p>ä½ ä½œä¸ºæ›¹æ€»çš„ç§äººç§˜ä¹¦ç†æ‰€å½“ç„¶è¦å°†å‡†ç¡®çš„çŒªæ•°æŠ¥ç»™æ›¹æ€»ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nï¼Œè¡¨ç¤ºå»ºç«‹çŒªåœˆçš„æ¬¡æ•°ï¼›</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° ai,biï¼Œè¡¨ç¤ºå»ºç«‹äº† ai ä¸ªçŒªåœˆï¼Œæœ‰ bi å¤´çŒªæ²¡æœ‰å»å¤„ã€‚</p><p>ä½ å¯ä»¥å‡å®š ai,aj äº’è´¨ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä»…åŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå³ä¸ºæ›¹å†²è‡³å°‘å…»çŒªçš„æ•°ç›®ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10<br>1â‰¤biâ‰¤aiâ‰¤100000<br>æ‰€æœ‰aiçš„ä¹˜ç§¯ä¸è¶…è¿‡ 10^18</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">16<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> A[N], B[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">exgcd</span><span class="hljs-params">(LL a, LL b, LL &amp;x, LL &amp;y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!b) x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">exgcd</span>(b, a % b, y, x);<br>        y -= a / b * x;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    LL M = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;A[i], &amp;B[i]);<br>        M *= A[i];<br>    &#125;<br><br>    LL res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        LL Mi = M / A[i];<br>        LL ti, x;<br>        <span class="hljs-built_in">exgcd</span>(Mi, A[i], ti, x);<br>        res += B[i] * Mi * ti;<br>    &#125;<br><br>    cout &lt;&lt; (res % M + M) % M &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å®¹æ–¥åŸç†"><a href="#å®¹æ–¥åŸç†" class="headerlink" title="å®¹æ–¥åŸç†"></a>å®¹æ–¥åŸç†</h2><blockquote><p>ç»™å®šä¸€ä¸ªæ•´æ•° n å’Œ m ä¸ªä¸åŒçš„è´¨æ•° p1,p2,â€¦,pmã€‚</p><p>è¯·ä½ æ±‚å‡º 1âˆ¼n ä¸­èƒ½è¢« p1,p2,â€¦,pm ä¸­çš„è‡³å°‘ä¸€ä¸ªæ•°æ•´é™¤çš„æ•´æ•°æœ‰å¤šå°‘ä¸ªã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« m ä¸ªè´¨æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„æ•´æ•°çš„ä¸ªæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤mâ‰¤16<br>1â‰¤n,piâ‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">10 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">7<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">20</span>;<br><br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-keyword">int</span> n, m;<br>LL res;    <br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; m; i ++ ) <br>    &#123;<br>        <span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>, cnt = <span class="hljs-number">0</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (i &gt;&gt; j &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span> ((LL)t * q[j] &lt;= n)<br>                &#123;<br>                    t *= q[j];<br>                    cnt ++ ;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <br>                &#123;<br>                    t = <span class="hljs-number">-1</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>                <br>        <span class="hljs-keyword">if</span> (t != <span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (cnt % <span class="hljs-number">2</span>)<br>            &#123;<br>                res += n / t;<br>            &#125;<br>            <span class="hljs-keyword">else</span> res -= n / t;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>æ•°è®ºåˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä¹‹åå¼€å¯ç»„åˆæ•°å­¦ç« èŠ‚äº†</p><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è´¨æ•°ï¼Œçº¦æ•°ï¼Œæ¬§æ‹‰å‡½æ•°ï¼Œå¿«é€Ÿå¹‚åŠå…¶å®šç†</title>
    <link href="/posts/944140020.html"/>
    <url>/posts/944140020.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°è´¨æ•°çš„åˆ¤æ–­ï¼Œåˆ†è§£è´¨å› æ•°ï¼Œç­›è´¨æ•°çš„ä¸‰ç§æ–¹æ³•ï¼Œæ±‚çº¦æ•°ï¼Œçº¦æ•°å’Œå®šç†ï¼Œçº¦æ•°ä¸ªæ•°å®šç†ï¼Œæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œæ¬§æ‹‰å‡½æ•°çš„æ±‚æ³•ï¼Œç­›æ³•ç­›å‡ºæ¬§æ‹‰å‡½æ•°ï¼Œå¿«é€Ÿå¹‚åŠå…¶æ±‚é€†å…ƒçš„æ–¹å¼ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰æ¬§æ‹‰å®šç†å’Œè´¹é©¬å°å®šç†</p><span id="more"></span><h1 id="æ•°å­¦ï¼ˆ1ï¼‰"><a href="#æ•°å­¦ï¼ˆ1ï¼‰" class="headerlink" title="æ•°å­¦ï¼ˆ1ï¼‰"></a>æ•°å­¦ï¼ˆ1ï¼‰</h1><h2 id="è´¨æ•°"><a href="#è´¨æ•°" class="headerlink" title="è´¨æ•°"></a>è´¨æ•°</h2><h4 id="è¯•é™¤æ³•åˆ¤å®šè´¨æ•°"><a href="#è¯•é™¤æ³•åˆ¤å®šè´¨æ•°" class="headerlink" title="è¯•é™¤æ³•åˆ¤å®šè´¨æ•°"></a>è¯•é™¤æ³•åˆ¤å®šè´¨æ•°</h4><p>ä¹‹å‰æœ‰è®²è¿‡ï¼Œåˆ©ç”¨oï¼ˆæ ¹å·nï¼‰çš„æ–¹æ³•æ¥åˆ¤å®šæ˜¯ä¸æ˜¯è´¨æ•°</p><blockquote><p>ç»™å®š n ä¸ªæ­£æ•´æ•° aiï¼Œåˆ¤å®šæ¯ä¸ªæ•°æ˜¯å¦æ˜¯è´¨æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± n è¡Œï¼Œå…¶ä¸­ç¬¬ i è¡Œè¾“å‡ºç¬¬ i ä¸ªæ­£æ•´æ•° ai æ˜¯å¦ä¸ºè´¨æ•°ï¼Œæ˜¯åˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>1â‰¤aiâ‰¤2^31âˆ’1</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>2<br>6<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">Yes</span><br><span class="hljs-keyword">No</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">is_prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (x == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= x / i; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (x % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;<br>        cin &gt;&gt; n;<br>        <br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">is_prime</span>(n)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°oï¼ˆæ ¹å·nï¼‰"><a href="#è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°oï¼ˆæ ¹å·nï¼‰" class="headerlink" title="è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°oï¼ˆæ ¹å·nï¼‰"></a>è¯•é™¤æ³•åˆ†è§£è´¨å› æ•°oï¼ˆæ ¹å·nï¼‰</h3><blockquote><p>ç»™å®š n ä¸ªæ­£æ•´æ•° aiï¼Œå°†æ¯ä¸ªæ•°åˆ†è§£è´¨å› æ•°ï¼Œå¹¶æŒ‰ç…§è´¨å› æ•°ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ¯ä¸ªè´¨å› æ•°çš„åº•æ•°å’ŒæŒ‡æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªæ­£æ•´æ•° aiï¼ŒæŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºå…¶åˆ†è§£è´¨å› æ•°åï¼Œæ¯ä¸ªè´¨å› æ•°çš„åº•æ•°å’ŒæŒ‡æ•°ï¼Œæ¯ä¸ªåº•æ•°å’ŒæŒ‡æ•°å ä¸€è¡Œã€‚</p><p>æ¯ä¸ªæ­£æ•´æ•°çš„è´¨å› æ•°å…¨éƒ¨è¾“å‡ºå®Œæ¯•åï¼Œè¾“å‡ºä¸€ä¸ªç©ºè¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>2â‰¤aiâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>6<br>8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span><br><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">50010</span>;<br><br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> primes[N], cnt, minp[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= x; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!st[i]) <br>        &#123;<br>            primes[cnt ++ ] = i;<br>            minp[i] = i;<br>            <br>        &#125;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; i * primes[j] &lt;= x; j ++ )<br>        &#123;<br>            st[i * primes[j]] = <span class="hljs-literal">true</span>;<br>            minp[i * primes[j]] = primes[j];<br>            <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">init</span>(N - <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">int</span> T;<br>    <br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;<br>        cin &gt;&gt; n;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> p = primes[i];<br>            <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<br>            <br>            <span class="hljs-keyword">if</span> (n % p == <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-keyword">while</span> (n % p == <span class="hljs-number">0</span>)<br>                &#123;<br>                    n /= p;<br>                    s ++ ;<br>                &#125;<br>                cout &lt;&lt; p &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; s &lt;&lt; endl;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">1</span>) cout &lt;&lt; n &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; endl;<br>        <br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <br>    cout &lt;&lt; cnt &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="ç­›è´¨æ•°"><a href="#ç­›è´¨æ•°" class="headerlink" title="ç­›è´¨æ•°"></a>ç­›è´¨æ•°</h2><p><strong>æŠŠå°äºæŸä¸ªæ•°çš„æ‰€æœ‰è´¨æ•°éƒ½ç­›å‡ºæ¥ã€‚</strong></p><blockquote><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¯·ä½ æ±‚å‡º 1âˆ¼n ä¸­è´¨æ•°çš„ä¸ªæ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1âˆ¼n ä¸­è´¨æ•°çš„ä¸ªæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><p>è¿™ä¸ªé—®é¢˜å‘¢æœ‰ä¸‰ç§æ–¹æ³•çš„æ¼”å˜è¿‡ç¨‹</p><p>è¯¦ç»†çš„è¯·ä»”ç»†çœ‹æˆ‘è¿™ç¯‡åšå®¢<a href="https://jxj777.top/posts/2574143239.html">ç‚¹æˆ‘è·³è½¬</a></p><p>è¿™é‡Œç›´æ¥ç»™å‡ºc++ä»£ç </p><h4 id="æœ´ç´ ç­›"><a href="#æœ´ç´ ç­›" class="headerlink" title="æœ´ç´ ç­›"></a>æœ´ç´ ç­›</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N= <span class="hljs-number">1000010</span>;<br><br><span class="hljs-keyword">int</span> primes[N], cnt;<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (st[i]) <span class="hljs-keyword">continue</span>;<br>        primes[cnt ++ ] = i;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + i; j &lt;= n; j += i)<br>            st[j] = <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br><br>    <span class="hljs-built_in">get_primes</span>(n);<br><br>    cout &lt;&lt; cnt &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="åŸƒæ°ç­›æ³•"><a href="#åŸƒæ°ç­›æ³•" class="headerlink" title="åŸƒæ°ç­›æ³•"></a>åŸƒæ°ç­›æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_primes1</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=n;i++)&#123;<br>        <span class="hljs-keyword">if</span>(!st[i])&#123;<br>            primes[cnt++]=i;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=i;j&lt;=n;j+=i) st[j]=<span class="hljs-literal">true</span>;<span class="hljs-comment">//å¯ä»¥ç”¨è´¨æ•°å°±æŠŠæ‰€æœ‰çš„åˆæ•°éƒ½ç­›æ‰ï¼›</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›æ³•ï¼‰"><a href="#æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›æ³•ï¼‰" class="headerlink" title="æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›æ³•ï¼‰"></a>æ¬§æ‹‰ç­›ï¼ˆçº¿æ€§ç­›æ³•ï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N= <span class="hljs-number">1000010</span>;<br><br><span class="hljs-keyword">int</span> primes[N], cnt;<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!st[i]) primes[cnt ++ ] = i;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; primes[j] &lt;= n / i; j ++ )<br>        &#123;<br>            st[primes[j] * i] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br><br>    <span class="hljs-built_in">get_primes</span>(n);<br><br>    cout &lt;&lt; cnt &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="çº¦æ•°"><a href="#çº¦æ•°" class="headerlink" title="çº¦æ•°"></a>çº¦æ•°</h2><h3 id="è¯•é™¤æ³•æ±‚çº¦æ•°"><a href="#è¯•é™¤æ³•æ±‚çº¦æ•°" class="headerlink" title="è¯•é™¤æ³•æ±‚çº¦æ•°"></a>è¯•é™¤æ³•æ±‚çº¦æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">get_divisors</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; res;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= x / i; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (x % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            res.<span class="hljs-built_in">push_back</span>(i);<br>            <span class="hljs-keyword">if</span> (x / i != i) res.<span class="hljs-built_in">push_back</span>(x / i);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-built_in">sort</span>(res.<span class="hljs-built_in">begin</span>(), res.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;<br>        cin &gt;&gt; n;<br>        <br>        <span class="hljs-keyword">auto</span> a = <span class="hljs-built_in">get_divisors</span>(n);<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> t : a)<br>        &#123;<br>            cout &lt;&lt; t &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>        &#125;<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="çº¦æ•°å’Œå®šç†ä¸çº¦æ•°ä¸ªæ•°å®šç†"><a href="#çº¦æ•°å’Œå®šç†ä¸çº¦æ•°ä¸ªæ•°å®šç†" class="headerlink" title="çº¦æ•°å’Œå®šç†ä¸çº¦æ•°ä¸ªæ•°å®šç†"></a>çº¦æ•°å’Œå®šç†ä¸çº¦æ•°ä¸ªæ•°å®šç†</h3><p>è¿™ä¸ªä¸ºå°å­¦æ•°å¥¥å®šç†ï¼Œä¼šåœ¨è¯¾ä¸Šè¯¦ç»†è®²ä¸€è®²ï¼Œéƒ½æ˜¯åŸºäºä¹˜æ³•åŸç†</p><h4 id="çº¦æ•°å’Œå®šç†"><a href="#çº¦æ•°å’Œå®šç†" class="headerlink" title="çº¦æ•°å’Œå®šç†"></a>çº¦æ•°å’Œå®šç†</h4><blockquote><p>ç»™å®š n ä¸ªæ­£æ•´æ•° aiï¼Œè¯·ä½ è¾“å‡ºè¿™äº›æ•°çš„ä¹˜ç§¯çš„çº¦æ•°ä¹‹å’Œï¼Œç­”æ¡ˆå¯¹ 10^9+7 å–æ¨¡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€ç»™æ­£æ•´æ•°çš„ä¹˜ç§¯çš„çº¦æ•°ä¹‹å’Œï¼Œç­”æ¡ˆéœ€å¯¹ 10^9+7å–æ¨¡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>1â‰¤aiâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>2<br>6<br>8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">252<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br><br>    unordered_map&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; primes;<br><br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; x;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= x / i; i ++ )<br>            <span class="hljs-keyword">while</span> (x % i == <span class="hljs-number">0</span>)<br>            &#123;<br>                x /= i;<br>                primes[i] ++ ;<br>            &#125;<br><br>        <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">1</span>) primes[x] ++ ;<br>    &#125;<br><br>    LL res = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> p : primes)<br>    &#123;<br>        LL a = p.first, b = p.second;<br>        LL t = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (b -- ) t = (t * a + <span class="hljs-number">1</span>) % mod;<br>        res = res * t % mod;<br>    &#125;<br><br>    cout &lt;&lt; res &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="çº¦æ•°ä¸ªæ•°å®šç†"><a href="#çº¦æ•°ä¸ªæ•°å®šç†" class="headerlink" title="çº¦æ•°ä¸ªæ•°å®šç†"></a>çº¦æ•°ä¸ªæ•°å®šç†</h4><blockquote><p>ç»™å®š n ä¸ªæ­£æ•´æ•° aiï¼Œè¯·ä½ è¾“å‡ºè¿™äº›æ•°çš„ä¹˜ç§¯çš„çº¦æ•°ä¸ªæ•°ï¼Œç­”æ¡ˆå¯¹ 10^9+7 å–æ¨¡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€ç»™æ­£æ•´æ•°çš„ä¹˜ç§¯çš„çº¦æ•°ä¸ªæ•°ï¼Œç­”æ¡ˆéœ€å¯¹ 10^9+7 å–æ¨¡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>1â‰¤aiâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>2<br>6<br>8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">12<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br><br>    unordered_map&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; primes;<br><br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; x;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= x / i; i ++ )<br>            <span class="hljs-keyword">while</span> (x % i == <span class="hljs-number">0</span>)<br>            &#123;<br>                x /= i;<br>                primes[i] ++ ;<br>            &#125;<br><br>        <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">1</span>) primes[x] ++ ;<br>    &#125;<br><br>    LL res = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> p : primes) res = res * (p.second + <span class="hljs-number">1</span>) % mod;<br><br>    cout &lt;&lt; res &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="æ¬§å‡ é‡Œå¾—ç®—æ³•"><a href="#æ¬§å‡ é‡Œå¾—ç®—æ³•" class="headerlink" title="æ¬§å‡ é‡Œå¾—ç®—æ³•"></a>æ¬§å‡ é‡Œå¾—ç®—æ³•</h3><blockquote><p>ç»™å®š n å¯¹æ­£æ•´æ•° ai,biï¼Œè¯·ä½ æ±‚å‡ºæ¯å¯¹æ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°å¯¹ ai,biã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…± n è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•°å¯¹çš„æœ€å¤§å…¬çº¦æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤ai,biâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> !b ? a : <span class="hljs-built_in">gcd</span>(b, a % b);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        cout &lt;&lt; <span class="hljs-built_in">gcd</span>(a, b) &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="æ¬§æ‹‰å‡½æ•°"><a href="#æ¬§æ‹‰å‡½æ•°" class="headerlink" title="æ¬§æ‹‰å‡½æ•°"></a>æ¬§æ‹‰å‡½æ•°</h2><p>ä¼šæœ‰ä¿©ç§æ±‚å¾—æ¨¡å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥æ±‚å•ä¸ªæ•°å¾—æ¬§æ‹‰å‡½æ•°ï¼Œä¸€ç§æ˜¯ç›´æ¥ç­›å‡ºæ¬§æ‹‰å‡½æ•°</p><h3 id="æ±‚è§£æ¬§æ‹‰å‡½æ•°ï¼š"><a href="#æ±‚è§£æ¬§æ‹‰å‡½æ•°ï¼š" class="headerlink" title="æ±‚è§£æ¬§æ‹‰å‡½æ•°ï¼š"></a>æ±‚è§£æ¬§æ‹‰å‡½æ•°ï¼š</h3><blockquote><p>ç»™å®š n ä¸ªæ­£æ•´æ•° aiï¼Œè¯·ä½ æ±‚å‡ºæ¯ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-6"><a href="#è¾“å…¥æ ¼å¼-6" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…± n è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•° ai çš„æ¬§æ‹‰å‡½æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-6"><a href="#æ•°æ®èŒƒå›´-6" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100<br>1â‰¤aiâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-6"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>3<br>6<br>8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-6"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-6" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>2<br>4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">phi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = x;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= x / i; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (x % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            res = res / i * (i - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">while</span> (x % i == <span class="hljs-number">0</span>) x /= i;<br>        &#125;    <br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">1</span>) res = res / x * (x - <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        cout &lt;&lt; <span class="hljs-built_in">phi</span>(v) &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="çº¿æ€§ç­›æ³•ç­›å‡ºæ¬§æ‹‰å‡½æ•°"><a href="#çº¿æ€§ç­›æ³•ç­›å‡ºæ¬§æ‹‰å‡½æ•°" class="headerlink" title="çº¿æ€§ç­›æ³•ç­›å‡ºæ¬§æ‹‰å‡½æ•°"></a>çº¿æ€§ç­›æ³•ç­›å‡ºæ¬§æ‹‰å‡½æ•°</h3><blockquote><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œæ±‚ 1âˆ¼n ä¸­æ¯ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°ä¹‹å’Œã€‚</p><h4 id="è¾“å…¥æ ¼å¼-7"><a href="#è¾“å…¥æ ¼å¼-7" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-7"><a href="#è¾“å‡ºæ ¼å¼-7" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1âˆ¼n ä¸­æ¯ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°ä¹‹å’Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-7"><a href="#æ•°æ®èŒƒå›´-7" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-7"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-7"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-7" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">12<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> primes[N], phi[N], cnt;<br><span class="hljs-keyword">bool</span> st[N];<br>LL res;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_phi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    phi[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!st[i])<br>        &#123;<br>            primes[cnt ++ ] = i;<br>            phi[i] = i - <span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; i * primes[j] &lt;= x; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> t = i * primes[j];<br>            st[t] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>)<br>            &#123;<br>                phi[t] = phi[i] * primes[j];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <br>            phi[t] = phi[i] * (primes[j] - <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-built_in">get_phi</span>(n);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        res += phi[i];<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å¿«é€Ÿå¹‚å’Œé¾Ÿé€Ÿä¹˜"><a href="#å¿«é€Ÿå¹‚å’Œé¾Ÿé€Ÿä¹˜" class="headerlink" title="å¿«é€Ÿå¹‚å’Œé¾Ÿé€Ÿä¹˜"></a>å¿«é€Ÿå¹‚å’Œé¾Ÿé€Ÿä¹˜</h2><p>åœ¨é€šè¯†è¯¾ä¸Šè®²è¿‡å“ˆ~</p><h3 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h3><blockquote><p>ç»™å®š n ç»„ ai,bi,piï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œæ±‚å‡º ai ^ bi mod pi çš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-8"><a href="#è¾“å…¥æ ¼å¼-8" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° ai,bi,piã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-8"><a href="#è¾“å‡ºæ ¼å¼-8" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªç»“æœï¼Œè¡¨ç¤º ai ^ bi mod pi çš„å€¼ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-8"><a href="#æ•°æ®èŒƒå›´-8" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000<br>1â‰¤ai,bi,piâ‰¤2Ã—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-8"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-8" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">2</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span> <span class="hljs-number">9</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-8"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-8" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br>1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qki</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    LL res = <span class="hljs-number">1</span> % p;<br>    <br>    <span class="hljs-keyword">while</span> (b &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = res * a % p;<br>        a = (LL) a * a % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        cout &lt;&lt; <span class="hljs-built_in">qki</span>(a, b, c) &lt;&lt; endl;<br>    &#125;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é¾Ÿé€Ÿä¹˜"><a href="#é¾Ÿé€Ÿä¹˜" class="headerlink" title="é¾Ÿé€Ÿä¹˜"></a>é¾Ÿé€Ÿä¹˜</h3><blockquote><p>æ±‚ a ä¹˜ b å¯¹ p å–æ¨¡çš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-9"><a href="#è¾“å…¥æ ¼å¼-9" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•°aï¼Œç¬¬äºŒè¡Œè¾“å…¥æ•´æ•°bï¼Œç¬¬ä¸‰è¡Œè¾“å…¥æ•´æ•°pã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-9"><a href="#è¾“å‡ºæ ¼å¼-9" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º<code>a*b mod p</code>çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-9"><a href="#æ•°æ®èŒƒå›´-9" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤a,b,pâ‰¤10^18</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-9"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-9" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>4<br>5<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-9"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-9" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    LL a, b, p;<br>    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;<br>    <br>    LL res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span>(b &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) res = (res + a) % p;<br>        a = (a + a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="é€†å…ƒ"><a href="#é€†å…ƒ" class="headerlink" title="é€†å…ƒ"></a>é€†å…ƒ</h2><blockquote><p>è‹¥æ•´æ•° bï¼Œm äº’è´¨ï¼Œå¹¶ä¸”å¯¹äºä»»æ„çš„æ•´æ•° aï¼Œå¦‚æœæ»¡è¶³ b|aï¼Œåˆ™å­˜åœ¨ä¸€ä¸ªæ•´æ•° xï¼Œä½¿å¾— a/bâ‰¡aÃ—x (modm)ï¼Œåˆ™ç§° x ä¸º b çš„æ¨¡ m ä¹˜æ³•é€†å…ƒï¼Œè®°ä¸º bâˆ’1(mod m)ã€‚<br>b å­˜åœ¨ä¹˜æ³•é€†å…ƒçš„å……è¦æ¡ä»¶æ˜¯ b ä¸æ¨¡æ•° m äº’è´¨ã€‚å½“æ¨¡æ•° m ä¸ºè´¨æ•°æ—¶b ^ (mâˆ’2) å³ä¸º b çš„ä¹˜æ³•é€†å…ƒã€‚</p></blockquote><p><strong>æœ‰äººå¯èƒ½ä¼šé—®äº†ï¼Œä¸ºä»€ä¹ˆb ^ (m - 2)æ˜¯bå¾—ä¹˜æ³•é€†å…ƒå‘¢ï¼Ÿè¿™ä¸ªäº‹æƒ…å¾—å…ˆä»æ¬§æ‹‰å®šç†å’Œè´¹é©¬å°å®šç†å¼€å§‹è¯´èµ·</strong></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210612143620193.png" alt="image-20210612143620193"></p><p>å¦‚æœnæ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå…¬å¼ä¼šå˜æˆäº†<img src="http://jin-xuanjie.gitee.io/note-pad/image-20210612143740996.png" alt="image-20210612143740996"></p><blockquote><p>ç»™å®š n ç»„ ai,piï¼Œå…¶ä¸­ pi æ˜¯è´¨æ•°ï¼Œæ±‚ ai æ¨¡ pi çš„ä¹˜æ³•é€†å…ƒï¼Œè‹¥é€†å…ƒä¸å­˜åœ¨åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè¯·è¿”å›åœ¨ 0âˆ¼pâˆ’1 ä¹‹é—´çš„é€†å…ƒã€‚</p><h4 id="è¾“å…¥æ ¼å¼-10"><a href="#è¾“å…¥æ ¼å¼-10" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•°ç»„ ai,piï¼Œæ•°æ®ä¿è¯ pi æ˜¯è´¨æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-10"><a href="#è¾“å‡ºæ ¼å¼-10" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…± n è¡Œï¼Œæ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>è‹¥ ai æ¨¡ pi çš„ä¹˜æ³•é€†å…ƒå­˜åœ¨ï¼Œåˆ™è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé€†å…ƒï¼Œå¦åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-10"><a href="#æ•°æ®èŒƒå›´-10" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5<br>1â‰¤ai,piâ‰¤2âˆ—10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-10"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-10" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-10"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-10" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br>impossible<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span> % p;<br>    <br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>) res = (LL)res * a % p;<br>        a = (LL)a * a % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, p;<br>        cin &gt;&gt; a &gt;&gt; p;<br>        <br>        <span class="hljs-keyword">int</span> res = <span class="hljs-built_in">qmi</span>(a, p - <span class="hljs-number">2</span>, p);<br>        <br>        <span class="hljs-keyword">if</span>(p == <span class="hljs-number">2</span> &amp;&amp; a % p == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">2</span>)<br>        &#123;<br>            cout &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; endl;<br>            <br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (res) cout &lt;&lt; res &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>ä»Šå¤©çš„å†…å®¹é‡è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥å¤šåŠ ç»ƒä¹ å’Œæ¨å¯¼ï¼Œåšåˆ°æ´»ç”¨</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒåˆ†å›¾ç®—æ³•</title>
    <link href="/posts/326720021.html"/>
    <url>/posts/326720021.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°äºŒåˆ†å›¾åŠå…¶åˆ¤æ–­äºŒåˆ†å›¾çš„ç®—æ³•â€“æŸ“è‰²æ³•å’ŒäºŒåˆ†å›¾æœ€å¤§åŒ¹é…ç®—æ³•åŒˆç‰™åˆ©ç®—æ³•</p><span id="more"></span><h1 id="å›¾è®ºï¼ˆ4â€“å®Œç»“ï¼‰"><a href="#å›¾è®ºï¼ˆ4â€“å®Œç»“ï¼‰" class="headerlink" title="å›¾è®ºï¼ˆ4â€“å®Œç»“ï¼‰"></a>å›¾è®ºï¼ˆ4â€“å®Œç»“ï¼‰</h1><h2 id="äºŒåˆ†å›¾"><a href="#äºŒåˆ†å›¾" class="headerlink" title="äºŒåˆ†å›¾"></a>äºŒåˆ†å›¾</h2><blockquote><p>å•¥æ˜¯äºŒåˆ†å›¾å‘€ï¼Ÿ</p></blockquote><p><strong>äºŒåˆ†å›¾åˆç§°ä½œäºŒéƒ¨å›¾ï¼Œæ˜¯å›¾è®ºä¸­çš„ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚è®¾G=(V,E)æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå¦‚æœé¡¶ç‚¹Vå¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†(A,B)ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹ï¼ˆiï¼Œjï¼‰æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹iå’Œjåˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†(i in A,j in B)ï¼Œåˆ™ç§°å›¾Gä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚</strong></p><blockquote><p>è¯´äººè¯</p></blockquote><p><strong>å°±æ˜¯å¯ä»¥æŠŠå›¾è®ºä¸­çš„ç‚¹è¿›è¡Œåˆ†æˆä¿©ä¸ªéƒ¨åˆ†ï¼Œå¹¶ä¸”æ¯ä¸ªéƒ¨åˆ†å†…éƒ¨æ²¡æœ‰å˜ï¼Œä¿©ä¸ªéƒ¨åˆ†ä¹‹é—´æœ‰è¾¹</strong></p><blockquote><p>æœ‰å•¥æ€§è´¨ï¼Ÿ</p></blockquote><p><strong>äºŒåˆ†å›¾å°±æ˜¯ä¸å…·æœ‰å¥‡æ•°ç¯çš„å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„äºŒåˆ†å›¾éƒ½èƒ½è¢«äºŒæŸ“è‰²ã€‚</strong></p><p>æ‰€ä»¥æˆ‘ä»¬æ€ä¹ˆåˆ¤æ–­äºŒåˆ†å›¾å‘¢ï¼Ÿ</p><p>å°±æ˜¯çœ‹æ˜¯å¦è¿™ä¸ªå›¾å…·æœ‰å¥‡æ•°ç¯ï¼Œè·Ÿè¿™ä¸ªç›¸å¯¹åº”çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Œå°±æ˜¯èƒ½å¦äºŒæŸ“è‰²</p><h3 id="æŸ“è‰²æ³•ï¼š"><a href="#æŸ“è‰²æ³•ï¼š" class="headerlink" title="æŸ“è‰²æ³•ï¼š"></a>æŸ“è‰²æ³•ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æ— å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ã€‚</p><p>è¯·ä½ åˆ¤æ–­è¿™ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° u å’Œ vï¼Œè¡¨ç¤ºç‚¹ u å’Œç‚¹ v ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœç»™å®šå›¾æ˜¯äºŒåˆ†å›¾ï¼Œåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> ne[<span class="hljs-number">2</span> * N], e[<span class="hljs-number">2</span> * N], h[N], idx;<br><span class="hljs-keyword">int</span> color[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b;<br>    ne[idx] = h[a];<br>    h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    color[u] = c;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <br>        <span class="hljs-keyword">if</span> (!color[j])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">dfs</span>(j, <span class="hljs-number">3</span> - c)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (color[j] == c) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        <span class="hljs-built_in">add</span>(a, b), <span class="hljs-built_in">add</span>(b, a);<br>    &#125;<br>    <br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">if</span>(!color[i]) <br>        <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">dfs</span>(i, <span class="hljs-number">1</span>)) <br>            &#123;<br>                flag = <span class="hljs-literal">false</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>    <br>    <span class="hljs-keyword">if</span>(flag) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="æœ€å¤§åŒ¹é…ä¹‹åŒˆç‰™åˆ©ç®—æ³•"><a href="#æœ€å¤§åŒ¹é…ä¹‹åŒˆç‰™åˆ©ç®—æ³•" class="headerlink" title="æœ€å¤§åŒ¹é…ä¹‹åŒˆç‰™åˆ©ç®—æ³•"></a>æœ€å¤§åŒ¹é…ä¹‹åŒˆç‰™åˆ©ç®—æ³•</h3><blockquote><p>äºŒåˆ†å›¾çš„åŒ¹é…ï¼šç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ Gï¼Œåœ¨ G çš„ä¸€ä¸ªå­å›¾ M ä¸­ï¼ŒM çš„<strong>è¾¹é›†</strong> {E} ä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½ä¸ä¾é™„äºåŒä¸€ä¸ªé¡¶ç‚¹ï¼Œåˆ™ç§° M æ˜¯ä¸€ä¸ªåŒ¹é…ã€‚</p><p>äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ï¼šæ‰€æœ‰åŒ¹é…ä¸­åŒ…å«è¾¹æ•°<strong>æœ€å¤š</strong>çš„ä¸€ç»„åŒ¹é…è¢«ç§°ä¸ºäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ï¼Œå…¶è¾¹æ•°å³ä¸ºæœ€å¤§åŒ¹é…æ•°ã€‚</p></blockquote><h4 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ï¼Œå…¶ä¸­å·¦åŠéƒ¨åŒ…å« n1 ä¸ªç‚¹ï¼ˆç¼–å· 1âˆ¼n1ï¼‰ï¼Œå³åŠéƒ¨åŒ…å« n2 ä¸ªç‚¹ï¼ˆç¼–å· 1âˆ¼n2ï¼‰ï¼ŒäºŒåˆ†å›¾å…±åŒ…å« m æ¡è¾¹ã€‚</p><p>æ•°æ®ä¿è¯ä»»æ„ä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹éƒ½ä¸å¯èƒ½åœ¨åŒä¸€éƒ¨åˆ†ä¸­ã€‚</p><p>è¯·ä½ æ±‚å‡ºäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° n1ã€ n2 å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° u å’Œ vï¼Œè¡¨ç¤ºå·¦åŠéƒ¨ç‚¹é›†ä¸­çš„ç‚¹ u å’Œå³åŠéƒ¨ç‚¹é›†ä¸­çš„ç‚¹ v ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n1,n2â‰¤500<br>1â‰¤uâ‰¤n1<br>1â‰¤vâ‰¤n2<br>1â‰¤mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n1, n2, m;<br><span class="hljs-keyword">int</span> h[N], ne[M], e[M], idx;<br><span class="hljs-keyword">int</span> match[N];<br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> res;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b;<br>    ne[idx] = h[a];<br>    h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[x]; ~i; i = ne[i] )<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (!st[j])<br>        &#123;<br>            st[j] = <span class="hljs-literal">true</span>;<br>            <br>            <span class="hljs-keyword">if</span> (!match[j] || <span class="hljs-built_in">find</span>(match[j]))<br>            &#123;<br>                match[j] = x;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n1 &gt;&gt; n2 &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        <span class="hljs-built_in">add</span>(a, b);<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n1; i ++ )<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>        <br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">find</span>(i)) res ++ ;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr>è‡³æ­¤å›¾è®ºç®—æ³•å°±å‘Šä¸€æ®µè½äº†ï¼Œè™½ç„¶ç®—æ³•çœŸçš„å¾ˆå¤šï¼Œè¿˜æ˜¯è¦å¤šåŠ ç»ƒä¹ æ‰å¯¹å•Š~<hr><p>ä¸‹å‘¨ä¼šå¼€å§‹è®²æ•°å­¦éƒ¨åˆ†ï¼Œä¼šæ¯”è¾ƒå¿«é€Ÿçš„rushæ‰æ•°å­¦æ–¹é¢çš„çŸ¥è¯†ï¼ˆå› ä¸ºå¿«æ¯”èµ›äº†ï¼‰</p><ul><li>è´¨æ•°<ul><li>æœ´ç´ ç­›æ³•ï¼ŒåŸƒæ°ç­›æ³•ï¼Œçº¿æ€§ç­›æ³•ï¼ˆæ¬§æ‹‰ç­›ï¼‰</li><li>åˆ†è§£è´¨å› æ•°ï¼ˆè¯•é™¤æ³•ï¼‰</li><li>åˆ¤æ–­è´¨æ•°ï¼ˆè¯•é™¤æ³•ï¼‰</li></ul></li><li>çº¦æ•°<ul><li>æ±‚çº¦æ•°ï¼ˆè¯•é™¤æ³•ï¼‰</li><li>çº¦æ•°ä¸ªæ•°å®šç†</li><li>çº¦æ•°å’Œå®šç†</li><li>æ¬§å‡ é‡Œå¾—ç®—æ³•</li></ul></li><li>æ¬§æ‹‰å‡½æ•°<ul><li>çº¿æ€§ç­›æ±‚æ¬§æ‹‰å‡½æ•°</li></ul></li><li>å¿«é€Ÿå¹‚<ul><li>é€†å…ƒï¼ˆæ¬§æ‹‰å®šç†å’Œè´¹é©¬å°å®šç†ï¼‰</li></ul></li><li>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•<ul><li>è£´èœ€å®šç†</li></ul></li><li>ä¸­å›½å‰©ä½™å®šç†</li><li>é«˜æ–¯æ¶ˆå…ƒ</li><li>æ±‚ç»„åˆæ•°<ul><li>å¢å¡æ–¯å®šç†</li></ul></li><li>å®¹æ–¥åŸç†</li><li>åšå¼ˆè®º<ul><li>nimå°¼å§†æ¸¸æˆ</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>å›¾è®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>floyd,æœ€å°ç”Ÿæˆæ ‘</title>
    <link href="/posts/3434242789.html"/>
    <url>/posts/3434242789.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°å¤šæºæ±‡æœ€çŸ­è·¯å’Œæœ€å°ç”Ÿæˆæ ‘ç®—æ³•kruskalï¼Œprimç®—æ³•</p><span id="more"></span><h1 id="å›¾è®ºï¼ˆ3ï¼‰"><a href="#å›¾è®ºï¼ˆ3ï¼‰" class="headerlink" title="å›¾è®ºï¼ˆ3ï¼‰"></a>å›¾è®ºï¼ˆ3ï¼‰</h1><h2 id="floydç®—æ³•"><a href="#floydç®—æ³•" class="headerlink" title="floydç®—æ³•"></a>floydç®—æ³•</h2><blockquote><p>floydç®—æ³•ï¼Ÿå•¥å«å¤šæºæ±‡æœ€çŸ­è·¯</p></blockquote><p><strong>ä¹‹å‰çš„ç®—æ³•åªèƒ½è§£å†³å•ç‚¹åˆ°å…¶ä»–çš„æœ€çŸ­è·ç¦»ï¼Œè¿™ä¸ªç®—æ³•è§£å†³çš„æ˜¯ä»»æ„ä¿©ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å°±å¾ˆå‰å®³</strong></p><p>å…¶å®floydçš„ä½œç”¨ä¸åªæœ‰æ±‚æœ€çŸ­è·¯ï¼Œå®ƒè¿˜å¯ä»¥ï¼š</p><ul><li>æ±‚æœ€å°ç¯</li><li>æ±‚ä¼ é€’é—­åŒ…</li></ul><p>è¿™ç¯‡åªè®²æ±‚æœ€çŸ­è·¯ï¼Œå…¶ä»–ä½œç”¨å¯’å‡é›†è®­çš„æ—¶å€™ä¼šç»™å¤§å®¶è®²è¿°</p><hr><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œè¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°ã€‚</p><p>å†ç»™å®š k ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè¡¨ç¤ºæŸ¥è¯¢ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º <code>impossible</code>ã€‚</p><p>æ•°æ®ä¿è¯å›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒå›è·¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° n,m,kã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° x,y,zï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ xx åˆ°ç‚¹ yy çš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸º zzã€‚</p><p>æ¥ä¸‹æ¥ kk è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° x,yï¼Œè¡¨ç¤ºè¯¢é—®ç‚¹ x åˆ°ç‚¹ y çš„æœ€çŸ­è·ç¦»ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± kk è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯¢é—®çš„ç»“æœï¼Œè‹¥è¯¢é—®ä¸¤ç‚¹é—´ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤200,<br>1â‰¤kâ‰¤n^2<br>1â‰¤mâ‰¤20000<br>å›¾ä¸­æ¶‰åŠè¾¹é•¿ç»å¯¹å€¼å‡ä¸è¶…è¿‡ 10000ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">impossible</span><br><span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">210</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> dist[N][N];<br><br><span class="hljs-keyword">int</span> n, m, k;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">floyd</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; k ++ )<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>                dist[i][j] = <span class="hljs-built_in">min</span>(dist[i][j], dist[i][k] + dist[k][j]);<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <br>      <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>        &#123;<br>            dist[i][j] = i == j ? <span class="hljs-number">0</span> : INF; <br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        dist[a][b] = <span class="hljs-built_in">min</span>(dist[a][b], c);<br>    &#125;<br>  <br>    <br>    <span class="hljs-built_in">floyd</span>();<br>    <br>    <span class="hljs-keyword">while</span> (k -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        <span class="hljs-keyword">if</span> (dist[a][b] &gt; INF / <span class="hljs-number">2</span>) cout &lt;&lt; <span class="hljs-string">&quot;impossible&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> cout &lt;&lt; dist[a][b] &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n,m,q,N=<span class="hljs-number">210</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> [][]d =<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N][N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">floyd</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;=n ; k++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>                    d[i][j]=Math.min(d[i][j],d[i][k]+d[k][j]);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        q = Integer.parseInt(str1[<span class="hljs-number">2</span>]);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>                d[i][j]=i==j?<span class="hljs-number">0</span>:INF;<br>            &#125;<br>        &#125;<br>            <span class="hljs-keyword">while</span> (m--&gt;<span class="hljs-number">0</span>)&#123;<br>                String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>                <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>                <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>                <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>                d[a][b]=Math.min(d[a][b],c);<br>            &#125;<br>            floyd();<br>            <span class="hljs-keyword">while</span> (q--&gt;<span class="hljs-number">0</span>)&#123;<br>                String[] str3 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>                <span class="hljs-keyword">int</span> a = Integer.parseInt(str3[<span class="hljs-number">0</span>]);<br>                <span class="hljs-keyword">int</span> b = Integer.parseInt(str3[<span class="hljs-number">1</span>]);<br>                <span class="hljs-keyword">int</span> t=d[a][b];<br>                <span class="hljs-keyword">if</span> (t&gt;INF/<span class="hljs-number">2</span>)&#123;<br>                    System.out.println(<span class="hljs-string">&quot;impossible&quot;</span>);<br>                &#125;<span class="hljs-keyword">else</span> &#123;<br>                    System.out.println(t);<br>                &#125;<br>            &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><hr><h2 id="æœ€å°ç”Ÿæˆæ ‘"><a href="#æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘"></a>æœ€å°ç”Ÿæˆæ ‘</h2><blockquote><p>æœ€å°ç”Ÿæˆæ ‘ï¼Ÿå•¥æ˜¯ç”Ÿæˆæ ‘</p></blockquote><figure class="highlight excel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs excel">å¯¹äºæ— å‘å›¾Gå’Œä¸€æ£µæ ‘<span class="hljs-built_in">T</span>æ¥è¯´ï¼Œå¦‚æœ<span class="hljs-built_in">T</span>æ˜¯Gçš„å­å›¾ï¼Œåˆ™ç§°<span class="hljs-built_in">T</span>ä¸ºGçš„æ ‘ï¼Œå¦‚æœ<span class="hljs-built_in">T</span>æ˜¯Gçš„ç”Ÿæˆå­å›¾ï¼Œåˆ™ç§°<span class="hljs-built_in">T</span>æ˜¯Gçš„ç”Ÿæˆæ ‘ã€‚<br></code></pre></div></td></tr></table></figure><p><strong>é‚£ä¹ˆæœ€å°ç”Ÿæˆæ ‘ä¾¿æ˜¯ç”Ÿæˆæ ‘ä¸­ï¼Œæƒå€¼æœ€å°çš„é‚£ä¸ªå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘</strong></p><p>ä¸€èˆ¬å¯¹äºæœ€å°ç”Ÿæˆæ ‘ï¼Œæˆ‘ä»¬å­˜åœ¨ä¿©ä¸ªç®—æ³•</p><ul><li>kruskal</li><li>prim</li></ul><p>è¿™ä¿©ä¸ªç”¨çš„éƒ½æŒºå¹¿æ³›çš„</p><hr><h3 id="primç®—æ³•"><a href="#primç®—æ³•" class="headerlink" title="primç®—æ³•"></a>primç®—æ³•</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æ— å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œè¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°ã€‚</p><p>æ±‚æœ€å°ç”Ÿæˆæ ‘çš„æ ‘è¾¹æƒé‡ä¹‹å’Œï¼Œå¦‚æœæœ€å°ç”Ÿæˆæ ‘ä¸å­˜åœ¨åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><p>ç»™å®šä¸€å¼ è¾¹å¸¦æƒçš„æ— å‘å›¾ G=(V,E)ï¼Œå…¶ä¸­ V è¡¨ç¤ºå›¾ä¸­ç‚¹çš„é›†åˆï¼ŒE è¡¨ç¤ºå›¾ä¸­è¾¹çš„é›†åˆï¼Œn=|V|ï¼Œm=|E|ã€‚</p><p>ç”± V ä¸­çš„å…¨éƒ¨ n ä¸ªé¡¶ç‚¹å’Œ E ä¸­ nâˆ’1 æ¡è¾¹æ„æˆçš„æ— å‘è¿é€šå­å›¾è¢«ç§°ä¸º G çš„ä¸€æ£µç”Ÿæˆæ ‘ï¼Œå…¶ä¸­è¾¹çš„æƒå€¼ä¹‹å’Œæœ€å°çš„ç”Ÿæˆæ ‘è¢«ç§°ä¸ºæ— å‘å›¾ G çš„æœ€å°ç”Ÿæˆæ ‘ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° u,v,wï¼Œè¡¨ç¤ºç‚¹ u å’Œç‚¹ v ä¹‹é—´å­˜åœ¨ä¸€æ¡æƒå€¼ä¸º w çš„è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè‹¥å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘ï¼Œåˆ™è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°ç”Ÿæˆæ ‘çš„æ ‘è¾¹æƒé‡ä¹‹å’Œï¼Œå¦‚æœæœ€å°ç”Ÿæˆæ ‘ä¸å­˜åœ¨åˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤500<br>1â‰¤mâ‰¤10^5<br>å›¾ä¸­æ¶‰åŠè¾¹çš„è¾¹æƒçš„ç»å¯¹å€¼å‡ä¸è¶…è¿‡ 10000ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">prim</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++  )<br>        &#123;<br>            <br>        <span class="hljs-keyword">if</span> (!st[j] &amp;&amp; (t == <span class="hljs-number">-1</span> || dist[t] &gt; dist[j]))<br>            t = j;<br>            <br>        &#125;<br>    <br>    <br>    <span class="hljs-keyword">if</span> (i &amp;&amp; dist[t] == INF) <span class="hljs-keyword">return</span> INF;<br>    <span class="hljs-keyword">if</span>(i) res += dist[t];<br>    st[t] = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>    &#123;<br>        dist[j] = <span class="hljs-built_in">min</span>(dist[j], g[t][j]);    <br>    &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(g, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> g);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) g[i][i] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        g[a][b] = g[b][a] = <span class="hljs-built_in">min</span>(g[a][b], c);<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">prim</span>();<br>    <span class="hljs-keyword">if</span>(t == INF) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">510</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> g[][]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N][N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>[] st=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> [] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n,m;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>                <span class="hljs-keyword">if</span> (i==j)&#123;g[i][j]=<span class="hljs-number">0</span>;&#125;<br>                <span class="hljs-keyword">else</span> &#123; g[i][j] = INF; &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (m--&gt;<span class="hljs-number">0</span>)&#123;<br>            String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>            g[a][b]=Math.min(g[a][b],c);<br>            g[b][a]=Math.min(g[b][a],c);<br>        &#125;<br>        <span class="hljs-keyword">int</span> t=prim();<br>        <span class="hljs-keyword">if</span> (t==INF)&#123;<br>            System.out.println(<span class="hljs-string">&quot;impossible&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            System.out.println(t);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">prim</span><span class="hljs-params">()</span> </span>&#123;<br>        Arrays.fill(dist,INF);<br>        <span class="hljs-keyword">int</span> res =<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;n ; i++) &#123;<br>            <span class="hljs-keyword">int</span> t=-<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>                <span class="hljs-keyword">if</span> (!st[j]&amp;&amp;(t==-<span class="hljs-number">1</span>||dist[t]&gt;dist[j]))&#123;<br>                    t=j;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i!=<span class="hljs-number">0</span>&amp;&amp;dist[t]==INF)&#123;<span class="hljs-keyword">return</span> INF;&#125;<br>            st[t]=<span class="hljs-keyword">true</span>;<br>            <span class="hljs-keyword">if</span> (i!=<span class="hljs-number">0</span>)&#123;res+=dist[t];&#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>             dist[j]=Math.min(dist[j],g[t][j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><HR><h3 id="å…‹é²æ–¯å¡å°”ç®—æ³•å®ç°ï¼š"><a href="#å…‹é²æ–¯å¡å°”ç®—æ³•å®ç°ï¼š" class="headerlink" title="å…‹é²æ–¯å¡å°”ç®—æ³•å®ç°ï¼š"></a>å…‹é²æ–¯å¡å°”ç®—æ³•å®ç°ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> res, p[N];<br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> a, b, w;<br>    <br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-keyword">const</span> Edge &amp;W) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &lt; W.w;<br>    &#125;<br>&#125;edge[M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (x != p[x]) p[x] = <span class="hljs-built_in">find</span>(p[x]);<br>    <span class="hljs-keyword">return</span> p[x];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">sort</span>(edge, edge + m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i ++ ) p[i] = i;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        Edge e = edge[i];<br>        <span class="hljs-keyword">int</span> a = e.a;<br>        <span class="hljs-keyword">int</span> b = e.b;<br>        <span class="hljs-keyword">int</span> w = e.w;<br>        <br>        <span class="hljs-keyword">int</span> pa = <span class="hljs-built_in">find</span>(a);<br>        <span class="hljs-keyword">int</span> pb = <span class="hljs-built_in">find</span>(b);<br>        <br>        <span class="hljs-keyword">if</span> (pa != pb)<br>        &#123;<br>            p[pa] = pb;<br>            cnt ++ ;<br>            res += w;<br>        &#125;<br>        <br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(cnt &lt; n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> INF;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>   <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        edge[i] = &#123;a, b, c&#125;;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">kruskal</span>();<br><br>    <span class="hljs-keyword">if</span> (t == INF) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">#include &lt;iostream&gt;<br>#include &lt;cstring&gt;<br>#include &lt;algorithm&gt;<br><br>using namespace std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> res, p[N];<br><span class="hljs-keyword">int</span> n, m;<br><br>struct Edge<br>&#123;<br>    <span class="hljs-keyword">int</span> a, b, w;<br>    <br>    bool operator&lt; (<span class="hljs-keyword">const</span> Edge &amp;W) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &lt; W.w;<br>    &#125;<br>&#125;edge[M];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (x != p[x]) p[x] = find(p[x]);<br>    <span class="hljs-keyword">return</span> p[x];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    sort(edge, edge + m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i ++ ) p[i] = i;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        Edge e = edge[i];<br>        <span class="hljs-keyword">int</span> a = e.a;<br>        <span class="hljs-keyword">int</span> b = e.b;<br>        <span class="hljs-keyword">int</span> w = e.w;<br>        <br>        <span class="hljs-keyword">int</span> pa = find(a);<br>        <span class="hljs-keyword">int</span> pb = find(b);<br>        <br>        <span class="hljs-keyword">if</span> (pa != pb)<br>        &#123;<br>            p[pa] = pb;<br>            cnt ++ ;<br>            res += w;<br>        &#125;<br>        <br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(cnt &lt; n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> INF;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>   <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        edge[i] = &#123;a, b, c&#125;;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> t = kruskal();<br><br>    <span class="hljs-keyword">if</span> (t == INF) puts(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>åŸºç¡€å›¾è®ºä¸­çš„ç®—æ³•è¿˜å‰©äºŒåˆ†å›¾äº†ï¼ŒäºŒåˆ†å›¾åæˆ‘ä»¬çš„åŸºç¡€å›¾è®ºå°±è®²å®Œäº†~</p><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>å›¾è®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ€çŸ­è·¯ï¼ˆ2ï¼‰</title>
    <link href="/posts/2803822294.html"/>
    <url>/posts/2803822294.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ‹“æ‰‘æ’åºå’Œä»‹ç»æœ€çŸ­è·¯ä¸­çš„bellman-fordï¼Œspfaç®—æ³•</p><span id="more"></span><h1 id="å›¾è®º-2"><a href="#å›¾è®º-2" class="headerlink" title="å›¾è®º(2)"></a>å›¾è®º(2)</h1><p>æ¥ç€æ˜¨å¤©çš„è¿ªæ°æ–¯ç‰¹æ‹‰è§£å†³æ­£æƒè¾¹çš„æœ€çŸ­è·¯ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸‹è§£å†³è´Ÿæƒè¾¹çš„ä¿©ä¸ªç®—æ³•ï¼Œbellman-fordç®—æ³•åŠå…¶å®ƒä¼˜åŒ–åçš„spfaç®—æ³•</p><h2 id="bellman-fordç®—æ³•"><a href="#bellman-fordç®—æ³•" class="headerlink" title="bellman-fordç®—æ³•"></a>bellman-fordç®—æ³•</h2><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œ <strong>è¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°</strong>ã€‚</p><p>è¯·ä½ æ±‚å‡ºä» 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€å¤šç»è¿‡ k æ¡è¾¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœæ— æ³•ä» 1 å·ç‚¹èµ°åˆ° n å·ç‚¹ï¼Œè¾“å‡º <code>impossible</code>ã€‚</p><p>æ³¨æ„ï¼šå›¾ä¸­å¯èƒ½ <strong>å­˜åœ¨è´Ÿæƒå›è·¯</strong> ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° n,m,k</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° x,y,zï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸º zã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä» 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€å¤šç»è¿‡ k æ¡è¾¹çš„æœ€çŸ­è·ç¦»ã€‚</p><p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è·¯å¾„ï¼Œåˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,kâ‰¤500<br>1â‰¤mâ‰¤10000<br>ä»»æ„è¾¹é•¿çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 10000ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>, M = <span class="hljs-number">10010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> a, b, c;<br>&#125;edges[M];<br><br><span class="hljs-keyword">int</span> n, m, k;<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">int</span> last[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bellman_ford</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br><br>    dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i ++ )<br>    &#123;<br>        <span class="hljs-built_in">memcpy</span>(last, dist, <span class="hljs-keyword">sizeof</span> dist);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">auto</span> e = edges[j];<br>            dist[e.b] = <span class="hljs-built_in">min</span>(dist[e.b], last[e.a] + e.c);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c);<br>        edges[i] = &#123;a, b, c&#125;;<br>    &#125;<br><br>    <span class="hljs-built_in">bellman_ford</span>();<br><br>    <span class="hljs-keyword">if</span> (dist[n] &gt; <span class="hljs-number">0x3f3f3f3f</span> / <span class="hljs-number">2</span>) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dist[n]);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">510</span>;<span class="hljs-comment">//æ•°æ®ç»™çš„æœ€å¤§çš„ç‚¹çš„å€¼</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> M=<span class="hljs-number">100010</span>;<span class="hljs-comment">//æ•°æ®ç»™çš„æœ€å¤§å€¼æ˜¯Mæ¡è¾¹</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<span class="hljs-comment">//ç‚¹</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<span class="hljs-comment">//è¾¹</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> k;<span class="hljs-comment">//æœ€å¤šç»è¿‡kæ¡è¾¹</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//ä»1åˆ°nå·ç‚¹çš„è·ç¦»</span><br>    <span class="hljs-keyword">static</span> Node[] list=<span class="hljs-keyword">new</span> Node[M];<span class="hljs-comment">//ç‚¹å’Œç‚¹å’Œæƒå€¼å¯¹è±¡</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] back =<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//å¤‡ä»½distæ•°ç»„</span><br><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        k = Integer.parseInt(str1[<span class="hljs-number">2</span>]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i &lt; m;i++)<br>        &#123;<br>            String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>            list[i] = <span class="hljs-keyword">new</span> Node(a,b,c);<br>        &#125;<br>        bellman_ford();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">bellman_ford</span><span class="hljs-params">()</span> </span>&#123;<br>        Arrays.fill(dist, INF);<br>        dist[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;k ; i++) &#123;<br>            back=Arrays.copyOf(dist,n+<span class="hljs-number">1</span>);<span class="hljs-comment">//å…‹éš†ä¸Šä¸€è½®çš„è·ç¦»å€¼æ•°ç»„ï¼Œé˜²æ­¢åœ¨è¿™ä¸€ç¯å‘ç”Ÿè¿ç»­ä¿®æ”¹æƒ¨è±¡</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;m ; j++) &#123;<br>                Node node=list[j];<br>                <span class="hljs-keyword">int</span> a=node.a;<br>                <span class="hljs-keyword">int</span> b=node.b;<br>                <span class="hljs-keyword">int</span> c=node.c;<br>                dist[b]=Math.min(dist[b],back[a]+c);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (dist[n]&gt;INF/<span class="hljs-number">2</span>)&#123;<br>            System.out.println(<span class="hljs-string">&quot;impossible&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            System.out.println(dist[n]);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span></span>&#123;<br>    <span class="hljs-keyword">int</span> a,b,c;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.a = a;<br>        <span class="hljs-keyword">this</span>.b = b;<br>        <span class="hljs-keyword">this</span>.c = c;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="spfaç®—æ³•æ±‚æœ€çŸ­è·¯åŠå…¶åˆ¤æ–­è´Ÿç¯"><a href="#spfaç®—æ³•æ±‚æœ€çŸ­è·¯åŠå…¶åˆ¤æ–­è´Ÿç¯" class="headerlink" title="spfaç®—æ³•æ±‚æœ€çŸ­è·¯åŠå…¶åˆ¤æ–­è´Ÿç¯"></a>spfaç®—æ³•æ±‚æœ€çŸ­è·¯åŠå…¶åˆ¤æ–­è´Ÿç¯</h2><h3 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œ <strong>è¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°</strong>ã€‚</p><p>è¯·ä½ æ±‚å‡º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœæ— æ³•ä» 1 å·ç‚¹èµ°åˆ° n å·ç‚¹ï¼Œåˆ™è¾“å‡º <code>impossible</code>ã€‚</p><p>æ•°æ®ä¿è¯ä¸å­˜åœ¨è´Ÿæƒå›è·¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° x,y,zï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸º zã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</p><p>å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º <code>impossible</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5<br>å›¾ä¸­æ¶‰åŠè¾¹é•¿ç»å¯¹å€¼å‡ä¸è¶…è¿‡ 10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> -<span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> h[N], w[N], e[N], ne[N], idx;<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br><br>    queue&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.<span class="hljs-built_in">push</span>(<span class="hljs-number">1</span>);<br>    st[<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br><br>        st[t] = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; i != <span class="hljs-number">-1</span>; i = ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = e[i];<br>            <span class="hljs-keyword">if</span> (dist[j] &gt; dist[t] + w[i])<br>            &#123;<br>                dist[j] = dist[t] + w[i];<br>                <span class="hljs-keyword">if</span> (!st[j])<br>                &#123;<br>                    q.<span class="hljs-built_in">push</span>(j);<br>                    st[j] = <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> dist[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br><br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c);<br>        <span class="hljs-built_in">add</span>(a, b, c);<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">spfa</span>();<br><br>    <span class="hljs-keyword">if</span> (t == <span class="hljs-number">0x3f3f3f3f</span>) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, t);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.LinkedList;<br><span class="hljs-keyword">import</span> java.util.Queue;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N= (<span class="hljs-keyword">int</span>) (<span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>);<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] h=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] ne=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] e=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] w=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> idx =<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>[] st=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b,<span class="hljs-keyword">int</span> c)</span></span>&#123;<br>        e[idx]=b;<br>        w[idx]=c;<br>        ne[idx]=h[a];<br>        h[a]=idx++;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span>&#123;<br>        Arrays.fill(dist,INF);<br>        Queue&lt;Integer&gt; queue=<span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<br>        dist[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>        queue.add(<span class="hljs-number">1</span>);<br>        st[<span class="hljs-number">1</span>]= <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">while</span> (!queue.isEmpty())&#123;<br>            <span class="hljs-keyword">int</span> t=queue.poll();<br>            st[t]=<span class="hljs-keyword">false</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; i !=-<span class="hljs-number">1</span> ; i=ne[i]) &#123;<br>                <span class="hljs-keyword">int</span> j=e[i];<br>                <span class="hljs-keyword">if</span> (dist[j]&gt;dist[t]+w[i]) &#123;<br>                    dist[j] = dist[t] + w[i];<br>                    <span class="hljs-keyword">if</span> (!st[j]) &#123;<br>                        queue.add(j);<br>                        st[j] = <span class="hljs-keyword">true</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dist[n];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        Arrays.fill(h, -<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">while</span>(m -- &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>            add(a,b,c);<br>        &#125;<br>        <span class="hljs-keyword">int</span> t = spfa();<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0x3f3f3f3f</span>) System.out.println(<span class="hljs-string">&quot;impossible&quot;</span>);<br>        <span class="hljs-keyword">else</span> System.out.println(t);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>æ±‚è´Ÿç¯</strong></p><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œ <strong>è¾¹æƒå¯èƒ½ä¸ºè´Ÿæ•°</strong>ã€‚</p><p>è¯·ä½ åˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° x,y,zï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸º zã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœå›¾ä¸­<strong>å­˜åœ¨</strong>è´Ÿæƒå›è·¯ï¼Œåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤2000<br>1â‰¤mâ‰¤10000,<br>å›¾ä¸­æ¶‰åŠè¾¹é•¿ç»å¯¹å€¼å‡ä¸è¶…è¿‡ 10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> -<span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> -<span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">2e3</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1e4</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> h[N], e[M], ne[M], w[M];<br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">int</span> cnt[N];<br><br><span class="hljs-keyword">int</span> idx;<br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b;<br>    w[idx] = c;<br>    ne[idx] = h[a];<br>    h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    queue&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        q.<span class="hljs-built_in">push</span>(i);<br>        st[i] = <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = h[a]; ~i; i = ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = e[i];<br>            <br>            <span class="hljs-keyword">if</span> (dist[j] &gt; dist[a] + w[i])<br>            &#123;<br>                dist[j] = dist[a] + w[i];<br>                cnt[j] = cnt[a] + <span class="hljs-number">1</span>;<br>                <br>                <span class="hljs-keyword">if</span>(cnt[j] &gt;= n) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                <br>                q.<span class="hljs-built_in">push</span>(j);<br>            &#125;<br>        &#125;<br>        <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c; <br>        <span class="hljs-built_in">add</span>(a, b, c);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">spfa</span>()) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.net.HttpURLConnection;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.LinkedList;<br><span class="hljs-keyword">import</span> java.util.Queue;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N= (<span class="hljs-keyword">int</span>) (<span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>);<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¸¦æƒé‡çš„æ•°ç»„åŠ é“¾è¡¨æ¨¡æ‹Ÿ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] h=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] ne=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] e=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] w=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> idx =<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//è·ç¦»</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] cnt=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>[] st=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦è¿›å…¥é˜Ÿåˆ—äº†</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b,<span class="hljs-keyword">int</span> c)</span></span>&#123;<br>        e[idx]=b;<br>        w[idx]=c;<br>        ne[idx]=h[a];<br>        h[a]=idx++;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span>&#123;<br>        Arrays.fill(dist,INF);<br>        Queue&lt;Integer&gt; queue=<span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<span class="hljs-comment">//æ¨¡æ‹Ÿé˜Ÿåˆ—</span><br>        dist[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123; queue.add(i);&#125;<span class="hljs-comment">//æŠŠæ‰€æœ‰ç‚¹æ”¾è¿›é˜Ÿåˆ—ï¼Œé˜²æ­¢æœ‰è´Ÿæƒç¯å’Œç¬¬ä¸€ä¸ªç‚¹æ²¡æœ‰è”é€š</span><br>        st[<span class="hljs-number">1</span>]= <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">while</span> (!queue.isEmpty())&#123;<br>            <span class="hljs-keyword">int</span> t=queue.poll();<span class="hljs-comment">//å–å‡ºé˜Ÿå°¾</span><br>            st[t]=<span class="hljs-keyword">false</span>;<span class="hljs-comment">//å› ä¸ºå–äº†å‡ºæ¥ï¼Œç½®æˆfalse</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; i !=-<span class="hljs-number">1</span> ; i=ne[i]) &#123;<br>                <span class="hljs-keyword">int</span> j=e[i];<br>                <span class="hljs-keyword">if</span> (dist[j]&gt;dist[t]+w[i]) &#123;<span class="hljs-comment">//è‹¥æ›´æ–°äº†æ­¤ç‚¹ï¼Œåé¢çš„ç‚¹ä¹Ÿè¦è·Ÿç€æ›´æ–°ï¼Œæ‰€ä»¥æ”¾å…¥é˜Ÿåˆ—</span><br>                    dist[j] = dist[t] + w[i];<br>                    cnt[j]=cnt[t]+<span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span> (cnt[j]&gt;=n)&#123;<span class="hljs-comment">//æ€»å…±nä¸ªèŠ‚ç‚¹ï¼Œæœ€å¤šn-1ä¸ªè¾¹ï¼Œä½†æ˜¯å‡ºç°äº†nä¸ªè¾¹çš„æ—¶å€™ï¼Œä»–ä¸€å®šæ˜¯å½¢æˆäº†ç¯ï¼Œé‚£æ˜¯ä¸ºå•¥ä¼šå½¢æˆç¯å‘¢ï¼Œå› ä¸ºå‡ºç°äº†è¿™ä¸ªå›è·¯èµ°å®Œæ˜¯è´Ÿçš„</span><br>                        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Yes&quot;</span>;<br>                    &#125;<br>                    <span class="hljs-keyword">if</span> (!st[j]) &#123;<br>                        queue.add(j);<span class="hljs-comment">//è‹¥ä¸åœ¨é˜Ÿåˆ—ï¼Œæ”¾è¿›å»</span><br>                        st[j] = <span class="hljs-keyword">true</span>;<span class="hljs-comment">//ç½®æˆtrue</span><br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;No&quot;</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        Arrays.fill(h, -<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">while</span>(m -- &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>            add(a,b,c);<br>        &#125;<br>        System.out.println(spfa());<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>è‡³æ­¤å•æºæœ€çŸ­è·¯çš„å‡ ä¸ªç®—æ³•å°±è®²å®Œäº†ï¼Œæ˜å¤©è®²å¤šæºæœ€çŸ­è·¯çš„floydç®—æ³•å’Œæœ€å°ç”Ÿæˆæ ‘ç®—æ³•</p><ul><li>æœ€å°ç”Ÿæˆæ ‘ç®—æ³•<ul><li>kruskalï¼ˆå…‹é²æ–¯å¡å°”ç®—æ³•ï¼‰</li><li>primï¼ˆæ™®åˆ©å§†ç®—æ³•ï¼‰</li></ul></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>å›¾è®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‹“æ‰‘æ’åºï¼Œæœ€çŸ­è·¯ï¼ˆ1ï¼‰</title>
    <link href="/posts/229895269.html"/>
    <url>/posts/229895269.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ‹“æ‰‘æ’åºå’Œä»‹ç»æœ€çŸ­è·¯ä¸­çš„dijkstraï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ï¼‰ç®—æ³•</p><span id="more"></span><h1 id="å›¾è®ºï¼ˆ1ï¼‰"><a href="#å›¾è®ºï¼ˆ1ï¼‰" class="headerlink" title="å›¾è®ºï¼ˆ1ï¼‰"></a>å›¾è®ºï¼ˆ1ï¼‰</h1><h2 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h2><blockquote><p>ä»€ä¹ˆå«æ‹“æ‰‘æ’åºï¼Ÿå¹²ä»€ä¹ˆç”¨çš„ï¼Ÿ</p></blockquote><p><strong>æ‹“æ‰‘åºåˆ—åªé’ˆå¯¹äºæœ‰å‘å›¾ï¼Œå¹¶ä¸”åªæœ‰æ— ç¯çš„å›¾æ‰æœ‰æ‹“æ‰‘åºåˆ—ï¼Œæ‹“æ‰‘æ’åºå°±æ˜¯å›¾çš„å¹¿æœçš„ä¸€ä¸ªç»å…¸åº”ç”¨</strong></p><p><strong>æ‹“æ‰‘åºåˆ—æ˜¯æ»¡è¶³åºåˆ—åçš„æ•°ä¸€å®šæ²¡æœ‰æŒ‡å‘åºåˆ—å‰é¢çš„è¾¹æˆ‘ä»¬å«åšæ‹“æ‰‘åºï¼Œæ‹“æ‰‘åºä¼šåœ¨ä¹‹åçš„å­¦ä¹ ä¸­ç»å¸¸æåˆ°ï¼Œå› ä¸ºæ‹“æ‰‘åºçœŸçš„å¾ˆé‡è¦</strong></p><p>çœ‹çœ‹ä¾‹é¢˜ï¼Œçœ‹çœ‹ä»£ç å°±çŸ¥é“è¿™ä¸ªæ˜¯ä»€ä¹ˆå•¦~</p><hr><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œç‚¹çš„ç¼–å·æ˜¯ 1 åˆ° nï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ã€‚</p><p>è¯·è¾“å‡ºä»»æ„ä¸€ä¸ªè¯¥æœ‰å‘å›¾çš„æ‹“æ‰‘åºåˆ—ï¼Œå¦‚æœæ‹“æ‰‘åºåˆ—ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p><p>è‹¥ä¸€ä¸ªç”±å›¾ä¸­æ‰€æœ‰ç‚¹æ„æˆçš„åºåˆ— A æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯æ¡è¾¹ (x,y)ï¼Œx åœ¨ A ä¸­éƒ½å‡ºç°åœ¨ y ä¹‹å‰ï¼Œåˆ™ç§° A æ˜¯è¯¥å›¾çš„ä¸€ä¸ªæ‹“æ‰‘åºåˆ—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ‰å‘è¾¹ (x,y)ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œå¦‚æœå­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€ä¸ªåˆæ³•çš„æ‹“æ‰‘åºåˆ—å³å¯ã€‚</p><p>å¦åˆ™è¾“å‡º âˆ’1ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> h[N], ne[N], e[N], idx;<br><span class="hljs-keyword">int</span> d[N];<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b;<br>    ne[idx] = h[a];<br>    h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">tSort</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> hh = <span class="hljs-number">0</span>, tt = <span class="hljs-number">-1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>        <span class="hljs-keyword">if</span> (d[i] == <span class="hljs-number">0</span>) q[ ++ tt] = i;<br>        <br>    <span class="hljs-keyword">while</span> (hh &lt;= tt)<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = q[hh ++ ];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[a]; ~i; i = ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = e[i];<br>            <span class="hljs-keyword">if</span> ( -- d[j] == <span class="hljs-number">0</span>)<br>            &#123;<br>                q[ ++ tt] = j;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (tt == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <br>        <span class="hljs-built_in">add</span>(a, b);<br>        d[b] ++ ;<br>    &#125;<br>    <br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-built_in">tSort</span>();<br>    <br>    <span class="hljs-keyword">if</span> (flag)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; q[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">100010</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span> idx=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span>[] h=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span>[] e=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span>[] ne=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span>[] d=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-keyword">int</span>[] q=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] string=reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n=Integer.parseInt(string[<span class="hljs-number">0</span>]);<br>        m=Integer.parseInt(string[<span class="hljs-number">1</span>]);<br>        Arrays.fill(h,-<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">while</span> (m--&gt;<span class="hljs-number">0</span>)&#123;<br>            String[] string1=reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> x=Integer.parseInt(string1[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> y=Integer.parseInt(string1[<span class="hljs-number">1</span>]);<br>            add(x,y);<br>            d[y]++;<span class="hljs-comment">//a-&gt;b æ‰€ä»¥å…¥åº¦åŠ ä¸€</span><br>        &#125;<br>        <span class="hljs-keyword">if</span> (toSort())&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;n ; i++) &#123;<br>                System.out.printf(<span class="hljs-string">&quot;%d &quot;</span>,q[i]);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            System.out.println(-<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">toSort</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> hh=<span class="hljs-number">0</span>,tt=-<span class="hljs-number">1</span>;<span class="hljs-comment">//ä¸€èˆ¬éƒ½ä¼šè¿™ä¹ˆåˆå§‹åŒ–</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (d[i]==<span class="hljs-number">0</span>)&#123;<br>                q[++tt]=i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (hh&lt;=tt)&#123;<br>            <span class="hljs-keyword">int</span> t=q[hh++];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=h[t];i!=-<span class="hljs-number">1</span>;i=ne[i])&#123;<br>                <span class="hljs-keyword">int</span> j=e[i];<br>                d[j]--;<br>                <span class="hljs-keyword">if</span> (d[j]==<span class="hljs-number">0</span>)&#123;<br>                    q[++tt]=j;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> n-<span class="hljs-number">1</span>==tt;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)</span></span>&#123;<br>        e[idx]=y;<br>        ne[idx]=h[x];<br>        h[x]=idx++;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><hr><h2 id="dijkstraç®—æ³•"><a href="#dijkstraç®—æ³•" class="headerlink" title="dijkstraç®—æ³•"></a>dijkstraç®—æ³•</h2><blockquote><p>ä»€ä¹ˆæ˜¯æœ€çŸ­è·¯æ˜¯ç®—æ³•ï¼Œç”¨å¤„æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p><strong>æ±‚æŸç‚¹åˆ°æŸç‚¹çš„æœ€çŸ­è·¯æ—¶å°±ä¼šç”¨åˆ°æœ€çŸ­è·¯ç®—æ³•ï¼Œä½†æ˜¯å› ä¸ºæœ€çŸ­è·¯çš„åœºæ™¯æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ä½¿ç”¨çš„ç®—æ³•ç§ç±»ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜</strong></p><p>é€šè¿‡åœºæ™¯çš„åˆ’åˆ†ï¼Œå¤§æ¦‚å¯ä»¥åˆ†ä¸ºä¿©ç§ï¼ˆç®—æ³•è¿›é˜¶æŒ‡å—è¿™ä¹ˆåˆ†çš„ï¼‰</p><ul><li>å•æºæœ€çŸ­è·¯<ul><li>æ‰€æœ‰è¾¹æƒéƒ½æ˜¯æ­£æ•°ï¼š<ul><li>æœ´ç´ dijkstraç®—æ³•ï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼‰o(n^2ï¼‰ï¼ˆç¨ å¯†å›¾ï¼‰</li><li>å †ä¼˜åŒ–ç‰ˆdijkstraç®—æ³•ï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼‰o(mlogn)ï¼ˆç¨€ç–å›¾ï¼‰</li></ul></li><li>å­˜åœ¨è´Ÿæƒè¾¹:<ul><li>Bellman-Fordï¼š o(nm)</li><li>SPFAä¸€èˆ¬ï¼šo(m)</li></ul></li></ul></li><li>å¤šæºæ±‡æœ€çŸ­è·¯ ï¼š<ul><li>Floydç®—æ³•  </li></ul></li></ul><p><strong>ä»Šå¤©è®²è¿°çš„æ—¶è¿™å…¶ä¸­å•æºæœ€çŸ­è·¯ä¸­è§£å†³è¾¹æƒä¸ºæ­£æ•°çš„è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•åŠå…¶ä»–çš„ä¼˜åŒ–æ–¹å¼</strong></p><p>æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ä½™å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œè§£å†³çš„æ˜¯æœ‰æƒå›¾ä¸­æœ€çŸ­è·¯å¾„é—®é¢˜</p><p>åŸç†çš„è§£é‡Šï¼š<code>ä¼šåœ¨è¯¾å ‚è®²è§£</code></p><p>å‡è®¾åŸç†å·²ç»è®²å®Œäº†ï¼Œçœ‹çœ‹ä¾‹é¢˜å§~</p><hr><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œæ‰€æœ‰è¾¹æƒå‡ä¸ºæ­£å€¼ã€‚</p><p>è¯·ä½ æ±‚å‡º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœæ— æ³•ä» 1 å·ç‚¹èµ°åˆ° n å·ç‚¹ï¼Œåˆ™è¾“å‡º -1ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° x,y,zï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä»ç‚¹ x åˆ°ç‚¹ y çš„æœ‰å‘è¾¹ï¼Œè¾¹é•¿ä¸º zã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</p><p>å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤500<br>1â‰¤mâ‰¤10^5<br>å›¾ä¸­æ¶‰åŠè¾¹é•¿å‡ä¸è¶…è¿‡10000ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><h4 id="æœ´ç´ ç‰ˆ"><a href="#æœ´ç´ ç‰ˆ" class="headerlink" title="æœ´ç´ ç‰ˆ"></a>æœ´ç´ ç‰ˆ</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>            <span class="hljs-keyword">if</span> (!st[j] &amp;&amp; (t == <span class="hljs-number">-1</span> || dist[t] &gt; dist[j]))<br>                t = j;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )<br>            dist[j] = <span class="hljs-built_in">min</span>(dist[j], dist[t] + g[t][j]);<br><br>        st[t] = <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (dist[n] == <span class="hljs-number">0x3f3f3f3f</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> dist[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br><br>    <span class="hljs-built_in">memset</span>(g, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> g);<br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c);<br><br>        g[a][b] = <span class="hljs-built_in">min</span>(g[a][b], c);<br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-built_in">dijkstra</span>());<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">500</span>+<span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[][] g=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N][N];<span class="hljs-comment">//é‚»æ¥çŸ©é˜µ</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//åˆ°å„ä¸ªç‚¹çš„æœ€çŸ­è·¯</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>[] st=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> max= (<span class="hljs-keyword">int</span>) <span class="hljs-number">1e9</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader in = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] cur = in.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(cur[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">int</span> m = Integer.parseInt(cur[<span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=n ; i++) &#123;<br>            Arrays.fill(g[i],max); &#125;<br>        <span class="hljs-keyword">while</span>(m--&gt;<span class="hljs-number">0</span>)&#123;<br>            String[] arr = in.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(arr[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(arr[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(arr[<span class="hljs-number">2</span>]);<br><br>            g[a][b] = Math.min(g[a][b], c);<br>        &#125;<br>        System.out.println(dijkstra());<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span>&#123;<br>        Arrays.fill(dist,max);<span class="hljs-comment">//åˆå§‹åŒ–æ‰€æœ‰çš„è·ç¦»éƒ½ä¸ºæ— ç©·å¤§</span><br>        dist[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<span class="hljs-comment">//è‡ªå·±çš„è·ç¦»æ˜¯0</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;n ; i++) &#123;<br>            <span class="hljs-comment">//æ‰¾å‡ºç¦»èµ·ç‚¹æœ€è¿‘çš„ç‚¹</span><br>            <span class="hljs-keyword">int</span> t=-<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>                <span class="hljs-keyword">if</span> (st[j])<span class="hljs-keyword">continue</span>;<span class="hljs-comment">//å‘ç°å·²ç»æ˜¯æœ€çŸ­è·ç¦»çš„ç‚¹ç›´æ¥å…ˆè·³è¿‡</span><br>                <span class="hljs-keyword">if</span> (t==-<span class="hljs-number">1</span>||dist[j]&lt;dist[t])&#123;<br>                    t=j;<span class="hljs-comment">//æ‰¾å‡ºç¦»èµ·ç‚¹çš„æœ€çŸ­è·ç¦»</span><br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (t==n)&#123;<span class="hljs-keyword">break</span>;&#125;<br>            st[t]=<span class="hljs-keyword">true</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;=n ; j++) &#123;<br>              dist[j]= Math.min(dist[j],dist[t]+g[t][j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (dist[n]==max)&#123;<span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;&#125;<span class="hljs-comment">//å¦‚æœé‡ç‚¹å€¼æ²¡æœ‰è¢«æ”¹å˜ï¼Œå°±è¯´æ˜åˆ°ä¸äº†ï¼Œè·¯å¾„ä¸å­˜åœ¨</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> dist[n];<span class="hljs-comment">//è¿”å›æœ€çŸ­è·¯å¾„</span><br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><hr><h4 id="å †ä¼˜åŒ–ç‰ˆ"><a href="#å †ä¼˜åŒ–ç‰ˆ" class="headerlink" title="å †ä¼˜åŒ–ç‰ˆ"></a>å †ä¼˜åŒ–ç‰ˆ</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span>, dis = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> h[N], w[N], e[N], ne[N], idx;<br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;<br>    dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    heap.<span class="hljs-built_in">push</span>(&#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;);<br>    <br>    <span class="hljs-keyword">while</span> (heap.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> a = heap.<span class="hljs-built_in">top</span>(); heap.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">int</span> ax = a.x, ay = a.y;<br>        <br>        <span class="hljs-keyword">if</span> (st[ay]) <span class="hljs-keyword">continue</span>;<br>        st[ay] = <span class="hljs-literal">true</span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[ay]; ~i; i = ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = e[i], v = w[i];<br>            <br>            <span class="hljs-keyword">if</span> (dist[j] &gt; dist[ay] + v)<br>            &#123;<br>                dist[j] = dist[ay] + v;<br>                heap.<span class="hljs-built_in">push</span>(&#123;dist[j], j&#125;);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        <span class="hljs-built_in">add</span>(a, b, c);<br>    &#125;<br>    <br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    <br>    <span class="hljs-built_in">dijkstra</span>();<br>    <br>    <span class="hljs-keyword">if</span> (dist[n] == dis) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>   <br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.PriorityQueue;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N= (<span class="hljs-keyword">int</span>) (<span class="hljs-number">1e6</span>);<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-comment">//ç»å…¸æ•°ç»„æ¨¡æ‹Ÿæ•°ç»„+é“¾è¡¨</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] h=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] e=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] ne=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] w=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//ä¹‹å‰æ²¡æœ‰æ¥è§¦åˆ°è¿‡çš„æƒé‡</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> idx=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] dist=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<span class="hljs-comment">//å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>[] st=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> INF=<span class="hljs-number">0x3f3f3f3f</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b,<span class="hljs-keyword">int</span> c)</span></span>&#123;<br>        e[idx]=b;<br>        w[idx]=c;<br>        ne[idx]=h[a];<br>        h[a]=idx++;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç»´æŠ¤å½“å‰æœªåœ¨stä¸­æ ‡è®°è¿‡ä¸”ç¦»èµ·ç‚¹æœ€è¿‘çš„ç‚¹</span><br>        PriorityQueue&lt;PIIs&gt; queue=<span class="hljs-keyword">new</span> PriorityQueue&lt;&gt;();<br>        Arrays.fill(dist,INF);<br>        dist[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>        queue.add(<span class="hljs-keyword">new</span> PIIs(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>));<br>        <span class="hljs-keyword">while</span> (!queue.isEmpty())&#123;<br>            <span class="hljs-comment">//æ‰¾åˆ°å½“å‰æœªåœ¨sä¸­å‡ºç°è¿‡ä¸”ç¦»åŸç‚¹æœ€è¿‘çš„ç‚¹</span><br>            PIIs p=queue.poll();<br>            <span class="hljs-keyword">int</span> t =p.getSecond();<br>            <span class="hljs-keyword">int</span> distance=p.getFirst();<br>            <span class="hljs-comment">// if (st[t])continue;//æˆ‘æ„Ÿè§‰åº”è¯¥æ˜¯å¯æœ‰å¯æ²¡æœ‰</span><br>            st[t]=<span class="hljs-keyword">true</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=h[t];i !=-<span class="hljs-number">1</span>;i=ne[i])&#123;<br>                <span class="hljs-keyword">int</span> j=e[i];<br>                <span class="hljs-keyword">if</span> (dist[j]&gt;distance+w[i])&#123;<br>                    dist[j]=distance+w[i];<br>                    queue.add(<span class="hljs-keyword">new</span> PIIs(dist[j],j));<br><br>                &#125;<br>            &#125;<br>        &#125;    <span class="hljs-keyword">if</span>(dist[n] == INF) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">return</span> dist[n];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">int</span> m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        Arrays.fill(h, -<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">while</span>(m -- &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            String[] str2 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> a = Integer.parseInt(str2[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> b = Integer.parseInt(str2[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">int</span> c = Integer.parseInt(str2[<span class="hljs-number">2</span>]);<br>            add(a,b,c);<br>        &#125;<br>        System.out.println(dijkstra());<br>    &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PIIs</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">PIIs</span>&gt;</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> first;<span class="hljs-comment">//è·ç¦»å€¼</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> second;<span class="hljs-comment">//ç‚¹ç¼–å·</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PIIs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> second)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.first = first;<br>        <span class="hljs-keyword">this</span>.second = second;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getFirst</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> first;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setFirst</span><span class="hljs-params">(<span class="hljs-keyword">int</span> first)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.first = first;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSecond</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> second;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSecond</span><span class="hljs-params">(<span class="hljs-keyword">int</span> second)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.second = second;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(PIIs o)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> Integer.compare(first, o.first);<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>ä¹‹åä¼šæŠŠå‰©ä¸‹çš„æœ€çŸ­è·¯ç®—æ³•è®²å®Œï¼Œåˆ°äº†å›¾è®ºè¿™å—ä»£ç é‡å°±ä¸Šæ¥äº†ï¼Œå¤§å®¶ä¸€å®šè¦å¤šç»ƒä¹ ï¼ŒæŠŠè¿™å‡ ä¸ªå›¾è®ºç®—æ³•ç»ƒç†Ÿç»ƒï¼Œèƒ½ç›´æ¥å†™ä¸‹æ¥æ‰è¡Œ~</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>å›¾è®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dfså’Œbfsï¼Œæ ‘ä¸å›¾çš„æ·±åº¦å¹¿åº¦éå†</title>
    <link href="/posts/2809524257.html"/>
    <url>/posts/2809524257.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ·±æœå’Œå¹¿æœï¼Œå¹¶ä¸”å¯¹å›¾å’Œæ ‘è¿›è¡Œä¸€ä¸ªå…¥é—¨ï¼Œä¹Ÿå°±æ˜¯å›¾çš„æ·±æœå’Œå¹¿æœ</p><span id="more"></span><h1 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h1><h2 id="æ·±æœå’Œå¹¿æœ"><a href="#æ·±æœå’Œå¹¿æœ" class="headerlink" title="æ·±æœå’Œå¹¿æœ"></a>æ·±æœå’Œå¹¿æœ</h2><blockquote><p>å•¥æ˜¯æœç´¢ï¼Œæ·±æœå’Œå¹¿æœåˆæœ‰å•¥åŒºåˆ«å•Šï¼Ÿ</p></blockquote><p><strong>æœç´¢å°±æ˜¯æŠŠè§£çš„é›†åˆä¸é‡ä¸æ¼çš„æšä¸¾å‡ºæ¥</strong></p><p><strong>è€Œæ·±æœå’Œå¹¿æœå°±æ˜¯æœç´¢é¡ºåºçš„å·®å¼‚</strong></p><ul><li>æ·±æœé¡¾åæ€ä¹‰å°±æ˜¯æ·±åº¦ä¼˜å…ˆ</li><li>å¹¿æœé¡¾åæ€ä¹‰å°±æ˜¯å¹¿åº¦ä¼˜å…ˆ</li></ul><p><strong>ä¼šåœ¨è¯¾ä¸Šç”»ä¸€ä¸ªæ¯”è¾ƒå½¢è±¡çš„å›¾æ¥è§£é‡Š</strong></p><p>æ¥çœ‹ä¸€çœ‹ä¾‹é¢˜æŠŠ</p><hr><h3 id="æ·±æœä¾‹é¢˜ï¼š"><a href="#æ·±æœä¾‹é¢˜ï¼š" class="headerlink" title="æ·±æœä¾‹é¢˜ï¼š"></a>æ·±æœä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œå°†æ•°å­— 1âˆ¼n æ’æˆä¸€æ’ï¼Œå°†ä¼šæœ‰å¾ˆå¤šç§æ’åˆ—æ–¹æ³•ã€‚</p><p>ç°åœ¨ï¼Œè¯·ä½ æŒ‰ç…§å­—å…¸åºå°†æ‰€æœ‰çš„æ’åˆ—æ–¹æ³•è¾“å‡ºã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰æ’åˆ—æ–¹æ¡ˆï¼Œæ¯ä¸ªæ–¹æ¡ˆå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤7</p><p>è¾“å…¥æ ·ä¾‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> path[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> state)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u == n)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, path[i]);<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">if</span> (!(state &gt;&gt; i &amp; <span class="hljs-number">1</span>))<br>        &#123;<br>            path[u] = i + <span class="hljs-number">1</span>;<br>            <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>, state + (<span class="hljs-number">1</span> &lt;&lt; i));<br>        &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span>  st[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> path[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span> [N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;<br>        Scanner scanner=<span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> n=scanner.nextInt();<br>        dfs(<span class="hljs-number">0</span>,n);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(u==n)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>                System.out.print(path[i]+<span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>            System.out.println();<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(!st[i])&#123;st[i]=<span class="hljs-keyword">true</span>;<br>            path[u]=i;<br>            dfs(u+<span class="hljs-number">1</span>,n);<br>            st[i]=<span class="hljs-keyword">false</span>;&#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>å†çœ‹ä¸€çœ‹æœ‰åçš„å…«çš‡åé—®é¢˜å§</strong></p><blockquote><p>nâˆ’çš‡åé—®é¢˜æ˜¯æŒ‡å°† n ä¸ªçš‡åæ”¾åœ¨ nÃ—n çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šï¼Œä½¿å¾—çš‡åä¸èƒ½ç›¸äº’æ”»å‡»åˆ°ï¼Œå³ä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šã€‚</p><p><img src="https://cdn.acwing.com/media/article/image/2019/06/08/19_860e00c489-1_597ec77c49-8-queens.png" alt="1_597ec77c49-8-queens.png"></p><p>ç°åœ¨ç»™å®šæ•´æ•° nï¼Œè¯·ä½ è¾“å‡ºæ‰€æœ‰çš„æ»¡è¶³æ¡ä»¶çš„æ£‹å­æ‘†æ³•ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æ¯ä¸ªè§£å†³æ–¹æ¡ˆå  n è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œç”¨æ¥è¡¨ç¤ºå®Œæ•´çš„æ£‹ç›˜çŠ¶æ€ã€‚</p><p>å…¶ä¸­ <code>.</code> è¡¨ç¤ºæŸä¸€ä¸ªä½ç½®çš„æ–¹æ ¼çŠ¶æ€ä¸ºç©ºï¼Œ<code>Q</code> è¡¨ç¤ºæŸä¸€ä¸ªä½ç½®çš„æ–¹æ ¼ä¸Šæ‘†ç€çš‡åã€‚</p><p>æ¯ä¸ªæ–¹æ¡ˆè¾“å‡ºå®Œæˆåï¼Œè¾“å‡ºä¸€ä¸ªç©ºè¡Œã€‚</p><p><strong>æ³¨æ„ï¼šè¡Œæœ«ä¸èƒ½æœ‰å¤šä½™ç©ºæ ¼ã€‚</strong></p><p>è¾“å‡ºæ–¹æ¡ˆçš„é¡ºåºä»»æ„ï¼Œåªè¦ä¸é‡å¤ä¸”æ²¡æœ‰é—æ¼å³å¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jboss-cli"><span class="hljs-string">.Q..</span><br><span class="hljs-string">...Q</span><br>Q.<span class="hljs-string">..</span><br><span class="hljs-string">..Q.</span><br><br><span class="hljs-string">..Q.</span><br>Q.<span class="hljs-string">..</span><br><span class="hljs-string">...Q</span><br><span class="hljs-string">.Q..</span><br></code></pre></div></td></tr></table></figure></blockquote><h4 id="ç¬¬ä¸€ç§é€’å½’æ€æƒ³ï¼ˆæ·±æœï¼‰"><a href="#ç¬¬ä¸€ç§é€’å½’æ€æƒ³ï¼ˆæ·±æœï¼‰" class="headerlink" title="ç¬¬ä¸€ç§é€’å½’æ€æƒ³ï¼ˆæ·±æœï¼‰"></a>ç¬¬ä¸€ç§é€’å½’æ€æƒ³ï¼ˆæ·±æœï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">bool</span> col[N], row[N], dui1[<span class="hljs-number">2</span> * N - <span class="hljs-number">1</span>], dui2[<span class="hljs-number">2</span> * N - <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">char</span> path[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u &gt; n) <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">if</span> (j == n)<br>    &#123;<br>        j = <span class="hljs-number">0</span>;<br>        i ++ ;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (i == n)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (u == n)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> z = <span class="hljs-number">0</span>; z &lt; n; z ++ )<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; n; k ++ )<br>                &#123;<br>                    cout &lt;&lt; path[z][k];<br>                &#125;<br>                <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>            &#125;<br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <br>    <span class="hljs-built_in">dfs</span>(i, j + <span class="hljs-number">1</span>, u);<br>    <br>    <span class="hljs-keyword">if</span> (!(col[j] || row[i] || dui1[i + j] || dui2[i - j + n]))<br>    &#123;<br>        col[j] = row[i] = dui1[i + j] = dui2[i - j + n] = <span class="hljs-literal">true</span>;<br>        path[i][j] = <span class="hljs-string">&#x27;Q&#x27;</span>;<br>        <span class="hljs-built_in">dfs</span>(i, j + <span class="hljs-number">1</span>, u + <span class="hljs-number">1</span>);<br>        col[j] = row[i] = dui1[i + j] = dui2[i - j + n] = <span class="hljs-literal">false</span>;<br>        path[i][j] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>        &#123;<br>            path[i][j] = <span class="hljs-string">&#x27;.&#x27;</span>;    <br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">15</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span> f[][]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span> [N][N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> lie[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> hang[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> dui1[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[<span class="hljs-number">2</span>*N-<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> dui2[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[<span class="hljs-number">2</span>*N-<span class="hljs-number">1</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;<br>        Scanner scanner =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> n=scanner.nextInt();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            Arrays.fill(f[i],<span class="hljs-string">&#x27;.&#x27;</span>);<br>        &#125;<br>        dfs(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,n);<br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j,<span class="hljs-keyword">int</span> sum,<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(j==n)&#123;<br>            i+=<span class="hljs-number">1</span>;<br>            j=<span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(i==n)&#123;<br>        <span class="hljs-keyword">if</span>(sum==n)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>;k&lt;n;k++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> m=<span class="hljs-number">0</span>;m&lt;n;m++)&#123;<br>                    System.out.print(f[k][m]);<br>                &#125;<br>                System.out.print(<span class="hljs-string">&quot;\n&quot;</span>);<br>            &#125;<br>            System.out.print(<span class="hljs-string">&quot;\n&quot;</span>);<br>           <br>        &#125;<br>     <span class="hljs-keyword">return</span>;&#125;<br>    dfs(i,j+<span class="hljs-number">1</span>,sum,n);<br>    <span class="hljs-keyword">if</span>(hang[i]||lie[j]||dui1[i+j]||dui2[i-j+n])&#123;<span class="hljs-keyword">return</span>;&#125;<br>    hang[i]=<span class="hljs-keyword">true</span>;<br>    lie[j]=<span class="hljs-keyword">true</span>;<br>    dui1[i+j]=<span class="hljs-keyword">true</span>;<br>    dui2[i-j+n]=<span class="hljs-keyword">true</span>;<br>    f[i][j]=<span class="hljs-string">&#x27;Q&#x27;</span>;<br>    dfs(i,j+<span class="hljs-number">1</span>,sum+<span class="hljs-number">1</span>,n);<br>    hang[i]=<span class="hljs-keyword">false</span>;<br>    lie[j]=<span class="hljs-keyword">false</span>;<br>    dui1[i+j]=<span class="hljs-keyword">false</span>;<br>    dui2[i-j+n]=<span class="hljs-keyword">false</span>;<br>    f[i][j]=<span class="hljs-string">&#x27;.&#x27;</span>;    <br>&#125;&#125;<br></code></pre></div></td></tr></table></figure><h4 id="ç¬¬äºŒç§é€’å½’æ€æƒ³-ä¹Ÿæ˜¯æ·±æœ"><a href="#ç¬¬äºŒç§é€’å½’æ€æƒ³-ä¹Ÿæ˜¯æ·±æœ" class="headerlink" title="ç¬¬äºŒç§é€’å½’æ€æƒ³(ä¹Ÿæ˜¯æ·±æœ)"></a>ç¬¬äºŒç§é€’å½’æ€æƒ³(ä¹Ÿæ˜¯æ·±æœ)</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"> <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">char</span> s[N][N];<br><span class="hljs-keyword">bool</span> col[N], dui1[<span class="hljs-number">2</span> * N - <span class="hljs-number">1</span>], dui2[<span class="hljs-number">2</span> * N - <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (u == n)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>            &#123;<br>                cout &lt;&lt; s[i][j];<br>            &#125;<br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>        &#125;<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (col[i] || dui1[u + i] || dui2[u - i + n]) <span class="hljs-keyword">continue</span>;<br>        col[i] = <span class="hljs-literal">true</span>;<br>        dui1[u + i] = <span class="hljs-literal">true</span>;<br>        dui2[u - i + n] = <span class="hljs-literal">true</span>;<br>        s[u][i] = <span class="hljs-string">&#x27;Q&#x27;</span>;<br>        <span class="hljs-built_in">dfs</span>(u + <span class="hljs-number">1</span>);<br>        col[i] = <span class="hljs-literal">false</span>;<br>        dui1[u + i] = <span class="hljs-literal">false</span>;<br>        dui2[u - i + n] = <span class="hljs-literal">false</span>;<br>        s[u][i] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++ )<br>        &#123;<br>            s[i][j] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">15</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span> f[][]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span> [N][N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> lie[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> dui1[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span> [<span class="hljs-number">2</span>*N-<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> dui2[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span> [<span class="hljs-number">2</span>*N-<span class="hljs-number">1</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;<br>        Scanner scanner =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> n=scanner.nextInt();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            Arrays.fill(f[i],<span class="hljs-string">&#x27;.&#x27;</span>);<br>        &#125;<br>        dfs(<span class="hljs-number">0</span>,n);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(u==n)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                    System.out.print(f[i][j]);<br>                &#125;<br>                System.out.println();<br>            &#125;<br>            System.out.print(<span class="hljs-string">&quot;\n&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>            <span class="hljs-keyword">if</span>(lie[j]||dui1[u+j]||dui2[u-j+n])&#123;<span class="hljs-keyword">continue</span>;&#125;<br>            lie[j]=<span class="hljs-keyword">true</span>;<br>            dui1[u+j]=<span class="hljs-keyword">true</span>;<br>            dui2[u-j+n]=<span class="hljs-keyword">true</span>;<br>            f[u][j]=<span class="hljs-string">&#x27;Q&#x27;</span>;<br>            dfs(u+<span class="hljs-number">1</span>,n);<br>            lie[j]=<span class="hljs-keyword">false</span>;<br>            dui1[u+j]=<span class="hljs-keyword">false</span>;<br>            dui2[u-j+n]=<span class="hljs-keyword">false</span>;<br>            f[u][j]=<span class="hljs-string">&#x27;.&#x27;</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h4 id="å¹¿æœä¾‹é¢˜ï¼š"><a href="#å¹¿æœä¾‹é¢˜ï¼š" class="headerlink" title="å¹¿æœä¾‹é¢˜ï¼š"></a>å¹¿æœä¾‹é¢˜ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ª nÃ—m çš„äºŒç»´æ•´æ•°æ•°ç»„ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªè¿·å®«ï¼Œæ•°ç»„ä¸­åªåŒ…å« 0 æˆ– 1ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºå¯ä»¥èµ°çš„è·¯ï¼Œ1 è¡¨ç¤ºä¸å¯é€šè¿‡çš„å¢™å£ã€‚</p><p>æœ€åˆï¼Œæœ‰ä¸€ä¸ªäººä½äºå·¦ä¸Šè§’ (1,1) å¤„ï¼Œå·²çŸ¥è¯¥äººæ¯æ¬¡å¯ä»¥å‘ä¸Šã€ä¸‹ã€å·¦ã€å³ä»»æ„ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p><p>è¯·é—®ï¼Œè¯¥äººä»å·¦ä¸Šè§’ç§»åŠ¨è‡³å³ä¸‹è§’ (n,m) å¤„ï¼Œè‡³å°‘éœ€è¦ç§»åŠ¨å¤šå°‘æ¬¡ã€‚</p><p>æ•°æ®ä¿è¯ (1,1) å¤„å’Œ (n,m) å¤„çš„æ•°å­—ä¸º 0ï¼Œä¸”ä¸€å®šè‡³å°‘å­˜åœ¨ä¸€æ¡é€šè·¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å« m ä¸ªæ•´æ•°ï¼ˆ0 æˆ– 1ï¼‰ï¼Œè¡¨ç¤ºå®Œæ•´çš„äºŒç»´æ•°ç»„è¿·å®«ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä»å·¦ä¸Šè§’ç§»åŠ¨è‡³å³ä¸‹è§’çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤100</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><h4 id="æœ€çŸ­è·¯å¾„é—®é¢˜"><a href="#æœ€çŸ­è·¯å¾„é—®é¢˜" class="headerlink" title="æœ€çŸ­è·¯å¾„é—®é¢˜"></a>æœ€çŸ­è·¯å¾„é—®é¢˜</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> g[N][N], d[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    queue&lt;PII&gt; q;<br><br>    <span class="hljs-built_in">memset</span>(d, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> d);<br>    d[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    q.<span class="hljs-built_in">push</span>(&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;);<br><br>    <span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br><br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> t = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> x = t.first + dx[i], y = t.second + dy[i];<br><br>            <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; y &lt; m &amp;&amp; g[x][y] == <span class="hljs-number">0</span> &amp;&amp; d[x][y] == <span class="hljs-number">-1</span>)<br>            &#123;<br>                d[x][y] = d[t.first][t.second] + <span class="hljs-number">1</span>;<br>                q.<span class="hljs-built_in">push</span>(&#123;x, y&#125;);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> d[n - <span class="hljs-number">1</span>][m - <span class="hljs-number">1</span>];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>            cin &gt;&gt; g[i][j];<br><br>    cout &lt;&lt; <span class="hljs-built_in">bfs</span>() &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[][] g = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N][N], d = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N][N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PII[] q = <span class="hljs-keyword">new</span> PII[N * N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] str1 = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(str1[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(str1[<span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            String[] str = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++) &#123;<br>                g[i][j] = Integer.parseInt(str[j]);<br>            &#125;<br>        &#125;<br>        System.out.println(bfs());<br>        reader.close();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> hh = <span class="hljs-number">0</span>, tt = <span class="hljs-number">0</span>;<br>        q[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> PII(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; d.length; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; d[i].length; j++) &#123;<br>                d[j][i] = -<span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        d[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span>[] dx = &#123;-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>&#125;;<br>        <span class="hljs-keyword">while</span> (hh &lt;= tt) &#123;<br>            PII t = q[hh++];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) &#123;<br>                <span class="hljs-keyword">int</span> x = t.getFirst() + dx[i], y = t.getSecond() + dy[i];<br>                <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; y &lt; m &amp;&amp; g[x][y] == <span class="hljs-number">0</span> &amp;&amp; d[x][y] == -<span class="hljs-number">1</span>) &#123;<br>                    d[x][y] = d[t.getFirst()][t.getSecond()] + <span class="hljs-number">1</span>;<br>                    q[++tt] = <span class="hljs-keyword">new</span> PII(x, y);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> d[n - <span class="hljs-number">1</span>][m - <span class="hljs-number">1</span>];<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PII</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> first;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> second;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PII</span><span class="hljs-params">(<span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> second)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.first = first;<br>        <span class="hljs-keyword">this</span>.second = second;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PII</span><span class="hljs-params">()</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getFirst</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> first;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSecond</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> second;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h4 id="æœ€å°æ­¥æ•°é—®é¢˜"><a href="#æœ€å°æ­¥æ•°é—®é¢˜" class="headerlink" title="æœ€å°æ­¥æ•°é—®é¢˜"></a>æœ€å°æ­¥æ•°é—®é¢˜</h4><blockquote><p>åœ¨ä¸€ä¸ª 3Ã—3 çš„ç½‘æ ¼ä¸­ï¼Œ1~8 è¿™ 8 ä¸ªæ•°å­—å’Œä¸€ä¸ª <code>x</code> æ°å¥½ä¸é‡ä¸æ¼åœ°åˆ†å¸ƒåœ¨è¿™ 3Ã—3 çš„ç½‘æ ¼ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">x</span> <span class="hljs-number">4</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">7</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure><p>åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æŠŠ <code>x</code> ä¸å…¶ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ä¹‹ä¸€çš„æ•°å­—äº¤æ¢ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚</p><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯é€šè¿‡äº¤æ¢ï¼Œä½¿å¾—ç½‘æ ¼å˜ä¸ºå¦‚ä¸‹æ’åˆ—ï¼ˆç§°ä¸ºæ­£ç¡®æ’åˆ—ï¼‰ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span> x<br></code></pre></div></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œç¤ºä¾‹ä¸­å›¾å½¢å°±å¯ä»¥é€šè¿‡è®© <code>x</code> å…ˆåä¸å³ã€ä¸‹ã€å³ä¸‰ä¸ªæ–¹å‘çš„æ•°å­—äº¤æ¢æˆåŠŸå¾—åˆ°æ­£ç¡®æ’åˆ—ã€‚</p><p>äº¤æ¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>   <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>   <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>   <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">x</span> <span class="hljs-number">4</span> <span class="hljs-number">6</span>   <span class="hljs-number">4</span> x <span class="hljs-number">6</span>   <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>   <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">7</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span>   <span class="hljs-number">7</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span>   <span class="hljs-number">7</span> x <span class="hljs-number">8</span>   <span class="hljs-number">7</span> <span class="hljs-number">8</span> x<br></code></pre></div></td></tr></table></figure><p>ç°åœ¨ï¼Œç»™ä½ ä¸€ä¸ªåˆå§‹ç½‘æ ¼ï¼Œè¯·ä½ æ±‚å‡ºå¾—åˆ°æ­£ç¡®æ’åˆ—è‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡äº¤æ¢ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥å ä¸€è¡Œï¼Œå°† 3Ã—3 çš„åˆå§‹ç½‘æ ¼æç»˜å‡ºæ¥ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœåˆå§‹ç½‘æ ¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <br><span class="hljs-attribute">x</span> <span class="hljs-number">4</span> <span class="hljs-number">6</span> <br><span class="hljs-attribute">7</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span> <br></code></pre></div></td></tr></table></figure><p>åˆ™è¾“å…¥ä¸ºï¼š<code>1 2 3 x 4 6 7 5 8</code></p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘äº¤æ¢æ¬¡æ•°ã€‚</p><p>å¦‚æœä¸å­˜åœ¨è§£å†³æ–¹æ¡ˆï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span> <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">5</span>  x  <span class="hljs-number">7</span>  <span class="hljs-number">6</span>  <span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹"><a href="#è¾“å‡ºæ ·ä¾‹" class="headerlink" title="è¾“å‡ºæ ·ä¾‹"></a>è¾“å‡ºæ ·ä¾‹</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">19<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(string state)</span></span><br><span class="hljs-function"></span>&#123;<br>    queue&lt;string&gt; q;<br>    unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; d;<br><br>    q.<span class="hljs-built_in">push</span>(state);<br>    d[state] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br><br>    string end = <span class="hljs-string">&quot;12345678x&quot;</span>;<br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> t = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br><br>        <span class="hljs-keyword">if</span> (t == end) <span class="hljs-keyword">return</span> d[t];<br><br>        <span class="hljs-keyword">int</span> distance = d[t];<br>        <span class="hljs-keyword">int</span> k = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&#x27;x&#x27;</span>);<br>        <span class="hljs-keyword">int</span> x = k / <span class="hljs-number">3</span>, y = k % <span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> a = x + dx[i], b = y + dy[i];<br>            <span class="hljs-keyword">if</span> (a &gt;= <span class="hljs-number">0</span> &amp;&amp; a &lt; <span class="hljs-number">3</span> &amp;&amp; b &gt;= <span class="hljs-number">0</span> &amp;&amp; b &lt; <span class="hljs-number">3</span>)<br>            &#123;<br>                <span class="hljs-built_in">swap</span>(t[a * <span class="hljs-number">3</span> + b], t[k]);<br>                <span class="hljs-keyword">if</span> (!d.<span class="hljs-built_in">count</span>(t))<br>                &#123;<br>                    d[t] = distance + <span class="hljs-number">1</span>;<br>                    q.<span class="hljs-built_in">push</span>(t);<br>                &#125;<br>                <span class="hljs-built_in">swap</span>(t[a * <span class="hljs-number">3</span> + b], t[k]);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">char</span> s[<span class="hljs-number">2</span>];<br><br>    string state;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i ++ )<br>    &#123;<br>        cin &gt;&gt; s;<br>        state += *s;<br>    &#125;<br><br>    cout &lt;&lt; <span class="hljs-built_in">bfs</span>(state) &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-keyword">static</span> Map&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br>        Scanner cin = <span class="hljs-keyword">new</span> Scanner(System.in);<br><br>        String str = <span class="hljs-string">&quot;&quot;</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i ++)&#123;<br>            str += cin.next();<br>        &#125;<br><br>        System.out.print(bfs(str));<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(String str)</span></span>&#123;<br><br>        <span class="hljs-keyword">int</span>[] dx = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>&#125;;<br>        <span class="hljs-keyword">int</span>[] dy = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;;<br><br>        Queue&lt;String&gt; q = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<br><br>        q.add(str);<br>        map.put(str, <span class="hljs-number">0</span>);<br><br>        <span class="hljs-keyword">while</span> (!q.isEmpty())&#123;<br><br>            String t = q.remove();<br><br>            <span class="hljs-keyword">if</span> (t.equals(<span class="hljs-string">&quot;12345678x&quot;</span>)) <span class="hljs-keyword">return</span> map.get(t);<br><br>            <span class="hljs-keyword">int</span> pos = t.indexOf(<span class="hljs-string">&#x27;x&#x27;</span>);<br><br>            <span class="hljs-keyword">int</span> x = pos / <span class="hljs-number">3</span>;<br>            <span class="hljs-keyword">int</span> y = pos % <span class="hljs-number">3</span>;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++)&#123;<br>                <span class="hljs-keyword">int</span> tx = x + dx[i];<br>                <span class="hljs-keyword">int</span> ty = y + dy[i];<br><br>                <span class="hljs-keyword">if</span> (tx &lt; <span class="hljs-number">0</span> || tx &gt;= <span class="hljs-number">3</span> || ty &lt; <span class="hljs-number">0</span> || ty &gt;= <span class="hljs-number">3</span>) <span class="hljs-keyword">continue</span>;<br>                String tstr = makeStr(t, pos, tx * <span class="hljs-number">3</span> + ty);<br>                <span class="hljs-keyword">if</span> (map.containsKey(tstr)) <span class="hljs-keyword">continue</span>;<br><br>                map.put(tstr, map.get(t) + <span class="hljs-number">1</span>);<br>                q.add(tstr);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">static</span> String <span class="hljs-title">makeStr</span><span class="hljs-params">(String t, <span class="hljs-keyword">int</span> src, <span class="hljs-keyword">int</span> dest)</span></span>&#123;<br>        StringBuilder str = <span class="hljs-keyword">new</span> StringBuilder(t);<br><br>        str.setCharAt(src, t.charAt(dest));<br>        str.setCharAt(dest, <span class="hljs-string">&#x27;x&#x27;</span>);<br><br>        <span class="hljs-keyword">return</span> str.toString();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="æ ‘å’Œå›¾çš„dfså’Œbfs"><a href="#æ ‘å’Œå›¾çš„dfså’Œbfs" class="headerlink" title="æ ‘å’Œå›¾çš„dfså’Œbfs"></a>æ ‘å’Œå›¾çš„dfså’Œbfs</h2><p><strong>å…¶å®å’Œä¸Šé¢è®²è¿°çš„ä¸€æ ·ï¼Œåªä¸è¿‡æ­è½½äº†æ ‘å’Œå›¾æ•°æ®ç»“æ„</strong></p><hr><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><h4 id="æ ‘çš„éå†ä¾‹é¢˜"><a href="#æ ‘çš„éå†ä¾‹é¢˜" class="headerlink" title="æ ‘çš„éå†ä¾‹é¢˜"></a>æ ‘çš„éå†ä¾‹é¢˜</h4><blockquote><p>ç»™å®šä¸€é¢—æ ‘ï¼Œæ ‘ä¸­åŒ…å« n ä¸ªç»“ç‚¹ï¼ˆç¼–å· 1âˆ¼nï¼‰å’Œ nâˆ’1 æ¡æ— å‘è¾¹ã€‚</p><p>è¯·ä½ æ‰¾åˆ°æ ‘çš„é‡å¿ƒï¼Œå¹¶è¾“å‡ºå°†é‡å¿ƒåˆ é™¤åï¼Œå‰©ä½™å„ä¸ªè¿é€šå—ä¸­ç‚¹æ•°çš„æœ€å¤§å€¼ã€‚</p><p>é‡å¿ƒå®šä¹‰ï¼šé‡å¿ƒæ˜¯æŒ‡æ ‘ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œå¦‚æœå°†è¿™ä¸ªç‚¹åˆ é™¤åï¼Œå‰©ä½™å„ä¸ªè¿é€šå—ä¸­ç‚¹æ•°çš„æœ€å¤§å€¼æœ€å°ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹è¢«ç§°ä¸ºæ ‘çš„é‡å¿ƒã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºæ ‘çš„ç»“ç‚¹æ•°ã€‚</p><p>æ¥ä¸‹æ¥ nâˆ’1 è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° a å’Œ bï¼Œè¡¨ç¤ºç‚¹ a å’Œç‚¹ b ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•° mï¼Œè¡¨ç¤ºå°†é‡å¿ƒåˆ é™¤åï¼Œå‰©ä½™å„ä¸ªè¿é€šå—ä¸­ç‚¹æ•°çš„æœ€å¤§å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹"><a href="#è¾“å…¥æ ·ä¾‹" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">9</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">9</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>, M = N * <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> h[N], e[M], ne[M], idx;<br><span class="hljs-keyword">int</span> ans = N;<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    st[u] = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">int</span> size = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; i != <span class="hljs-number">-1</span>; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (st[j]) <span class="hljs-keyword">continue</span>;<br><br>        <span class="hljs-keyword">int</span> s = <span class="hljs-built_in">dfs</span>(j);<br>        size = <span class="hljs-built_in">max</span>(size, s);<br>        sum += s;<br>    &#125;<br><br>    size = <span class="hljs-built_in">max</span>(size, n - sum - <span class="hljs-number">1</span>);<br>    ans = <span class="hljs-built_in">min</span>(ans, size);<br><br>    <span class="hljs-keyword">return</span> sum + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);<br>        <span class="hljs-built_in">add</span>(a, b), <span class="hljs-built_in">add</span>(b, a);<br>    &#125;<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> java.io.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> N= (<span class="hljs-keyword">int</span>) (<span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>);<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> h[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> e[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>*N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ne[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>*N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> st[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> ans =N;<br>    <span class="hljs-keyword">static</span> StreamTokenizer s = <span class="hljs-keyword">new</span> StreamTokenizer(<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in)));<br>    <span class="hljs-keyword">static</span> BufferedWriter bw = <span class="hljs-keyword">new</span> BufferedWriter(<span class="hljs-keyword">new</span> OutputStreamWriter(System.out));<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> idx=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        s.nextToken();<br>        n = (<span class="hljs-keyword">int</span>)s.nval;<br>        init();<br>        <span class="hljs-keyword">int</span> a, b;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i) &#123;<br>            s.nextToken();<br>            a = (<span class="hljs-keyword">int</span>)s.nval;<br>            s.nextToken();<br>            b = (<span class="hljs-keyword">int</span>)s.nval;<br>            add(a, b);<br>            add(b, a);<br>        &#125;<br>        dfs(<span class="hljs-number">1</span>);<br>        bw.write(ans + <span class="hljs-string">&quot;&quot;</span>);<br>        bw.close();<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;<br>            h[i] = -<span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span></span>&#123;<br>        e[idx]=b;<br>        ne[idx]=h[a];<br>        h[a]=idx++;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> size=<span class="hljs-number">0</span>;<br>        st[u]=<span class="hljs-keyword">true</span>;<span class="hljs-comment">//è¡¨ç¤ºè¿™ä¸ªç‚¹æˆ‘æ¥è¿‡äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥è¿™ä¸ªä¸ºé‡å¿ƒçš„ç‚¹å·²ç»æµ‹è¿‡äº†</span><br>        <span class="hljs-keyword">int</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; i !=-<span class="hljs-number">1</span> ; i=ne[i]) &#123;<br>            <span class="hljs-keyword">int</span> j=e[i];<br>            <span class="hljs-keyword">if</span> (!st[j])&#123;<span class="hljs-comment">//çœ‹çœ‹è¿™ä¸ªèŠ‚ç‚¹æˆ‘æ¥è¿‡æ²¡æœ‰</span><br>                <span class="hljs-keyword">int</span> s=dfs(j);<br>                size=Math.max(size,s);<br>                sum+=s;<br>            &#125;<br>        &#125;<br>        size=Math.max(size,n-sum-<span class="hljs-number">1</span>);<br>        ans=Math.min(ans,size);<br>        <span class="hljs-keyword">return</span> sum+<span class="hljs-number">1</span>;<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h4 id="å›¾çš„éå†"><a href="#å›¾çš„éå†" class="headerlink" title="å›¾çš„éå†"></a>å›¾çš„éå†</h4><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªç‚¹ m æ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ã€‚</p><p>æ‰€æœ‰è¾¹çš„é•¿åº¦éƒ½æ˜¯ 1ï¼Œç‚¹çš„ç¼–å·ä¸º 1âˆ¼nã€‚</p><p>è¯·ä½ æ±‚å‡º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœä» 1 å·ç‚¹æ— æ³•èµ°åˆ° n å·ç‚¹ï¼Œè¾“å‡º âˆ’1ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° a å’Œ bï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€æ¡ä» a èµ°åˆ° b çš„é•¿åº¦ä¸º 1 çš„è¾¹ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1 å·ç‚¹åˆ° n å·ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> h[N], e[N], ne[N], idx;<br><span class="hljs-keyword">int</span> d[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(d, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> d);<br><br>    queue&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    d[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    q.<span class="hljs-built_in">push</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; i != <span class="hljs-number">-1</span>; i = ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j = e[i];<br>            <span class="hljs-keyword">if</span> (d[j] == <span class="hljs-number">-1</span>)<br>            &#123;<br>                d[j] = d[t] + <span class="hljs-number">1</span>;<br>                q.<span class="hljs-built_in">push</span>(j);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> d[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);<br>        <span class="hljs-built_in">add</span>(a, b);<br>    &#125;<br><br>    cout &lt;&lt; <span class="hljs-built_in">bfs</span>() &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">100010</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> idx=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] h=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] e=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] ne=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] d=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] q=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        BufferedReader reader=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String[] string=reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n=Integer.parseInt(string[<span class="hljs-number">0</span>]);<br>        m=Integer.parseInt(string[<span class="hljs-number">1</span>]);<br>        Arrays.fill(h,-<span class="hljs-number">1</span>);<br><br>        <span class="hljs-keyword">while</span> (m--&gt;<span class="hljs-number">0</span>)&#123;<br>            String[] string1=reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">int</span> x=Integer.parseInt(string1[<span class="hljs-number">0</span>]);<br>            <span class="hljs-keyword">int</span> y=Integer.parseInt(string1[<span class="hljs-number">1</span>]);<br>            add(x,y);<br>        &#125;<br>        System.out.println(bfs());<br>        reader.close();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> hh=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> tt=<span class="hljs-number">0</span>;<br>        q[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;<span class="hljs-comment">//é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªæ˜¯ä¸€å·èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯èµ·ç‚¹</span><br>        Arrays.fill(d,-<span class="hljs-number">1</span>);<br><br>        d[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<span class="hljs-comment">//è‡ªå·±ç¦»è‡ªå·±çš„è·ç¦»ä¸º0</span><br>        <span class="hljs-keyword">while</span> (hh&lt;=tt)&#123;<br>            <span class="hljs-keyword">int</span> t=q[hh++];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; i !=-<span class="hljs-number">1</span> ; i=ne[i]) &#123;<br>                <span class="hljs-keyword">int</span> j=e[i];<br>                <span class="hljs-keyword">if</span> (d[j]==-<span class="hljs-number">1</span>)&#123;<br>                    d[j]=d[t]+<span class="hljs-number">1</span>;<br>                    q[++tt]=j;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> d[n]; &#125;<br>        <br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>        e[idx]=y;<br>        ne[idx]=h[x];<br>        h[x]=idx++;<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>è¿™ä¸€èŠ‚éš¾åº¦æ˜¯éå¸¸å¤§çš„ï¼Œdfså’Œbfsè¦ç»ƒå¾ˆä¹…çš„ã€‚å¤§å®¶å¯èƒ½ä¼šé—®é‚£ä¸ºä»€ä¹ˆåªè®²ä¸€èŠ‚è¯¾ï¼Œä½†æ˜¯åˆå› ä¸ºè¿™ä¸ªæ˜¯æ¯”è¾ƒç ¸æ—¶é—´çš„ï¼Œå¤§å®¶è¦è®²åå¤šåŠ ç»ƒä¹ æ‰è¡Œï¼Œè€Œä¸æ˜¯æˆ‘åœ¨è¿™ä¸€ç›´è®²ï¼Œæˆ‘åªç»™å¤§å®¶å¼•è·¯</strong></p><hr><p><strong>å¾ˆå¤šä¸œè¥¿è®²ä¹‰ä¸Šè®²ä¸æ¸…æ¥šï¼Œè®²ä¹‰åªå¯¹äºå…¥é—¨å’Œæä¾›æ–¹å‘ä½¿ç”¨ï¼Œåªåˆ—å‡ºæçº²å’Œæœ‰æ•ˆä»£ç ï¼Œæ›´å¤šä¸œè¥¿è¿˜æ˜¯è¦å¤šå¬è¯¾ä¸Šè®²çš„</strong></p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æœç´¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å †ï¼Œå“ˆå¸Œè¡¨</title>
    <link href="/posts/1457178808.html"/>
    <url>/posts/1457178808.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°å“ˆå¸Œè¡¨å’Œå †ï¼Œå†è®²ä¸€è®²Trieï¼ˆå­—å…¸æ ‘ï¼‰</p><span id="more"></span><h1 id="æ•°æ®ç»“æ„ï¼ˆ4ï¼‰"><a href="#æ•°æ®ç»“æ„ï¼ˆ4ï¼‰" class="headerlink" title="æ•°æ®ç»“æ„ï¼ˆ4ï¼‰"></a>æ•°æ®ç»“æ„ï¼ˆ4ï¼‰</h1><h2 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h2><blockquote><p>å †æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå †æœ‰å•¥ç”¨å¤„å‘€ï¼Ÿ</p></blockquote><p><strong>å †ä¹‹å‰æ˜¯æœ‰è®²è¿‡çš„ï¼Œå †å°±æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåœ¨å †ä¸­ï¼Œå®ƒå¯ä»¥åŠ¨æ€ç»´æŠ¤åºåˆ—çš„æœ€å¤§å€¼å’Œæœ€å°å€¼</strong></p><blockquote><p>æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œ[1,4,3,2,1,23,4,55,423] è®©ä½ å¯»æ‰¾è¿™ä¸ªçš„æœ€å¤§å€¼æˆ–æœ€å°å€¼</p></blockquote><p><strong>å¦‚æœæ˜¯ä½ æ˜¯ä¸æ˜¯ä¼šæ‰«æä¸€éï¼Œç„¶åæ¯æ¬¡æ‰¾å‡ºæœ€å¤§å€¼</strong></p><blockquote><p>å¯èƒ½æœ‰çš„äººä¼šè¯´æ’ä¸ªåºä¸å°±è¡Œäº†ï¼Ÿ</p></blockquote><p><strong>é‚£å¦‚æœæˆ‘ç»§ç»­å¾€é‡Œé¢æ·»åŠ å…ƒç´ å‘¢ï¼Ÿï¼ˆå †å¾—ä¼˜ç‚¹ä½“ç°åœ¨åŠ¨æ€ï¼‰</strong></p><blockquote><p>é‚£å †æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p></blockquote><p><strong>æå‰è¯´æ˜çš„æ˜¯ï¼Œå †çš„ä»£ç ä¼šæ¯”è¾ƒå¤æ‚ï¼Œåœ¨ä¹‹åçš„ç«èµ›ä¸­ä¸ä¼šæœ‰äººå»æ‰‹å†™ä¸€ä¸ªå †ï¼Œå‡ ä¹éƒ½æ˜¯ä½¿ç”¨stlé‡Œçš„priority_queueè¿™ä¸ªæ¨¡æ¿</strong></p><p><strong>é‚£å°±çœ‹çœ‹ä¾‹é¢˜æŠŠ~</strong></p><hr><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜:"></a>ä¾‹é¢˜:</h3><blockquote><p>ç»´æŠ¤ä¸€ä¸ªé›†åˆï¼Œåˆå§‹æ—¶é›†åˆä¸ºç©ºï¼Œæ”¯æŒå¦‚ä¸‹å‡ ç§æ“ä½œï¼š</p><ol><li><code>I x</code>ï¼Œæ’å…¥ä¸€ä¸ªæ•° xï¼›</li><li><code>PM</code>ï¼Œè¾“å‡ºå½“å‰é›†åˆä¸­çš„æœ€å°å€¼ï¼›</li><li><code>DM</code>ï¼Œåˆ é™¤å½“å‰é›†åˆä¸­çš„æœ€å°å€¼ï¼ˆæ•°æ®ä¿è¯æ­¤æ—¶çš„æœ€å°å€¼å”¯ä¸€ï¼‰ï¼›</li></ol><p>ç°åœ¨è¦è¿›è¡Œ N æ¬¡æ“ä½œï¼Œå¯¹äºæ‰€æœ‰ç¬¬ 2 ä¸ªæ“ä½œï¼Œè¾“å‡ºå½“å‰é›†åˆçš„æœ€å°å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼Œæ“ä½œæŒ‡ä»¤ä¸º <code>I x</code>ï¼Œ<code>PM</code>ï¼Œ<code>DM</code>ï¼Œ<code>D k</code> æˆ– <code>C k x</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¾“å‡ºæŒ‡ä»¤ <code>PM</code>ï¼Œè¾“å‡ºä¸€ä¸ªç»“æœï¼Œè¡¨ç¤ºå½“å‰é›†åˆä¸­çš„æœ€å°å€¼ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>âˆ’10^9â‰¤xâ‰¤10^9<br>æ•°æ®ä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">8</span><br><span class="hljs-attribute">I</span> -<span class="hljs-number">10</span><br><span class="hljs-attribute">PM</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">DM</span><br><span class="hljs-attribute">PM</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff"><span class="hljs-deletion">-10</span><br>6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pa (u &gt;&gt; 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> h[N], cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">down</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t = u;<br>    <span class="hljs-keyword">if</span> ((lc) &lt;= cnt &amp;&amp; h[lc] &lt; h[t]) t = lc;<br>    <span class="hljs-keyword">if</span> ((rc) &lt;= cnt &amp;&amp; h[rc] &lt; h[t]) t = rc;<br>    <br>    <span class="hljs-keyword">if</span> (u != t)<br>    &#123;<br>        <span class="hljs-built_in">swap</span>(h[t], h[u]);<br>        <span class="hljs-built_in">down</span>(t);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">up</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (pa &amp;&amp; h[pa] &gt; h[u])<br>    &#123;<br>        <span class="hljs-built_in">swap</span>(h[pa], h[u]);<br>        <span class="hljs-built_in">up</span>(pa);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        string op;<br>        <span class="hljs-keyword">int</span> x;<br>        <br>        cin &gt;&gt; op;<br>        <br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;I&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            <br>            cnt ++ ;<br>            <br>            h[cnt] = x;<br>            <span class="hljs-built_in">up</span>(cnt);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;PM&quot;</span>)<br>        &#123;<br>            cout &lt;&lt; h[<span class="hljs-number">1</span>] &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-built_in">swap</span>(h[<span class="hljs-number">1</span>], h[cnt]);<br>            cnt -- ;<br>            <span class="hljs-built_in">down</span>(<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>å †æŒæ¡è¿™äº›å°±è¶³å¤Ÿäº†ï¼Œä»¥ååœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸ä¼šæ‰‹å†™å †çš„</strong></p><hr><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p><strong>å“ˆå¸Œè¡¨ä¹‹å‰æœ‰è®²è¿‡ï¼Œå°±ä¸å†ä¸¾ä¾‹å­äº†ï¼Œè¯¾ä¸Šå°†ç›´æ¥è®²è§£</strong></p><p>ä¿©ç§è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•</p><ul><li>æ‹‰é“¾æ³•</li><li>å¼€æ”¾å¯»å€æ³•</li></ul><hr><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»´æŠ¤ä¸€ä¸ªé›†åˆï¼Œæ”¯æŒå¦‚ä¸‹å‡ ç§æ“ä½œï¼š</p><ol><li><code>I x</code>ï¼Œæ’å…¥ä¸€ä¸ªæ•° xï¼›</li><li><code>Q x</code>ï¼Œè¯¢é—®æ•° x æ˜¯å¦åœ¨é›†åˆä¸­å‡ºç°è¿‡ï¼›</li></ol><p>ç°åœ¨è¦è¿›è¡Œ N æ¬¡æ“ä½œï¼Œå¯¹äºæ¯ä¸ªè¯¢é—®æ“ä½œè¾“å‡ºå¯¹åº”çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ“ä½œæ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼Œæ“ä½œæŒ‡ä»¤ä¸º <code>I x</code>ï¼Œ<code>Q x</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¯¢é—®æŒ‡ä»¤ <code>Q x</code>ï¼Œè¾“å‡ºä¸€ä¸ªè¯¢é—®ç»“æœï¼Œå¦‚æœ x åœ¨é›†åˆä¸­å‡ºç°è¿‡ï¼Œåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>âˆ’10^9â‰¤xâ‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">5</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">Q</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">Q</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">Yes</span><br><span class="hljs-keyword">No</span><br></code></pre></div></td></tr></table></figure></blockquote><h4 id="æ‹‰é“¾æ³•"><a href="#æ‹‰é“¾æ³•" class="headerlink" title="æ‹‰é“¾æ³•"></a>æ‹‰é“¾æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> h[N], e[N], ne[N], idx;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ha</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (x % N + N) % N;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">ha</span>(x);<br>    <br>    <span class="hljs-built_in">add</span>(t, x);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">ha</span>(x);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[t]; ~i; i = ne[i])<br>    &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-keyword">if</span> (j == x) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op; <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; op &gt;&gt; x;<br>        <br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;I&#x27;</span>) <span class="hljs-built_in">insert</span>(x);<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">query</span>(x)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="å¼€æ”¾å¯»å€æ³•"><a href="#å¼€æ”¾å¯»å€æ³•" class="headerlink" title="å¼€æ”¾å¯»å€æ³•"></a>å¼€æ”¾å¯»å€æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> h[N], null = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ha</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (x % N + N) % N;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">ha</span>(x);<br>    <br>    <span class="hljs-keyword">while</span> (h[t] != null &amp;&amp; h[t] != x)<br>    &#123;<br>        t = (t + <span class="hljs-number">1</span>) % N;<br>    &#125;<br>    <br>    h[t] = x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">ha</span>(x);<br>    <br>    <span class="hljs-keyword">while</span> (h[t] != x &amp;&amp; h[t] != null)<br>    &#123;<br>        t = (t + <span class="hljs-number">1</span>) % N;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> h[t] == x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    cin &gt;&gt; T;<br>    <br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> h);<br>    <br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; op &gt;&gt; x;<br>        <br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;I&#x27;</span>) <span class="hljs-built_in">insert</span>(x);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">query</span>(x)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>        &#125; <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="å­—ç¬¦ä¸²å“ˆå¸Œ"><a href="#å­—ç¬¦ä¸²å“ˆå¸Œ" class="headerlink" title="å­—ç¬¦ä¸²å“ˆå¸Œ"></a>å­—ç¬¦ä¸²å“ˆå¸Œ</h3><p><strong>å…¨ç§°å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ï¼ŒæŠŠå­—ç¬¦ä¸²å˜æˆä¸€ä¸ªpè¿›åˆ¶æ•°å­—ï¼ˆå“ˆå¸Œå€¼ï¼‰ï¼Œå®ç°ä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„åˆ°ä¸åŒçš„æ•°å­—ã€‚</strong><br>å¯¹å½¢å¦‚ X1X2X3â‹¯Xnâˆ’1Xn çš„å­—ç¬¦ä¸²,é‡‡ç”¨å­—ç¬¦çš„ascii ç ä¹˜ä¸Š P çš„æ¬¡æ–¹æ¥è®¡ç®—å“ˆå¸Œå€¼ã€‚</p><p>æ˜ å°„å…¬å¼ (X1Ã—Pnâˆ’1+X2Ã—Pnâˆ’2+â‹¯+Xnâˆ’1Ã—P1+XnÃ—P0)modQ<br>æ³¨æ„ç‚¹ï¼š</p><ul><li>ä»»æ„å­—ç¬¦ä¸å¯ä»¥æ˜ å°„æˆ0ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸åŒçš„å­—ç¬¦ä¸²éƒ½æ˜ å°„æˆ0çš„æƒ…å†µï¼Œæ¯”å¦‚A,AA,AAAçš†ä¸º0å†²çªé—®é¢˜ï¼š</li><li>é€šè¿‡å·§å¦™è®¾ç½®P (131 æˆ– 13331) , Q (2^64)çš„å€¼ï¼Œä¸€èˆ¬å¯ä»¥ç†è§£ä¸ºä¸äº§ç”Ÿå†²çªã€‚</li></ul><hr><h4 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œå†ç»™å®š m ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«å››ä¸ªæ•´æ•° l1,r1,l2,r2ï¼Œè¯·ä½ åˆ¤æ–­ [l1,r1]å’Œ [l2,r2] è¿™ä¸¤ä¸ªåŒºé—´æ‰€åŒ…å«çš„å­—ç¬¦ä¸²å­ä¸²æ˜¯å¦å®Œå…¨ç›¸åŒã€‚</p><p>å­—ç¬¦ä¸²ä¸­åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦å’Œè¯¢é—®æ¬¡æ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«å››ä¸ªæ•´æ•° l1,r1,l2,r2ï¼Œè¡¨ç¤ºä¸€æ¬¡è¯¢é—®æ‰€æ¶‰åŠçš„ä¸¤ä¸ªåŒºé—´ã€‚</p><p>æ³¨æ„ï¼Œå­—ç¬¦ä¸²çš„ä½ç½®ä» 1 å¼€å§‹ç¼–å·ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¯¢é—®è¾“å‡ºä¸€ä¸ªç»“æœï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²å­ä¸²å®Œå…¨ç›¸åŒåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">8</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">aabbaabb</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">8</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">Yes</span><br><span class="hljs-keyword">No</span><br><span class="hljs-keyword">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>, P = <span class="hljs-number">131</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">char</span> str[N];<br>ULL h[N], p[N];<br><br><span class="hljs-function">ULL <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> h[r] - h[l - <span class="hljs-number">1</span>] * p[r - l + <span class="hljs-number">1</span>];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str + <span class="hljs-number">1</span>);<br><br>    p[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        h[i] = h[i - <span class="hljs-number">1</span>] * P + str[i];<br>        p[i] = p[i - <span class="hljs-number">1</span>] * P;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l1, r1, l2, r2;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;l1, &amp;r1, &amp;l2, &amp;r2);<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">get</span>(l1, r1) == <span class="hljs-built_in">get</span>(l2, r2)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>æˆ‘ä»¬æ•°æ®ç»“æ„å­¦ä¹ åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½äº†ï¼Œ è¿™4æ¬¡çš„æ•°æ®ç»“æ„è¯¾çŸ¥è¯†ï¼Œè¶³å¤Ÿæˆ‘ä»¬ä¹‹åå»é¢å¯¹ç®€å•å’Œä¸­æ¡£é¢˜äº†ï¼Œå°±ç®—æ˜¯åŸºç¡€æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼Œæˆ‘è§‰å¾—ä¹Ÿå¹¶ä¸ç®€å•ï¼Œå¦‚æœä½ ä»¬æƒ³å®Œå…¨å­¦ä¼šä¹Ÿéœ€è¦ä½ ä»¬å‹¤åŠ ç»ƒä¹ ï¼Œä¹‹åå°†è¿›è¡Œå›¾è®ºå’Œæœç´¢çš„æ•™å­¦ï¼Œå…ˆæŠŠæœç´¢å’Œå›¾è®ºè¦æ•™å­¦çš„ç›®å½•æ‹¿å‡ºæ¥å§~</strong></p><hr><ul><li>æœç´¢<ul><li>dfs</li><li>bfs</li></ul></li><li>å›¾è®º<ul><li>æ‹“æ‰‘æ’åº</li><li>æœ€çŸ­è·¯ç®—æ³•<ul><li>dijkstraç®—æ³•ï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ï¼‰</li><li>bellman-fordï¼ˆè´å°”æ›¼-ç¦ç‰¹ç®—æ³•ï¼‰</li><li>spfaç®—æ³•</li><li>floydï¼ˆå¼—æ´›ä¼Šå¾·ç®—æ³•ï¼‰</li></ul></li><li>æœ€å°ç”Ÿæˆæ ‘ç®—æ³•<ul><li>primç®—æ³•ï¼ˆæ™®åˆ©å§†ç®—æ³•ï¼‰</li><li>Kruskalï¼ˆå…‹é²æ–¯å¡å°”ç®—æ³•ï¼‰</li></ul></li><li>äºŒåˆ†å›¾<ul><li>æŸ“è‰²æ³•</li><li>åŒˆç‰™åˆ©ç®—æ³•ï¼ˆæ‹çˆ±å“²å­¦ç®—æ³•ğŸ˜‚ğŸ˜‚ğŸ˜‚ï¼‰</li></ul></li></ul></li></ul><p>é¢„è®¡ä¼šä¸€å‘¨åŠå·¦å³è®²å®Œï¼ˆåŸºç¡€ï¼‰å›¾è®ºå’Œæœç´¢ï¼Œ å›¾è®ºå’Œæœç´¢è¿œä¸æ­¢è¿™äº›ï¼Œæˆ‘è§‰å¾—è¿™äº›æ˜¯æœ€é‡è¦çš„~</p><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>kmp,å¹¶æŸ¥é›†</title>
    <link href="/posts/3639522052.html"/>
    <url>/posts/3639522052.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ•°æ®ç»“æ„ä¸­çš„KMPå­—ç¬¦ä¸²å’Œå¹¶æŸ¥é›†æ•°æ®ç»“æ„</p><span id="more"></span><h1 id="æ•°æ®ç»“æ„ï¼ˆ3ï¼‰"><a href="#æ•°æ®ç»“æ„ï¼ˆ3ï¼‰" class="headerlink" title="æ•°æ®ç»“æ„ï¼ˆ3ï¼‰"></a>æ•°æ®ç»“æ„ï¼ˆ3ï¼‰</h1><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><blockquote><p>KMPæ˜¯ä»€ä¹ˆï¼Ÿå¥½åƒç»å¸¸èƒ½å¬åˆ°ï¼Œæ˜¯å­—ç¬¦ä¸²çš„ç®—æ³•ï¼Ÿ</p></blockquote><p><strong>KMPè¿™ä¸ªè¯æ¥è‡ªä¸‰ä¸ªå¤–å›½äººçš„åå­—ï¼Œä¹Ÿæ˜¯ä¸å¤šè§çš„å‡ ä¸ªå­—ç¬¦ä¸²ç®—æ³•ï¼Œåˆ—ä¸¾ä»¥ä¸‹å­—ç¬¦ä¸²ç®—æ³•æŠŠ</strong></p><ul><li>manacherç®—æ³•ï¼ˆä¸šå†…å«åšé©¬æ‹‰è½¦ç®—æ³•ï¼Œè§£å†³çš„å›æ–‡å­—ç¬¦ä¸²é—®é¢˜ï¼‰</li><li>å­—ç¬¦ä¸²å“ˆå¸Œï¼ˆä¹‹åä¼šè®²ï¼Œè§£å†³çš„æ˜¯å­—ç¬¦ä¸²çš„é«˜æ•ˆå­˜å‚¨å’ŒæŸ¥æ‰¾é—®é¢˜ï¼‰</li><li>KMPï¼ˆå­—ç¬¦ä¸²åŒ¹é…æ—¶ä½¿ç”¨ï¼‰</li><li>æˆ‘æœ¬äººæ‰ç–å­¦æµ…ï¼ŒåªçŸ¥é“è¿™äº›ï¼Œå¦‚æœä¹‹åä½ ä»¬å­¦åˆ°äº†åˆ«çš„å¯ä»¥å†æ•™æˆ‘~</li></ul><hr><p><strong>æå‰å£°æ˜ä¸€ç‚¹ï¼Œè¿™ä¸ªä¸œè¥¿ç¬¬ä¸€æ¬¡å­¦çš„æ—¶å€™ä¸€å®šè¦å­¦æ‡‚ï¼Œè¦ä¸ç„¶åœ¨ä½ ä¹‹åçš„å­¦ä¹ ç”Ÿæ¶¯ä¹‹ä¸­ï¼Œä¼šç•™ä¸‹å¾ˆé•¿æ—¶é—´çš„é˜´å½±ï¼ŒKMPå’Œå…¶ä»–ç®—æ³•å’Œæ•°æ®ç»“æ„å…³è”ä¸å¤§ï¼Œä»£ç ä¹Ÿéå¸¸çŸ­ï¼ŒèƒŒä¸‹æ¥åšé¢˜ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯ä¼šç»™ä½ ç•™ä¸‹é˜´å½±</strong></p><blockquote><p>æ‰€ä»¥KMPæ˜¯ä»€ä¹ˆä¸œè¥¿å‘€ï¼Ÿ</p></blockquote><p><strong>é¦–å…ˆè¦è¯´çš„æ˜¯ï¼ŒKMPæ˜¯å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</strong></p><p><strong>é¦–å…ˆå¤§å®¶è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œæœ‰è¿™ä¹ˆä¿©ä¸ªå­—ç¬¦ä¸² æ¨¡å¼ä¸²ï¼š[abcdabcabavabcabbaa] å’Œ æ¨¡æ¿ä¸²[abcabb]ï¼Œè¯·é—®åœ¨æ¨¡å¼ä¸²ä¸­ï¼Œæ¨¡æ¿ä¸²å‡ºç°è¿‡å‡ æ¬¡</strong></p><blockquote><p>è¿™æ—¶å¤§å®¶çš„æƒ³æ³•åº”è¯¥å°±æ˜¯ oï¼ˆn * mï¼‰çš„ä¸€ä¸ªæš´åŠ›ç®—æ³•</p><p>KMPåšäº†è¿™ä¸ªçš„ä¼˜åŒ–ï¼ŒæŠŠæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°äº†o(n + m)</p></blockquote><p><strong>å…ˆçœ‹ä¸€é“ä¾‹é¢˜å†è§£é‡Šå§</strong></p><hr><blockquote><p>ç»™å®šä¸€ä¸ªæ¨¡å¼ä¸² Sï¼Œä»¥åŠä¸€ä¸ªæ¨¡æ¿ä¸² Pï¼Œæ‰€æœ‰å­—ç¬¦ä¸²ä¸­åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ä»¥åŠé˜¿æ‹‰ä¼¯æ•°å­—ã€‚</p><p>æ¨¡æ¿ä¸² P åœ¨æ¨¡å¼ä¸² S ä¸­å¤šæ¬¡ä½œä¸ºå­ä¸²å‡ºç°ã€‚</p><p>æ±‚å‡ºæ¨¡æ¿ä¸² P åœ¨æ¨¡å¼ä¸² S ä¸­æ‰€æœ‰å‡ºç°çš„ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° Nï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² P çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡Œè¾“å…¥å­—ç¬¦ä¸² Pã€‚</p><p>ç¬¬ä¸‰è¡Œè¾“å…¥æ•´æ•° Mï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² S çš„é•¿åº¦ã€‚</p><p>ç¬¬å››è¡Œè¾“å…¥å­—ç¬¦ä¸² Sã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè¾“å‡ºæ‰€æœ‰å‡ºç°ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>1â‰¤Mâ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>aba<br>5<br>ababa<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">char</span> s1[N], s2[M];<br><span class="hljs-keyword">int</span> ne[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n, m;<br>    cin &gt;&gt; n &gt;&gt; s1 + <span class="hljs-number">1</span> &gt;&gt; m &gt;&gt; s2 + <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>, j = <span class="hljs-number">0</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">while</span> (j &amp;&amp; s1[j + <span class="hljs-number">1</span>] != s1[i]) j = ne[j];<br>        <span class="hljs-keyword">if</span>(s1[j + <span class="hljs-number">1</span>] == s1[i]) j ++;<br>        ne[i] = j;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">0</span>; i &lt;= m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">while</span> (j &amp;&amp; s1[j + <span class="hljs-number">1</span>] != s2[i]) j = ne[j];<br>        <span class="hljs-keyword">if</span>(s1[j + <span class="hljs-number">1</span>] == s2[i]) j ++ ;<br>        <span class="hljs-keyword">if</span>(j == n)<br>        &#123;<br>            cout &lt;&lt; i - j &lt;&lt; endl;<br>            j = ne[j];<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><p><strong>å¹¶æŸ¥é›†çš„ä½œç”¨æ˜¯ï¼Œåˆå¹¶é›†åˆï¼Œè¯¢é—®ä¿©ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆå½“ä¸­</strong></p><p><strong>å¹¶æŸ¥é›†çš„æ“ä½œä¹Ÿè¶³å¤Ÿç®€å•ï¼Œå¹¶ä¸”åœ¨c++çš„stlæ¨¡æ¿åº“é‡Œå¹¶æ²¡æœ‰å®ç°çš„å¹¶æŸ¥é›†ï¼Œä¹Ÿå°±æ˜¯è¯´å¹¶æŸ¥é›†åªèƒ½æˆ‘ä»¬æ¥æ‰‹å†™è¿™ä¸ªæ•°æ®ç»“æ„</strong></p><p><strong>å°±ç›´æ¥çœ‹ä¸€é“ä¾‹é¢˜æŠŠ</strong></p><hr><blockquote><p>ä¸€å…±æœ‰ n ä¸ªæ•°ï¼Œç¼–å·æ˜¯ 1âˆ¼nï¼Œæœ€å¼€å§‹æ¯ä¸ªæ•°å„è‡ªåœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚</p><p>ç°åœ¨è¦è¿›è¡Œ m ä¸ªæ“ä½œï¼Œæ“ä½œå…±æœ‰ä¸¤ç§ï¼š</p><ol><li><code>M a b</code>ï¼Œå°†ç¼–å·ä¸º a å’Œ b çš„ä¸¤ä¸ªæ•°æ‰€åœ¨çš„é›†åˆåˆå¹¶ï¼Œå¦‚æœä¸¤ä¸ªæ•°å·²ç»åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œåˆ™å¿½ç•¥è¿™ä¸ªæ“ä½œï¼›</li><li><code>Q a b</code>ï¼Œè¯¢é—®ç¼–å·ä¸º a å’Œ b çš„ä¸¤ä¸ªæ•°æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼›</li></ol><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼ŒæŒ‡ä»¤ä¸º <code>M a b</code> æˆ– <code>Q a b</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¯¢é—®æŒ‡ä»¤ <code>Q a b</code>ï¼Œéƒ½è¦è¾“å‡ºä¸€ä¸ªç»“æœï¼Œå¦‚æœ a å’Œ b åœ¨åŒä¸€é›†åˆå†…ï¼Œåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">4</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">M</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">M</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">Q</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">Q</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">Q</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">Yes</span><br><span class="hljs-keyword">No</span><br><span class="hljs-keyword">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> p[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p[x] != x) p[x] = <span class="hljs-built_in">find</span>(p[x]);<br>    <span class="hljs-keyword">return</span> p[x];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) p[i] = i;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op[<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">int</span> a, b;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%d%d&quot;</span>, op, &amp;a, &amp;b);<br>        <span class="hljs-keyword">if</span> (*op == <span class="hljs-string">&#x27;M&#x27;</span>) p[<span class="hljs-built_in">find</span>(a)] = <span class="hljs-built_in">find</span>(b);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">find</span>(a) == <span class="hljs-built_in">find</span>(b)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p><strong>æ­¤é¢˜æ¥è‡ªä¿¡æ¯å­¦å¥¥èµ›ä¸€æœ¬é€š</strong></p><blockquote><p>Aliceå’ŒBobç©äº†ä¸€ä¸ªå¤è€çš„æ¸¸æˆï¼šé¦–å…ˆç”»ä¸€ä¸ª nÃ—n çš„ç‚¹é˜µï¼ˆä¸‹å›¾ n=3 ï¼‰ã€‚</p><p>æ¥ç€ï¼Œä»–ä»¬ä¸¤ä¸ªè½®æµåœ¨ç›¸é‚»çš„ç‚¹ä¹‹é—´ç”»ä¸Šçº¢è¾¹å’Œè“è¾¹ï¼š</p><p><img src="https://cdn.acwing.com/media/article/image/2019/12/11/19_9edbcf521b-1.png" alt="1.png"></p><p>ç›´åˆ°å›´æˆä¸€ä¸ªå°é—­çš„åœˆï¼ˆé¢ç§¯ä¸å¿…ä¸º 1ï¼‰ä¸ºæ­¢ï¼Œâ€œå°åœˆâ€çš„é‚£ä¸ªäººå°±æ˜¯èµ¢å®¶ã€‚å› ä¸ºæ£‹ç›˜å®åœ¨æ˜¯å¤ªå¤§äº†ï¼Œä»–ä»¬çš„æ¸¸æˆå®åœ¨æ˜¯å¤ªé•¿äº†ï¼</p><p>ä»–ä»¬ç”šè‡³åœ¨æ¸¸æˆä¸­éƒ½ä¸çŸ¥é“è°èµ¢å¾—äº†æ¸¸æˆã€‚</p><p>äºæ˜¯è¯·ä½ å†™ä¸€ä¸ªç¨‹åºï¼Œå¸®åŠ©ä»–ä»¬è®¡ç®—ä»–ä»¬æ˜¯å¦ç»“æŸäº†æ¸¸æˆï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚nè¡¨ç¤ºç‚¹é˜µçš„å¤§å°ï¼Œm è¡¨ç¤ºä¸€å…±ç”»äº† m æ¡çº¿ã€‚</p><p>ä»¥å m è¡Œï¼Œæ¯è¡Œé¦–å…ˆæœ‰ä¸¤ä¸ªæ•°å­— (x,y)ï¼Œä»£è¡¨äº†ç”»çº¿çš„èµ·ç‚¹åæ ‡ï¼Œæ¥ç€ç”¨ç©ºæ ¼éš”å¼€ä¸€ä¸ªå­—ç¬¦ï¼Œå‡å¦‚å­—ç¬¦æ˜¯ Dï¼Œåˆ™æ˜¯å‘ä¸‹è¿ä¸€æ¡è¾¹ï¼Œå¦‚æœæ˜¯ R å°±æ˜¯å‘å³è¿ä¸€æ¡è¾¹ã€‚</p><p>è¾“å…¥æ•°æ®ä¸ä¼šæœ‰é‡å¤çš„è¾¹ä¸”ä¿è¯æ­£ç¡®ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€è¡Œï¼šåœ¨ç¬¬å‡ æ­¥çš„æ—¶å€™ç»“æŸã€‚</p><p>å‡å¦‚ m æ­¥ä¹‹åä¹Ÿæ²¡æœ‰ç»“æŸï¼Œåˆ™è¾“å‡ºä¸€è¡Œâ€œdrawâ€ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤200<br>1â‰¤mâ‰¤24000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> D<br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> R<br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> D<br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> R<br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> D<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">210</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = N * N;<br><span class="hljs-keyword">int</span> g[N][N];<br><span class="hljs-keyword">int</span> p[M];<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>    <br>    <span class="hljs-keyword">if</span> (x != p[x]) p[x] = <span class="hljs-built_in">find</span>(p[x]);<br>    <br>    <span class="hljs-keyword">return</span> p[x];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, t = <span class="hljs-number">0</span>; i &lt;= n; i ++ ) <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j ++ )&#123;<br>            g[i][j] = ++t;<br>        &#125;<br>        <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n * n; i ++ )&#123;<br>        p[i] = i;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i ++ )&#123;<br>        <span class="hljs-keyword">int</span> x, y;<br>        <span class="hljs-keyword">char</span> c;<br>        cin &gt;&gt; x &gt;&gt; y &gt;&gt; c;<br>        <br>        <span class="hljs-keyword">int</span> u = g[x][y];<br>        <br>        <span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;D&#x27;</span>) x ++ ;<br>        <span class="hljs-keyword">else</span> y ++ ;<br>        <span class="hljs-keyword">int</span> q = g[x][y];<br>        <br>        <span class="hljs-keyword">int</span> px = <span class="hljs-built_in">find</span>(u);<br>        <span class="hljs-keyword">int</span> py = <span class="hljs-built_in">find</span>(q);<br>        <br>        <span class="hljs-keyword">if</span>(px == py)&#123;<br>            res = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            p[px] = py;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (!res) cout &lt;&lt; <span class="hljs-string">&quot;draw&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>ä»Šå¤©çš„ä»£ç é‡æ˜¯éå¸¸å°‘äº†ï¼Œä½†ä¸€å®šè¦å¤šæ³¨é‡æ€è€ƒï¼Œä¸‹èŠ‚è¯¾å°±æ˜¯æœ€åä¸€å ‚æ•°æ®ç»“æ„è¯¾äº†ï¼Œè®²å“ˆå¸Œå’Œå †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å•è°ƒæ ˆï¼Œå•è°ƒé˜Ÿåˆ—ï¼ŒTrie</title>
    <link href="/posts/3001841268.html"/>
    <url>/posts/3001841268.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰å»¶ç»­ä¸ŠèŠ‚è¯¾çš„é˜Ÿåˆ—å’Œæ ˆï¼Œè®²è¿°å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆï¼Œå†è®²ä¸€è®²Trieï¼ˆå­—å…¸æ ‘ï¼‰</p><span id="more"></span><h1 id="æ•°æ®ç»“æ„-2"><a href="#æ•°æ®ç»“æ„-2" class="headerlink" title="æ•°æ®ç»“æ„(2)"></a>æ•°æ®ç»“æ„(2)</h1><h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h2><blockquote><p>æ¬¸æ¬¸æ¬¸ï¼Œå•¥æ˜¯å•è°ƒæ ˆå‘€ï¼Œå¬ç€å¥½é«˜çº§çš„æ ·å­</p></blockquote><p><strong>å•è°ƒæ ˆå°±æ˜¯åœ¨åŸæ¥æ™®é€šæ ˆçš„åŸºç¡€ä¸Šï¼Œæ ˆå†…å…ƒç´ ç»´æŠ¤ä¸€ä¸ªå•è°ƒæ€§</strong></p><blockquote><p>æœ‰å•¥ç”¨é€”ï¼Ÿ</p></blockquote><p><strong>ä¹Ÿæ˜¯ç”¨äºä¸€äº›é¢˜ç›®çš„ä¼˜åŒ–ï¼Œæ®æˆ‘æ‰€çŸ¥æ¯”è¾ƒå±€é™(ä¸€èˆ¬å°±åªèƒ½ä¾‹é¢˜è¿™ç§é¢˜)</strong></p><p><strong>ä¸Šä¾‹é¢˜ï¼ï¼</strong></p><hr><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•´æ•°æ•°åˆ—ï¼Œè¾“å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º âˆ’1ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ•°åˆ—é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•°è¡¨ç¤ºç¬¬ i ä¸ªæ•°çš„å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º 1ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>1â‰¤æ•°åˆ—ä¸­å…ƒç´ â‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit"><span class="hljs-string">-1</span> 3 <span class="hljs-string">-1</span> 2 2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> stk[N], tt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>        <span class="hljs-keyword">while</span> (tt &amp;&amp; stk[tt] &gt;= x) tt -- ;<br>        <span class="hljs-keyword">if</span> (!tt) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1 &quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, stk[tt]);<br>        stk[ ++ tt] = x;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å•è°ƒé˜Ÿåˆ—"><a href="#å•è°ƒé˜Ÿåˆ—" class="headerlink" title="å•è°ƒé˜Ÿåˆ—"></a>å•è°ƒé˜Ÿåˆ—</h2><blockquote><p>é‚£å•è°ƒé˜Ÿåˆ—æ˜¯ä¸æ˜¯åœ¨é˜Ÿåˆ—çš„åŸºç¡€ä¸Šç»´æŠ¤ä¸€ä¸ªå•è°ƒæ€§å•Šï¼Ÿ</p></blockquote><p><strong>æ˜¯çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç›´æ¥çœ‹ä¾‹é¢˜äº†ï¼Œä¸€èˆ¬æ¥è¯´å•è°ƒé˜Ÿåˆ—çš„åº”ç”¨ä¹Ÿå¾ˆå±€é™ï¼Œä¸€èˆ¬åªç”¨æ¥è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜</strong></p><hr><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»™å®šä¸€ä¸ªå¤§å°ä¸º nâ‰¤10^6 çš„æ•°ç»„ã€‚</p><p>æœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ï¼Œå®ƒä»æ•°ç»„çš„æœ€å·¦è¾¹ç§»åŠ¨åˆ°æœ€å³è¾¹ã€‚</p><p>ä½ åªèƒ½åœ¨çª—å£ä¸­çœ‹åˆ° k ä¸ªæ•°å­—ã€‚</p><p>æ¯æ¬¡æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p>è¯¥æ•°ç»„ä¸º <code>[1 3 -1 -3 5 3 6 7]</code>ï¼Œk ä¸º 3ã€‚</p><table><thead><tr><th align="left">çª—å£ä½ç½®</th><th align="left">æœ€å°å€¼</th><th align="left">æœ€å¤§å€¼</th></tr></thead><tbody><tr><td align="left">[1 3 -1] -3 5 3 6 7</td><td align="left">-1</td><td align="left">3</td></tr><tr><td align="left">1 [3 -1 -3] 5 3 6 7</td><td align="left">-3</td><td align="left">3</td></tr><tr><td align="left">1 3 [-1 -3 5] 3 6 7</td><td align="left">-3</td><td align="left">5</td></tr><tr><td align="left">1 3 -1 [-3 5 3] 6 7</td><td align="left">-3</td><td align="left">5</td></tr><tr><td align="left">1 3 -1 -3 [5 3 6] 7</td><td align="left">3</td><td align="left">6</td></tr><tr><td align="left">1 3 -1 -3 5 [3 6 7]</td><td align="left">3</td><td align="left">7</td></tr></tbody></table><p>ä½ çš„ä»»åŠ¡æ˜¯ç¡®å®šæ»‘åŠ¨çª—å£ä½äºæ¯ä¸ªä½ç½®æ—¶ï¼Œçª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«ä¸¤è¡Œã€‚</p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œåˆ†åˆ«ä»£è¡¨æ•°ç»„é•¿åº¦å’Œæ»‘åŠ¨çª—å£çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡Œæœ‰ n ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°ç»„çš„å…·ä½“æ•°å€¼ã€‚</p><p>åŒè¡Œæ•°æ®ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºåŒ…å«ä¸¤ä¸ªã€‚</p><p>ç¬¬ä¸€è¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å°å€¼ã€‚</p><p>ç¬¬äºŒè¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">8 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> -<span class="hljs-number">1</span> -<span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit"><span class="hljs-string">-1</span> <span class="hljs-string">-3</span> <span class="hljs-string">-3</span> <span class="hljs-string">-3</span> 3 3<br>3 3 5 5 6 7<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; w[i];<br>    <br>    <span class="hljs-keyword">int</span> hh = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> tt = <span class="hljs-number">-1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (hh &lt;= tt &amp;&amp; i - q[hh] + <span class="hljs-number">1</span> &gt; m) hh ++ ;<br>        <span class="hljs-keyword">while</span> (hh &lt;= tt &amp;&amp; w[i] &lt;= w[q[tt]]) tt -- ;<br>        q[ ++ tt] = i;<br>        <br>        <span class="hljs-keyword">if</span> (i &gt;= m - <span class="hljs-number">1</span>) cout &lt;&lt; w[q[hh]] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    <br>    hh = <span class="hljs-number">0</span>, tt = <span class="hljs-number">-1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (hh &lt;= tt &amp;&amp; i - m + <span class="hljs-number">1</span> &gt; q[hh]) hh ++ ;<br>        <span class="hljs-keyword">while</span> (hh &lt;= tt &amp;&amp; w[i] &gt;= w[q[tt]]) tt --;<br>        q[ ++ tt] = i;<br>        <span class="hljs-keyword">if</span> (i &gt;= m - <span class="hljs-number">1</span>) cout &lt;&lt; w[q[hh]] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="trie-å­—å…¸æ ‘"><a href="#trie-å­—å…¸æ ‘" class="headerlink" title="trie(å­—å…¸æ ‘)"></a>trie(å­—å…¸æ ‘)</h2><blockquote><p>è¿™æ˜¯å•¥ï¼Œå¹²å•¥çš„å‘€ï¼Ÿéƒ½ç‰µæ‰¯åˆ°æ ‘äº†ï¼Ÿå¥½å‰å®³çš„æ ·å­</p></blockquote><p><strong>æ˜¯ä¸€ä¸ªé›†åˆï¼Œæ˜¯ä¸€ä¸ªé«˜æ•ˆå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²çš„æ•°æ®ç»“æ„</strong></p><hr><h3 id="ä¾‹é¢˜ï¼š-1"><a href="#ä¾‹é¢˜ï¼š-1" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦ä¸²é›†åˆï¼Œæ”¯æŒä¸¤ç§æ“ä½œï¼š</p><ol><li><code>I x</code> å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸² xï¼›</li><li><code>Q x</code> è¯¢é—®ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨é›†åˆä¸­å‡ºç°äº†å¤šå°‘æ¬¡ã€‚</li></ol><p>å…±æœ‰ N ä¸ªæ“ä½œï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²æ€»é•¿åº¦ä¸è¶…è¿‡ 10^5ï¼Œå­—ç¬¦ä¸²ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ“ä½œæ•°ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼ŒæŒ‡ä»¤ä¸º <code>I x</code> æˆ– <code>Q x</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¯¢é—®æŒ‡ä»¤ <code>Q x</code>ï¼Œéƒ½è¦è¾“å‡ºä¸€ä¸ªæ•´æ•°ä½œä¸ºç»“æœï¼Œè¡¨ç¤º x åœ¨é›†åˆä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤2âˆ—10^4</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-number">5</span><br><span class="hljs-selector-tag">I</span> abc<br><span class="hljs-selector-tag">Q</span> abc<br><span class="hljs-selector-tag">Q</span> ab<br><span class="hljs-selector-tag">I</span> ab<br><span class="hljs-selector-tag">Q</span> ab<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br>0<br>1<br></code></pre></div></td></tr></table></figure></blockquote><p><strong>çœ‹ä¸ªå›¾æŠŠ</strong>:</p><p><img src="https://cdn.acwing.com/media/article/image/2020/06/13/31041_aa11ff2cad-Trie1.PNG" alt="Trie1.PNG"></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> s[N][<span class="hljs-number">26</span>];<br><span class="hljs-keyword">int</span> idx;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> count[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(string str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(!s[p][u]) s[p][u] = ++ idx;<br>        p = s[p][u];<br>    &#125;<br>    count[p] ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(string str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(!s[p][u]) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        p = s[p][u];<br>    &#125;<br>    <span class="hljs-keyword">return</span> count[p];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        string a;<br>        <br>        cin &gt;&gt; op &gt;&gt; a;<br>        <br>        <span class="hljs-keyword">if</span>(op == <span class="hljs-string">&#x27;I&#x27;</span>)<br>        &#123;<br>            <span class="hljs-built_in">insert</span>(a);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            cout &lt;&lt; <span class="hljs-built_in">find</span>(a) &lt;&lt; endl;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å®æˆ˜ï¼š"><a href="#å®æˆ˜ï¼š" class="headerlink" title="å®æˆ˜ï¼š"></a>å®æˆ˜ï¼š</h2><h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><p><strong>è¿™é“é¢˜æ¥è‡ªç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—è¿™æœ¬ä¹¦</strong></p><blockquote><p>åœ¨ç»™å®šçš„ N ä¸ªæ•´æ•° A1ï¼ŒA2â€¦â€¦AN ä¸­é€‰å‡ºä¸¤ä¸ªè¿›è¡Œ xorï¼ˆå¼‚æˆ–ï¼‰è¿ç®—ï¼Œå¾—åˆ°çš„ç»“æœæœ€å¤§æ˜¯å¤šå°‘ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° Nã€‚</p><p>ç¬¬äºŒè¡Œè¾“å…¥ N ä¸ªæ•´æ•° A1ï½ANã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>0â‰¤Ai&lt;2^31</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">31</span> * N;<br><br><span class="hljs-keyword">int</span> s[M][<span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> idx;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">30</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = x &gt;&gt; i &amp; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(!s[p][u]) s[p][u] = ++ idx;<br>        p = s[p][u];<br>    &#125;<br>    <br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">30</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = x &gt;&gt; i &amp; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(s[p][!u])<br>        &#123;<br>            p = s[p][!u];<br>            res = res * <span class="hljs-number">2</span> + !u;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            p = s[p][u];<br>            res = res * <span class="hljs-number">2</span> + u; <br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> res;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <span class="hljs-built_in">insert</span>(v);<br>        <span class="hljs-keyword">int</span> p = <span class="hljs-built_in">query</span>(v);<br>        res = <span class="hljs-built_in">max</span>(res, v ^ p);<br>    &#125;<br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h3><p><strong>å•è€ƒå•è°ƒé˜Ÿåˆ—çš„å‡ ä¹æ²¡æœ‰ï¼Œä½†å•è°ƒé˜Ÿåˆ—èƒ½è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜ï¼Œè¿™é‡Œå‡ºä¸€é“æ»‘åŠ¨çª—å£é—®é¢˜</strong>  </p><p><strong>æ­¤é¢˜æ¥è‡ªç¬¬ä¹å±Šè“æ¡¥æ¯çœèµ›C++Bç»„,ç¬¬ä¹å±Šè“æ¡¥æ¯çœèµ›JAVABç»„</strong></p><blockquote><p>å°æ˜ç»´æŠ¤ç€ä¸€ä¸ªç¨‹åºå‘˜è®ºå›ã€‚ç°åœ¨ä»–æ”¶é›†äº†ä¸€ä»½â€ç‚¹èµâ€æ—¥å¿—ï¼Œæ—¥å¿—å…±æœ‰ N è¡Œã€‚</p><p>å…¶ä¸­æ¯ä¸€è¡Œçš„æ ¼å¼æ˜¯ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">ts <span class="hljs-built_in">id</span>  <br></code></pre></div></td></tr></table></figure><p>è¡¨ç¤ºåœ¨ ts æ—¶åˆ»ç¼–å· id çš„å¸–å­æ”¶åˆ°ä¸€ä¸ªâ€èµâ€ã€‚</p><p>ç°åœ¨å°æ˜æƒ³ç»Ÿè®¡æœ‰å“ªäº›å¸–å­æ›¾ç»æ˜¯â€çƒ­å¸–â€ã€‚</p><p>å¦‚æœä¸€ä¸ªå¸–å­æ›¾åœ¨ä»»æ„ä¸€ä¸ªé•¿åº¦ä¸º D çš„æ—¶é—´æ®µå†…æ”¶åˆ°ä¸å°‘äº K ä¸ªèµï¼Œå°æ˜å°±è®¤ä¸ºè¿™ä¸ªå¸–å­æ›¾æ˜¯â€çƒ­å¸–â€ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªæ—¶åˆ» T æ»¡è¶³è¯¥å¸–åœ¨ [T,T+D) è¿™æ®µæ—¶é—´å†…(æ³¨æ„æ˜¯å·¦é—­å³å¼€åŒºé—´)æ”¶åˆ°ä¸å°‘äº K ä¸ªèµï¼Œè¯¥å¸–å°±æ›¾æ˜¯â€çƒ­å¸–â€ã€‚</p><p>ç»™å®šæ—¥å¿—ï¼Œè¯·ä½ å¸®åŠ©å°æ˜ç»Ÿè®¡å‡ºæ‰€æœ‰æ›¾æ˜¯â€çƒ­å¸–â€çš„å¸–å­ç¼–å·ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° N,D,Kã€‚</p><p>ä»¥ä¸‹ N è¡Œæ¯è¡Œä¸€æ¡æ—¥å¿—ï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° ts å’Œ idã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºçƒ­å¸– idã€‚</p><p>æ¯ä¸ª id å ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Kâ‰¤Nâ‰¤10^5<br>0â‰¤ts,idâ‰¤10^5<br>1â‰¤Dâ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">7 </span><span class="hljs-number">10</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">10</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">10</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">9 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">100 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">100 </span><span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br>3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, d, k;<br>PII order[N];<br><span class="hljs-keyword">int</span> cnt[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; d &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> t, id;<br>        cin &gt;&gt; t &gt;&gt; id;<br>        <br>        order[i] = &#123;t, id&#125;;<br>    &#125;<br>    <br>    <span class="hljs-built_in">sort</span>(order, order + n);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        cnt[order[i].y] ++ ;<br>        <br>        <span class="hljs-keyword">while</span> (order[i].x - order[j].x &gt;= d)<br>        &#123;<br>            cnt[order[j].y] -- ;<br>            j ++ ;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (cnt[order[i].y] &gt;= k) <br>        &#123;<br>            st[order[i].y] = <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (st[i])<br>            cout &lt;&lt; i &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é“¾è¡¨ï¼Œæ ˆï¼Œé˜Ÿåˆ—</title>
    <link href="/posts/805010829.html"/>
    <url>/posts/805010829.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰è®²è¿°æ•°æ®ç»“æ„ä¸­çš„é“¾è¡¨ï¼Œæ™®é€šæ ˆå’Œæ™®é€šé˜Ÿåˆ—</p><span id="more"></span><h1 id="æ•°æ®ç»“æ„ï¼ˆ1ï¼‰"><a href="#æ•°æ®ç»“æ„ï¼ˆ1ï¼‰" class="headerlink" title="æ•°æ®ç»“æ„ï¼ˆ1ï¼‰"></a>æ•°æ®ç»“æ„ï¼ˆ1ï¼‰</h1><h2 id="é“¾è¡¨ï¼š"><a href="#é“¾è¡¨ï¼š" class="headerlink" title="é“¾è¡¨ï¼š"></a>é“¾è¡¨ï¼š</h2><p>å¾ˆå¤šäººéƒ½å·²ç»å­¦è¿‡é“¾è¡¨äº†ï¼Œä½†ä»Šå¤©è¿™ä¸ªæ•°æ®ç»“æ„çš„ä»£ç å¯èƒ½éœ€è¦å¤§å®¶å†æ¬¡è¿›è¡Œå­¦ä¹ ã€‚</p><p><strong>é¦–å…ˆå‘¢æ™®åŠä¸€ä¸‹é“¾è¡¨ï¼Œ é“¾è¡¨æ˜¯å¹²å•¥çš„å‘€ï¼Ÿ</strong></p><blockquote><p>é“¾è¡¨å¸¸ç”¨äºåœ¨ç¨‹åºä¸­ä¸´æ—¶å­˜å‚¨ä¸€ç»„ä¸å®šé•¿çš„çº¿æ€§æ•°æ®ã€‚</p></blockquote><p><strong>ä½†æ˜¯è¿™ä¸ªä¸œè¥¿æ˜¯åŠ¨æ€é“¾è¡¨ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¸ä¼šå»ä½¿ç”¨ï¼Œå› ä¸ºå¯¹äºç®—æ³•é¢˜ç›®æ¥è¯´ï¼Œé¢˜ç›®èŒƒå›´ä¸€èˆ¬æ˜¯ç»™å®šçš„</strong></p><blockquote><p>å®³ï¼Œæˆ‘ä¼šå†™é“¾è¡¨å‘€ï¼Œä¸å°±æ˜¯è¿™ä¹ˆå†™å˜›ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">int</span> val;<br>    Node *next;<br>&#125;<br><span class="hljs-comment">//ç„¶ååŠ¨æ€newæˆ–è€…æ˜¯mallocå˜›ï¼Œå¤ªç®€å•äº†å‘€ï¼ï¼ï¼</span><br><span class="hljs-comment">//ä¸è®²ï¼ï¼ï¼ï¼</span><br></code></pre></div></td></tr></table></figure></blockquote><p><strong>æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œåœ¨ç®—æ³•é¢˜é‡Œå¾ˆçœ‹é‡çš„å°±æ˜¯æ—¶é—´ï¼Œå¯æ˜¯è¿™ä¸ªå¤ªæ…¢äº†ï¼Œå¦‚æœåŠ¨æ€newçš„è¯èŠ±è´¹æ—¶é—´æ˜¯å·¨å¤§çš„ã€‚</strong></p><blockquote><p>ä½ è¯´åŠå¤©äº†ï¼Œé‚£ä½ è¯´ä½ å’‹æ¨¡æ‹Ÿï¼Ÿï¼Ÿï¼ŸğŸ˜¡ğŸ˜¡ğŸ˜¡</p></blockquote><hr><p><strong>é¦–å…ˆè¦è¯´ä¸€ä¸ªè§‚ç‚¹ï¼Œè¿™ä¸ªä¸–ç•Œä¸Šæ‰€æœ‰çš„æ•°æ®ç»“æ„æ˜¯éƒ½å¯ä»¥ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿçš„ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬çš„ç«èµ›å±Šï¼Œå‡ ä¹éƒ½ä½¿ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ•°æ®ç»“æ„ï¼Œå› ä¸ºè¿™æ ·å¿«</strong></p><blockquote><p>é‚£é“¾è¡¨æ€ä¹ˆç”¨æ•°ç»„æ¨¡æ‹Ÿå‘¢ï¼Ÿ</p></blockquote><p><strong>å…ˆåˆ«æ€¥ï¼Œå…ˆè¯´ä»Šå¤©ä¼šè®²ä»€ä¹ˆé“¾è¡¨:</strong></p><ul><li>å•é“¾è¡¨<ul><li>åœ¨ç®—æ³•é¢˜ä¸­å•é“¾è¡¨åº”ç”¨æ¯”è¾ƒå±€é™ï¼Œå¤§å¤šæ•°ï¼ˆ99%ï¼‰ä¼šç”¨æ¥æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼ˆå¤šä¸ªé“¾è¡¨ï¼‰</li><li>ä¸»è¦ç”¨æ¥å­˜å‚¨å›¾å’Œæ ‘</li></ul></li><li>åŒé“¾è¡¨<ul><li>åœ¨ç®—æ³•é¢˜ä¸­åŒé“¾è¡¨çš„åº”ç”¨å°±å¾ˆå±€é™ï¼Œä¸€èˆ¬æ˜¯åº”ç”¨åœ¨æŸäº›é¢˜çš„ä¼˜åŒ–ï¼ˆæ®è¯´æ˜¯è¿™æ ·ï¼Œæˆ‘æ²¡ç”¨è¿‡ï¼‰</li></ul></li></ul><h3 id="é“¾å¼å‘å‰æ˜Ÿï¼š-ä¼˜ç¾è‡³æ"><a href="#é“¾å¼å‘å‰æ˜Ÿï¼š-ä¼˜ç¾è‡³æ" class="headerlink" title="é“¾å¼å‘å‰æ˜Ÿï¼š(ä¼˜ç¾è‡³æ)"></a>é“¾å¼å‘å‰æ˜Ÿï¼š(ä¼˜ç¾è‡³æ)</h3><p>é¦–å…ˆè®²è®²ä¸ºå•¥æˆ‘ä¼šæ¥è§¦åˆ°è¿™ä¸ªæ¨¡æ‹Ÿæ–¹å¼å§ï¼š</p><h4 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h4><blockquote><p>ä¸ºå•¥æˆ‘ä¼šä½¿ç”¨è¿™ä¸ªæ–¹å¼æ¥æ¨¡æ‹Ÿï¼Ÿ</p></blockquote><p>å…¶å®åœ¨æˆ‘ä»¬æç«èµ›å±Šé‡Œåˆ©ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿé“¾è¡¨å…¶å®æ˜¯è›®å¤šè§çš„ï¼Œåªä¸è¿‡å¤–åœˆäººå¹¶ä¸çŸ¥æ™“ã€‚åˆ°ä»Šå¤©ä¸ºæ­¢æˆ‘å†™ä»£ç çš„æ–¹å¼ï¼Œæ¨¡æ‹Ÿæ•°æ®ç»“æ„çš„æ€æƒ³è¢«ä¸€ä½åŒ—å¤§çš„ä¸€ä½å¤§ç¥â€“<strong>é»„å“²å¨</strong>æ·±å—å½±å“åˆ°è‡³ä»Šã€‚</p><blockquote><p><a href="http://hzwer.com/">http://hzwer.com/</a></p></blockquote><p>è¿™ä¸ªæ˜¯ä»–çš„åšå®¢ï¼Œè¿™ä½oieråº”è¯¥æ˜¯æˆ‘ä»¬ç®—æ³•å±Šçš„æ ‡æ†ï¼ŒçœŸçš„å¾ˆåŠ±å¿—ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å»çœ‹çœ‹ä»–çš„ç»å†</p><blockquote><p>â€œé“¾å¼å‰å‘æ˜Ÿâ€è¿™ä¸ªå‘½åï¼Œæœ€æ—©è§äºå±±å¸ˆé™„ä¸­å•æ½‡çš„ä»£ç ï¼Œå…·ä½“å‘æ˜è€…æš‚ä¸å¯è€ƒã€‚</p></blockquote><p><strong>å’‹æ¨¡æ‹Ÿçš„,å¿«æ•™æ•™æˆ‘</strong></p><p>æˆ‘ä»¬è¿™æ—¶å€™å°±è¦ç”¨ä¾‹é¢˜æ¥è®²äº†:</p><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜:"></a>ä¾‹é¢˜:</h3><h4 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨:"></a>å•é“¾è¡¨:</h4><blockquote><p>å®ç°ä¸€ä¸ªå•é“¾è¡¨ï¼Œé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒä¸‰ç§æ“ä½œï¼š</p><ol><li>å‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼›</li><li>åœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åæ’å…¥ä¸€ä¸ªæ•°ã€‚</li></ol><p>ç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ M æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å¤´åˆ°å°¾è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚</p><p><strong>æ³¨æ„</strong>:é¢˜ç›®ä¸­ç¬¬ k ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ k ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† n ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ n ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ 1 ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ 2 ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ n ä¸ªæ’å…¥çš„æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><code>H x</code>ï¼Œè¡¨ç¤ºå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ª xã€‚</li><li><code>D k</code>ï¼Œè¡¨ç¤ºåˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼ˆå½“ k ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºåˆ é™¤å¤´ç»“ç‚¹ï¼‰ã€‚</li><li><code>I k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢æ’å…¥ä¸€ä¸ªæ•° xï¼ˆæ­¤æ“ä½œä¸­ k å‡å¤§äº 0ï¼‰ã€‚</li></ol><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å¤´åˆ°å°¾è¾“å‡ºã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Mâ‰¤100000<br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">10</span><br><span class="hljs-attribute">H</span> <span class="hljs-number">9</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">D</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">D</span> <span class="hljs-number">0</span><br><span class="hljs-attribute">H</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">I</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">D</span> <span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">6 </span><span class="hljs-number">4</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> head, idx;<br><span class="hljs-keyword">int</span> ne[N], e[N];<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    idx = <span class="hljs-number">0</span>;<br>    head = <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_head</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = x;<br>    ne[idx] = head;<br>    head = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = x;<br>    ne[idx] = ne[k];<br>    ne[k] = idx ++ ;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">del</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    ne[k] = ne[ne[k]];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-built_in">init</span>();<br>    <br>    <span class="hljs-keyword">while</span> (n -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        <span class="hljs-keyword">int</span> k, x;<br>        cin &gt;&gt; op;<br>        <br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;H&#x27;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            <span class="hljs-built_in">add_head</span>(x);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;D&#x27;</span>)<br>        &#123;<br>            cin &gt;&gt; k;<br>            <span class="hljs-keyword">if</span>(!k) head = ne[head];<br>            <span class="hljs-built_in">del</span>(k - <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            cin &gt;&gt; k &gt;&gt; x;<br>            <span class="hljs-built_in">add</span>(k - <span class="hljs-number">1</span>, x);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head; ~i; i = ne[i])<br>    &#123;<br>        cout &lt;&lt; e[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h4 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨:"></a>åŒé“¾è¡¨:</h4><blockquote><p>å®ç°ä¸€ä¸ªåŒé“¾è¡¨ï¼ŒåŒé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒ 5 ç§æ“ä½œï¼š</p><ol><li>åœ¨æœ€å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åœ¨æœ€å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>å°†ç¬¬ k ä¸ªæ’å…¥çš„æ•°åˆ é™¤ï¼›</li><li>åœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°</li></ol><p>ç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ M æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å·¦åˆ°å³è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚</p><p><strong>æ³¨æ„</strong>:é¢˜ç›®ä¸­ç¬¬ k ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ k ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† n ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ n ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ 1 ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ 2 ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ n ä¸ªæ’å…¥çš„æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><code>L x</code>ï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å·¦ç«¯æ’å…¥æ•° xã€‚</li><li><code>R x</code>ï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å³ç«¯æ’å…¥æ•° xã€‚</li><li><code>D k</code>ï¼Œè¡¨ç¤ºå°†ç¬¬ k ä¸ªæ’å…¥çš„æ•°åˆ é™¤ã€‚</li><li><code>IL k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚</li><li><code>IR k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚</li></ol><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å·¦åˆ°å³è¾“å‡ºã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Mâ‰¤100000<br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">10</span><br><span class="hljs-attribute">R</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">D</span> <span class="hljs-number">1</span><br><span class="hljs-attribute">L</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">IL</span> <span class="hljs-number">2</span> <span class="hljs-number">10</span><br><span class="hljs-attribute">D</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">IL</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">L</span> <span class="hljs-number">8</span><br><span class="hljs-attribute">R</span> <span class="hljs-number">9</span><br><span class="hljs-attribute">IL</span> <span class="hljs-number">4</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">IR</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">8 </span><span class="hljs-number">7</span> <span class="hljs-number">7</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">9</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> m;<br><span class="hljs-keyword">int</span> e[N], l[N], r[N], idx;<br><br><span class="hljs-comment">// åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx] = x;<br>    l[idx] = a, r[idx] = r[a];<br>    l[r[a]] = idx, r[a] = idx ++ ;<br>&#125;<br><br><span class="hljs-comment">// åˆ é™¤èŠ‚ç‚¹a</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span></span><br><span class="hljs-function"></span>&#123;<br>    l[r[a]] = l[a];<br>    r[l[a]] = r[a];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m;<br><br>    <span class="hljs-comment">// 0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹</span><br>    r[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>, l[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    idx = <span class="hljs-number">2</span>;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        string op;<br>        cin &gt;&gt; op;<br>        <span class="hljs-keyword">int</span> k, x;<br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;L&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            <span class="hljs-built_in">insert</span>(<span class="hljs-number">0</span>, x);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;R&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            <span class="hljs-built_in">insert</span>(l[<span class="hljs-number">1</span>], x);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;D&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; k;<br>            <span class="hljs-built_in">remove</span>(k + <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;IL&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; k &gt;&gt; x;<br>            <span class="hljs-built_in">insert</span>(l[k + <span class="hljs-number">1</span>], x);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            cin &gt;&gt; k &gt;&gt; x;<br>            <span class="hljs-built_in">insert</span>(k + <span class="hljs-number">1</span>, x);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = r[<span class="hljs-number">0</span>]; i != <span class="hljs-number">1</span>; i = r[i]) cout &lt;&lt; e[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    cout &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>   <h2 id="æ ˆå’Œé˜Ÿåˆ—"><a href="#æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="æ ˆå’Œé˜Ÿåˆ—"></a>æ ˆå’Œé˜Ÿåˆ—</h2><blockquote><p>æˆ‘ä»¬æ˜¯è¦æŠŠæ ˆå’Œé˜Ÿåˆ—ä¸€èµ·è®²çš„,å› ä¸ºä¸€èˆ¬æ¥è¯´è¿™ä¿©ä¸ªæ•°æ®ç»“æ„æ€»æ˜¯å¯¹æ¯”ç€å‡ºç°,ä½†æ™®é€šçš„æ ˆå’Œé˜Ÿåˆ—æ˜¯å¾ˆç®€å•çš„.</p><p>æ ˆçš„ç‰¹ç‚¹å‘¢å°±æ˜¯å…ˆè¿›åå‡º, é˜Ÿåˆ—çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡º,è¯¾ä¸Šä¼šç»™å¤§å®¶æ¨¡æ‹Ÿåœºæ™¯ã€‚</p></blockquote><p>æˆ‘ä¹‹å‰å‘¢è®²è¿‡ï¼Œæˆ‘ä»¬ä¹‹åçš„æ‰€æœ‰æ•°æ®ç»“æ„éƒ½ä¼šä½¿ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿï¼Œå°±æ˜¯å› ä¸ºæ•°ç»„çœŸçš„å¾ˆå¿«ï¼Œå¹¶ä¸”æ•°ç»„æ¨¡æ‹Ÿåä½ ä¼šå¯¹è¿™ä¸ªæ•°æ®ç»“æ„çš„åº•å±‚æ›´åŠ ç”±æ·±åˆ»çš„ç†è§£ã€‚</p><p>ä»Šå¤©è®²çš„å‘¢æ˜¯æ™®é€šçš„é˜Ÿåˆ—å’Œæ ˆï¼Œå…¶å®ä»–ä¿©æœ‰å¾ˆå¤šçš„å˜ç§ã€‚</p><ul><li>æ ˆ<ul><li>æ™®é€šæ ˆ</li><li>å•è°ƒæ ˆ</li></ul></li><li>é˜Ÿåˆ—<ul><li>å•ç«¯é˜Ÿåˆ—</li><li>åŒç«¯é˜Ÿåˆ—</li><li>å¾ªç¯é˜Ÿåˆ—</li><li>å•è°ƒé˜Ÿåˆ—</li></ul></li></ul><p>æ˜å¤©ä¼šè®²å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—ã€‚</p><p><strong>çœ‹çœ‹ä¾‹é¢˜å§~</strong></p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><h4 id="æ ˆï¼š"><a href="#æ ˆï¼š" class="headerlink" title="æ ˆï¼š"></a>æ ˆï¼š</h4><blockquote><p>å®ç°ä¸€ä¸ªæ ˆï¼Œæ ˆåˆå§‹ä¸ºç©ºï¼Œæ”¯æŒå››ç§æ“ä½œï¼š</p><ol><li><code>push x</code> â€“ å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•° xï¼›</li><li><code>pop</code> â€“ ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•°ï¼›</li><li><code>empty</code> â€“ åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼›</li><li><code>query</code> â€“ æŸ¥è¯¢æ ˆé¡¶å…ƒç´ ã€‚</li></ol><p>ç°åœ¨è¦å¯¹æ ˆè¿›è¡Œ MM ä¸ªæ“ä½œï¼Œå…¶ä¸­çš„æ¯ä¸ªæ“ä½œ 33 å’Œæ“ä½œ 44 éƒ½è¦è¾“å‡ºç›¸åº”çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤ä¸º <code>push x</code>ï¼Œ<code>pop</code>ï¼Œ<code>empty</code>ï¼Œ<code>query</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ª <code>empty</code> å’Œ <code>query</code> æ“ä½œéƒ½è¦è¾“å‡ºä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>å…¶ä¸­ï¼Œ<code>empty</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸º <code>YES</code> æˆ– <code>NO</code>ï¼Œ<code>query</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ ˆé¡¶å…ƒç´ çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Mâ‰¤100000<br>1â‰¤xâ‰¤10^9<br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight armasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs armasm"><span class="hljs-number">10</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">query</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">6</span><br><span class="hljs-keyword">pop</span><br><span class="hljs-symbol">query</span><br><span class="hljs-keyword">pop</span><br><span class="hljs-symbol">empty</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">query</span><br><span class="hljs-symbol">empty</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-number">5</span><br><span class="hljs-number">5</span><br><span class="hljs-keyword">YES</span><br><span class="hljs-number">4</span><br><span class="hljs-keyword">NO</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> m;<br><span class="hljs-keyword">int</span> stk[N], tt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m;<br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        string op;<br>        <span class="hljs-keyword">int</span> x;<br><br>        cin &gt;&gt; op;<br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;push&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            stk[ ++ tt] = x;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;pop&quot;</span>) tt -- ;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;empty&quot;</span>) cout &lt;&lt; (tt ? <span class="hljs-string">&quot;NO&quot;</span> : <span class="hljs-string">&quot;YES&quot;</span>) &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> cout &lt;&lt; stk[tt] &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="é˜Ÿåˆ—ï¼š"><a href="#é˜Ÿåˆ—ï¼š" class="headerlink" title="é˜Ÿåˆ—ï¼š"></a>é˜Ÿåˆ—ï¼š</h4><blockquote><p>å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒå››ç§æ“ä½œï¼š</p><ol><li><code>push x</code> â€“ å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° xï¼›</li><li><code>pop</code> â€“ ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°ï¼›</li><li><code>empty</code> â€“ åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼›</li><li><code>query</code> â€“ æŸ¥è¯¢é˜Ÿå¤´å…ƒç´ ã€‚</li></ol><p>ç°åœ¨è¦å¯¹é˜Ÿåˆ—è¿›è¡Œ M ä¸ªæ“ä½œï¼Œå…¶ä¸­çš„æ¯ä¸ªæ“ä½œ 3 å’Œæ“ä½œ 4 éƒ½è¦è¾“å‡ºç›¸åº”çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤ä¸º <code>push x</code>ï¼Œ<code>pop</code>ï¼Œ<code>empty</code>ï¼Œ<code>query</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ª <code>empty</code> å’Œ <code>query</code> æ“ä½œéƒ½è¦è¾“å‡ºä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>å…¶ä¸­ï¼Œ<code>empty</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸º <code>YES</code> æˆ– <code>NO</code>ï¼Œ<code>query</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé˜Ÿå¤´å…ƒç´ çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Mâ‰¤100000<br>1â‰¤xâ‰¤10^9<br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight armasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs armasm"><span class="hljs-number">10</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">empty</span><br><span class="hljs-symbol">query</span><br><span class="hljs-keyword">pop</span><br><span class="hljs-symbol">empty</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">3</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">4</span><br><span class="hljs-keyword">pop</span><br><span class="hljs-symbol">query</span><br><span class="hljs-keyword">push</span> <span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-keyword">NO</span><br><span class="hljs-number">6</span><br><span class="hljs-keyword">YES</span><br><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> m;<br><span class="hljs-keyword">int</span> q[N], hh, tt = <span class="hljs-number">-1</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; m;<br><br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        string op;<br>        <span class="hljs-keyword">int</span> x;<br><br>        cin &gt;&gt; op;<br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;push&quot;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            q[ ++ tt] = x;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;pop&quot;</span>) hh ++ ;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;empty&quot;</span>) cout &lt;&lt; (hh &lt;= tt ? <span class="hljs-string">&quot;NO&quot;</span> : <span class="hljs-string">&quot;YES&quot;</span>) &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> cout &lt;&lt; q[hh] &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br></code></pre></div></td></tr></table></figure><h2 id="è®²è¿°stlçš„é“¾è¡¨ï¼Œæ ˆå’Œé˜Ÿåˆ—"><a href="#è®²è¿°stlçš„é“¾è¡¨ï¼Œæ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="è®²è¿°stlçš„é“¾è¡¨ï¼Œæ ˆå’Œé˜Ÿåˆ—"></a>è®²è¿°stlçš„é“¾è¡¨ï¼Œæ ˆå’Œé˜Ÿåˆ—</h2><p>è¯¾ä¸Šè®²è¿°~~</p><h2 id="å®æˆ˜ï¼š"><a href="#å®æˆ˜ï¼š" class="headerlink" title="å®æˆ˜ï¼š"></a>å®æˆ˜ï¼š</h2><p>åŸè°…æˆ‘æ‰¾ä¸åˆ°å®æˆ˜é¢˜ï¼Œçš„ç¡®æ˜¯è€ƒå•é“¾è¡¨ï¼Œä»–å°±è€ƒåˆ°å›¾å’Œæ ‘ï¼ŒåŒé“¾è¡¨å°±è¦è€ƒåˆ°åˆ«çš„å¾ˆéš¾å¾—çŸ¥è¯†ç‚¹ä¼˜åŒ–ã€‚</p><p>è€ƒé˜Ÿåˆ—å°±ä¼šè€ƒåˆ°bfsï¼Œè€ƒæ ˆå°±ä¼šè€ƒåˆ°dfsã€‚å®³ï¼Œå®åœ¨æ˜¯æ‰¾ä¸å‡ºç®€å•å¾—è£¸é¢˜ï¼ŒæŠŠä¸Šé¢çš„ä¾‹é¢˜æ¨¡æ¿æ•²ç†Ÿäº†å°±å¯ä»¥äº†</p><p>å°±çœ‹å‡ é“ç»ƒä¹ é¢˜æŠŠ~</p><hr><p><strong>è¡¨è¾¾å¼è¿ç®—(æ ˆåœ¨æ•°æ®ç»“æ„è¯¾ä¸­çš„æ ¸å¿ƒåº”ç”¨)</strong></p><blockquote><p>ç»™å®šä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…¶ä¸­è¿ç®—ç¬¦ä»…åŒ…å« <code>+,-,*,/</code>ï¼ˆåŠ  å‡ ä¹˜ æ•´é™¤ï¼‰ï¼Œå¯èƒ½åŒ…å«æ‹¬å·ï¼Œè¯·ä½ æ±‚å‡ºè¡¨è¾¾å¼çš„æœ€ç»ˆå€¼ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>æ•°æ®ä¿è¯ç»™å®šçš„è¡¨è¾¾å¼åˆæ³•ã€‚</li><li>é¢˜ç›®ä¿è¯ç¬¦å· <code>-</code> åªä½œä¸ºå‡å·å‡ºç°ï¼Œä¸ä¼šä½œä¸ºè´Ÿå·å‡ºç°ï¼Œä¾‹å¦‚ï¼Œ<code>-1+2</code>,<code>(2+2)*(-(1+1)+2)</code> ä¹‹ç±»è¡¨è¾¾å¼å‡ä¸ä¼šå‡ºç°ã€‚</li><li>é¢˜ç›®ä¿è¯è¡¨è¾¾å¼ä¸­æ‰€æœ‰æ•°å­—å‡ä¸ºæ­£æ•´æ•°ã€‚</li><li>é¢˜ç›®ä¿è¯è¡¨è¾¾å¼åœ¨ä¸­é—´è®¡ç®—è¿‡ç¨‹ä»¥åŠç»“æœä¸­ï¼Œå‡ä¸è¶…è¿‡ 2^31âˆ’1</li><li>é¢˜ç›®ä¸­çš„æ•´é™¤æ˜¯æŒ‡å‘ 0 å–æ•´ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºå¤§äº 0 çš„ç»“æœå‘ä¸‹å–æ•´ï¼Œä¾‹å¦‚ 5/3=1ï¼Œå¯¹äºå°äº 0 çš„ç»“æœå‘ä¸Šå–æ•´ï¼Œä¾‹å¦‚ 5/(1âˆ’4)=âˆ’1ã€‚</li><li>C++å’ŒJavaä¸­çš„æ•´é™¤é»˜è®¤æ˜¯å‘é›¶å–æ•´ï¼›Pythonä¸­çš„æ•´é™¤<code>//</code>é»˜è®¤å‘ä¸‹å–æ•´ï¼Œå› æ­¤Pythonçš„<code>eval()</code>å‡½æ•°ä¸­çš„æ•´é™¤ä¹Ÿæ˜¯å‘ä¸‹å–æ•´ï¼Œåœ¨æœ¬é¢˜ä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚</li></ul><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œä¸ºç»™å®šè¡¨è¾¾å¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œä¸ºè¡¨è¾¾å¼çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>è¡¨è¾¾å¼çš„é•¿åº¦ä¸è¶…è¿‡ 10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight gcode"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gcode"><span class="hljs-comment">(2+2)</span>*<span class="hljs-comment">(1+1)</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br>stack&lt;<span class="hljs-keyword">int</span>&gt; num;<br>stack&lt;<span class="hljs-keyword">char</span>&gt; op;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">eval</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> b = num.<span class="hljs-built_in">top</span>(); num.<span class="hljs-built_in">pop</span>();<br>    <span class="hljs-keyword">auto</span> a = num.<span class="hljs-built_in">top</span>(); num.<span class="hljs-built_in">pop</span>();<br>    <span class="hljs-keyword">auto</span> c = op.<span class="hljs-built_in">top</span>(); op.<span class="hljs-built_in">pop</span>();<br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;+&#x27;</span>) x = a + b;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;-&#x27;</span>) x = a - b;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;*&#x27;</span>) x = a * b;<br>    <span class="hljs-keyword">else</span> x = a / b;<br>    num.<span class="hljs-built_in">push</span>(x);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    unordered_map&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; pr&#123;&#123;<span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">2</span>&#125;&#125;;<br>    string str;<br>    cin &gt;&gt; str;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">auto</span> c = str[i];<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(c))<br>        &#123;<br>            <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, j = i;<br>            <span class="hljs-keyword">while</span> (j &lt; str.<span class="hljs-built_in">size</span>() &amp;&amp; <span class="hljs-built_in">isdigit</span>(str[j]))<br>                x = x * <span class="hljs-number">10</span> + str[j ++ ] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            i = j - <span class="hljs-number">1</span>;<br>            num.<span class="hljs-built_in">push</span>(x);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span>) op.<span class="hljs-built_in">push</span>(c);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;)&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">while</span> (op.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span>) <span class="hljs-built_in">eval</span>();<br>            op.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">while</span> (op.<span class="hljs-built_in">size</span>() &amp;&amp; op.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp; pr[op.<span class="hljs-built_in">top</span>()] &gt;= pr[c]) <span class="hljs-built_in">eval</span>();<br>            op.<span class="hljs-built_in">push</span>(c);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (op.<span class="hljs-built_in">size</span>()) <span class="hljs-built_in">eval</span>();<br>    cout &lt;&lt; num.<span class="hljs-built_in">top</span>() &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>æ•°æ®ç»“æ„å’Œç®—æ³•ä¸åŒï¼Œæ•°æ®ç»“æ„æ›´åå‘äºä»£ç èƒ½åŠ›ï¼Œå¤§å®¶ä¸€å®šè¦å¤šç»ƒï¼ˆæŒ‡çš„æ˜¯æ‰‹å¤´ä¸Šï¼‰ï¼Œä»Šå¤©çš„è¿™å‡ ä¸ªå†™ç€ç®—æ¯”è¾ƒç®€å•çš„äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ–°æ¦‚å¿µâ€“<strong>é“¾å¼å‘å‰æ˜Ÿ</strong>éœ€è¦å¤§å®¶ç†è§£ã€‚è¿™ä¸ªä¸œè¥¿è™½ç„¶åˆšå­¦èµ·æ¥æ¯”è¾ƒéš¾ï¼Œä¼šå¯¹ä¹‹åçš„å­¦ä¹ ç›Šå¤„ç‰¹åˆ«å¤§~</p><hr><p>æ•°æ®ç»“æ„å¤§æ¦‚ä¼šå°†4-5èŠ‚è¯¾ï¼Œè¦åŠ æ²¹é¸­~ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>æ•°æ®ç»“æ„</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒæŒ‡é’ˆandåŒºé—´åˆå¹¶andç¦»æ•£åŒ–</title>
    <link href="/posts/123566776.html"/>
    <url>/posts/123566776.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰ä¸ºä»‹ç»åŒæŒ‡é’ˆç®—æ³•å’ŒåŒºé—´åˆå¹¶ç®—æ³•</p><span id="more"></span><h1 id="åŒæŒ‡é’ˆç®—æ³•-amp-åŒºé—´åˆå¹¶-amp-ç¦»æ•£åŒ–ç®—æ³•"><a href="#åŒæŒ‡é’ˆç®—æ³•-amp-åŒºé—´åˆå¹¶-amp-ç¦»æ•£åŒ–ç®—æ³•" class="headerlink" title="åŒæŒ‡é’ˆç®—æ³•&amp;åŒºé—´åˆå¹¶&amp;ç¦»æ•£åŒ–ç®—æ³•"></a>åŒæŒ‡é’ˆç®—æ³•&amp;åŒºé—´åˆå¹¶&amp;ç¦»æ•£åŒ–ç®—æ³•</h1><h2 id="åŒæŒ‡é’ˆç®—æ³•ï¼š"><a href="#åŒæŒ‡é’ˆç®—æ³•ï¼š" class="headerlink" title="åŒæŒ‡é’ˆç®—æ³•ï¼š"></a>åŒæŒ‡é’ˆç®—æ³•ï¼š</h2><blockquote><p>å•¥æ˜¯åŒæŒ‡é’ˆç®—æ³•å˜ï¼Ÿä½ ä¸è¯´ä»¥åæŒ‡é’ˆè¿™ä¸ªä¸œè¥¿ä¸æ˜¯ä¸ç”¨å˜›ï¼Ÿæ€ä¹ˆçªç„¶å†’å‡ºæ¥ä¸ªåŒæŒ‡é’ˆç®—æ³•ï¼Ÿ</p></blockquote><p><strong>åŒæŒ‡é’ˆç®—æ³•æ˜¯ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œåˆ©ç”¨ä¸€äº›ç‰¹å®šæ€§è´¨å»æŠŠæš´åŠ›ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½ï¼Œä»è€Œè¾¾åˆ°ä¼˜åŒ–çš„ä½œç”¨ã€‚è¿˜æœ‰å°±æ˜¯æ­¤æŒ‡é’ˆéå½¼æŒ‡é’ˆï¼ŒæŒ‡é’ˆåœ¨ç®—æ³•ä¸­æ˜¯ä¸€ä¸ªå¹¿æ³›çš„å®šä¹‰ï¼Œè€Œä¸å•å•æŒ‡æŒ‡é’ˆæœ¬èº«</strong></p><p>åŒæŒ‡é’ˆç®—æ³•å‘¢åˆ†æˆä¿©ç§ï¼ˆ<strong>ä¸ªäººæ€»ç»“ï¼Œå¹¶æ²¡æœ‰ä¹¦æœ¬è®°è½½ï¼Œæ–¹ä¾¿ç†è§£</strong>ï¼‰</p><ul><li>å•åŒºé—´åŒæŒ‡é’ˆ</li><li>åŒåŒºé—´åŒæŒ‡é’ˆ</li></ul><hr><p>**å…¶å®è¿™ä¹ˆè®²è¿˜æ˜¯è›®æŠ½è±¡çš„å•¦ï¼Œçœ‹ä¸€é“ä¾‹é¢˜å§~**ï¼ˆå•åŒºé—´çš„åŒæŒ‡é’ˆç®—æ³•ï¼‰</p><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºæœ€é•¿çš„ä¸åŒ…å«é‡å¤çš„æ•°çš„è¿ç»­åŒºé—´ï¼Œè¾“å‡ºå®ƒçš„é•¿åº¦ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼ˆå‡åœ¨ 0âˆ¼10^5 èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´æ•°åºåˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€é•¿çš„ä¸åŒ…å«é‡å¤çš„æ•°çš„è¿ç»­åŒºé—´çš„é•¿åº¦ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"> <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> q[N], s[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        s[q[i]] ++ ;<br>        <span class="hljs-keyword">while</span> (s[q[i]] &gt; <span class="hljs-number">1</span>) s[q[j ++ ]] -- ;<br>        res = <span class="hljs-built_in">max</span>(res, i - j + <span class="hljs-number">1</span>);<br>    &#125;<br><br>    cout &lt;&lt; res &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p><strong>ä»oï¼ˆn^2ï¼‰ â€“&gt; o(n)</strong></p><hr><p><strong>å†çœ‹ä¸€é“ä¾‹é¢˜å§~</strong>(åŒåŒºé—´çš„åŒæŒ‡é’ˆç®—æ³•)</p><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ— a1,a2,â€¦,an ä»¥åŠä¸€ä¸ªé•¿åº¦ä¸º mm çš„æ•´æ•°åºåˆ— b1,b2,â€¦,bm</p><p>è¯·ä½ åˆ¤æ–­ a åºåˆ—æ˜¯å¦ä¸º b åºåˆ—çš„å­åºåˆ—ã€‚</p><p>å­åºåˆ—æŒ‡åºåˆ—çš„ä¸€éƒ¨åˆ†é¡¹æŒ‰<strong>åŸæœ‰æ¬¡åºæ’åˆ—</strong>è€Œå¾—çš„åºåˆ—ï¼Œä¾‹å¦‚åºåˆ— {a1,a3,a5} æ˜¯åºåˆ— {a1,a2,a3,a4,a5} çš„ä¸€ä¸ªå­åºåˆ—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n,m</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º a1,a2,â€¦,an</p><p>ç¬¬ä¸‰è¡ŒåŒ…å« m ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º b1,b2,â€¦,bm</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¦‚æœ a åºåˆ—æ˜¯ b åºåˆ—çš„å­åºåˆ—ï¼Œè¾“å‡ºä¸€è¡Œ <code>Yes</code>ã€‚</p><p>å¦åˆ™ï¼Œè¾“å‡º <code>No</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤mâ‰¤10^5<br>âˆ’10^9â‰¤ai,biâ‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">Yes</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> a[N], b[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ ) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b[i]);<br><br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (i &lt; n &amp;&amp; j &lt; m)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (a[i] == b[j]) i ++ ;<br>        j ++ ;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (i == n) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="è¯¥åŒºé—´åˆå¹¶å’¯"><a href="#è¯¥åŒºé—´åˆå¹¶å’¯" class="headerlink" title="è¯¥åŒºé—´åˆå¹¶å’¯~"></a>è¯¥åŒºé—´åˆå¹¶å’¯~</h2><blockquote><p>åŒºé—´åˆå¹¶ï¼Ÿæ˜¯æˆ‘ç†è§£çš„é‚£ä¸ªåŒºé—´åˆå¹¶å˜›ï¼Ÿ</p></blockquote><p><strong>æ˜¯çš„ï¼Œæ­¤åŒºé—´åˆå¹¶å°±æ˜¯å½¼åŒºé—´åˆå¹¶</strong></p><blockquote><p>å•Šï¼Ÿé‚£ä¸æ˜¯å¾ˆç®€å•å˜›ï¼Ÿè¿™ä¹ˆç®€å•ä½ è¿˜è®²ï¼Ÿ</p></blockquote><p><strong>å¥½å®¶ä¼™ï¼Œä½ å†™ä¸€ä¸ªçœ‹çœ‹</strong>ğŸ˜…ğŸ˜…</p><hr><p>å› ä¸ºå¾ˆç®€å•ï¼Œæ¦‚å¿µæ€§çš„é—®é¢˜æˆ‘å°±ä¸è¯´äº†ï¼Œç›´æ¥çœ‹ä¾‹é¢˜å§~</p><hr><blockquote><p>ç»™å®š n ä¸ªåŒºé—´ [li,ri]ï¼Œè¦æ±‚åˆå¹¶æ‰€æœ‰æœ‰äº¤é›†çš„åŒºé—´ã€‚</p><p>æ³¨æ„å¦‚æœåœ¨ç«¯ç‚¹å¤„ç›¸äº¤ï¼Œä¹Ÿç®—æœ‰äº¤é›†ã€‚</p><p>è¾“å‡ºåˆå¹¶å®Œæˆåçš„åŒºé—´ä¸ªæ•°ã€‚</p><p>ä¾‹å¦‚ï¼š[1,3] å’Œ [2,6] å¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªåŒºé—´ [1,6]ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° l å’Œ rã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåˆå¹¶åŒºé—´å®Œæˆåçš„åŒºé—´ä¸ªæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000<br>âˆ’10^9â‰¤liâ‰¤riâ‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">9</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br>vector&lt;PII&gt; q;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;PII&gt; res;<br>    <span class="hljs-built_in">sort</span>(q.<span class="hljs-built_in">begin</span>(), q.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">int</span> st = <span class="hljs-number">-2e9</span>;<br>    <span class="hljs-keyword">int</span> en = <span class="hljs-number">-2e9</span>;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> a : q)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a.x &gt; en)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (st != <span class="hljs-number">-2e9</span>) res.<span class="hljs-built_in">push_back</span>(&#123;st, en&#125;);<br>            st = a.x;<br>            en = a.y;<br>        &#125;    <br>        <span class="hljs-keyword">else</span> en = <span class="hljs-built_in">max</span>(a.y, en);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (st != <span class="hljs-number">-2e9</span>) res.<span class="hljs-built_in">push_back</span>(&#123;st, en&#125;);<br>    <br>    q = res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        <br>        q.<span class="hljs-built_in">push_back</span>(&#123;l, r&#125;);<br>    &#125;<br>    <br>    <span class="hljs-built_in">merge</span>();<br>    <br>    cout &lt;&lt; q.<span class="hljs-built_in">size</span>() &lt;&lt; endl;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><p>å®Œäº‹å•¦ï¼Œç®€å•å§ğŸ˜ğŸ˜ğŸ˜</p><hr><h2 id="ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–</h2><p><strong>ç¦»æ•£åŒ–çš„æœ¬è´¨ï¼Œæ˜¯æ˜ å°„ï¼Œå°†é—´éš”å¾ˆå¤§çš„ç‚¹ï¼Œæ˜ å°„åˆ°ç›¸é‚»çš„æ•°ç»„å…ƒç´ ä¸­ã€‚å‡å°‘å¯¹ç©ºé—´çš„éœ€æ±‚ï¼Œä¹Ÿå‡å°‘è®¡ç®—é‡ã€‚</strong></p><p>çœ‹ä¸€ä¸ªä¾‹é¢˜å°±ä¼šæ˜ç™½äº†~</p><h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><blockquote><p>å‡å®šæœ‰ä¸€ä¸ªæ— é™é•¿çš„æ•°è½´ï¼Œæ•°è½´ä¸Šæ¯ä¸ªåæ ‡ä¸Šçš„æ•°éƒ½æ˜¯ 0ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œ n æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œå°†æŸä¸€ä½ç½® x ä¸Šçš„æ•°åŠ  cã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè¿›è¡Œ m æ¬¡è¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«ä¸¤ä¸ªæ•´æ•° l å’Œ rï¼Œä½ éœ€è¦æ±‚å‡ºåœ¨åŒºé—´ [l,r][l,r] ä¹‹é—´çš„æ‰€æœ‰æ•°çš„å’Œã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° x å’Œ cã€‚</p><p>å†æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° l å’Œ rã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± m è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®ä¸­æ‰€æ±‚çš„åŒºé—´å†…æ•°å­—å’Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>âˆ’10^9â‰¤xâ‰¤10^9<br>1â‰¤n,mâ‰¤10^5<br>âˆ’10^9â‰¤lâ‰¤râ‰¤10^9<br>âˆ’10000â‰¤câ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br>0<br>5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">3e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> a[N], s[N];<br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; alls;<br>vector&lt;PII&gt; add, query;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> r = alls.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(alls[mid] &gt;= x) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>; <br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> l + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">unique</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span>(!i || a[i] != a[i - <span class="hljs-number">1</span>])<br>        &#123;<br>            a[j ++ ] = a[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> j;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x, c;<br>        cin &gt;&gt; x &gt;&gt; c;<br>        <br>        add.<span class="hljs-built_in">push_back</span>(&#123;x, c&#125;);<br>        alls.<span class="hljs-built_in">push_back</span>(x);<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        <br>        query.<span class="hljs-built_in">push_back</span>(&#123;l, r&#125;);<br>        <br>        alls.<span class="hljs-built_in">push_back</span>(l);<br>        alls.<span class="hljs-built_in">push_back</span>(r);<br>    &#125;<br>    <br>    <span class="hljs-built_in">sort</span>(alls.<span class="hljs-built_in">begin</span>(), alls.<span class="hljs-built_in">end</span>());<br>    alls.<span class="hljs-built_in">erase</span>(alls.<span class="hljs-built_in">begin</span>() + <span class="hljs-built_in">unique</span>(alls), alls.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> item : add)<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = <span class="hljs-built_in">find</span>(item.first);<br>        a[x] += item.second;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= alls.<span class="hljs-built_in">size</span>(); i ++ ) s[i] = s[i - <span class="hljs-number">1</span>] + a[i];<br><br>    <span class="hljs-comment">// å¤„ç†è¯¢é—®</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> item : query)<br>    &#123;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-built_in">find</span>(item.first), r = <span class="hljs-built_in">find</span>(item.second);<br>        cout &lt;&lt; s[r] - s[l - <span class="hljs-number">1</span>] &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å®æˆ˜ï¼š"><a href="#å®æˆ˜ï¼š" class="headerlink" title="å®æˆ˜ï¼š"></a>å®æˆ˜ï¼š</h2><p><strong>æ­¤é¢˜æ¥è‡ªç¬¬åå±Šè“æ¡¥æ¯çœèµ›C++A/Bç»„,ç¬¬åå±Šè“æ¡¥æ¯çœèµ›JAVA Aç»„</strong></p><blockquote><p>ç»™å®šä¸€æ£µåŒ…å« N ä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼Œæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºä¾æ¬¡æ˜¯ A1,A2,â‹…â‹…â‹…ANï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.acwing.com/media/article/image/2019/12/05/19_2f0cae5817-QQ%E6%88%AA%E5%9B%BE20191205124611.png" alt="å®Œå…¨äºŒå‰æ ‘.png"></p><p>ç°åœ¨å°æ˜è¦æŠŠç›¸åŒæ·±åº¦çš„èŠ‚ç‚¹çš„æƒå€¼åŠ åœ¨ä¸€èµ·ï¼Œä»–æƒ³çŸ¥é“å“ªä¸ªæ·±åº¦çš„èŠ‚ç‚¹æƒå€¼ä¹‹å’Œæœ€å¤§ï¼Ÿ</p><p>å¦‚æœæœ‰å¤šä¸ªæ·±åº¦çš„æƒå€¼å’ŒåŒä¸ºæœ€å¤§ï¼Œè¯·ä½ è¾“å‡ºå…¶ä¸­æœ€å°çš„æ·±åº¦ã€‚</p><p>æ³¨ï¼šæ ¹çš„æ·±åº¦æ˜¯ 1ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•° A1,A2,â‹…â‹…â‹…ANã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨ç­”æ¡ˆã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤10^5<br>âˆ’10^5â‰¤Aiâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">7</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><p>åŒæŒ‡é’ˆæ–¹æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> tr[N];<br>LL maxv = <span class="hljs-number">-1e18</span>;<br><span class="hljs-keyword">int</span> depth = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; tr[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> d = <span class="hljs-number">1</span>, i = <span class="hljs-number">1</span>; i &lt;= n; d ++ , i *= <span class="hljs-number">2</span>)<br>    &#123;<br>        LL s = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &lt; i + (<span class="hljs-number">1</span> &lt;&lt; d - <span class="hljs-number">1</span>) &amp;&amp; j &lt;= n ; j ++ ) s += tr[j];<br>        <br>        <span class="hljs-keyword">if</span> (s &gt; maxv)<br>        &#123;<br>            depth = d;<br>            maxv = s;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; depth &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>é€’å½’æ–¹æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (u &lt;&lt; 1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (u &lt;&lt; 1 | 1)</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> tr[N];<br><span class="hljs-keyword">int</span> n;<br>LL sum[<span class="hljs-number">25</span>];<br><br>LL maxv = <span class="hljs-number">-1e18</span>;<br><span class="hljs-keyword">int</span> res;<br><span class="hljs-keyword">int</span> c;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <br>    <span class="hljs-keyword">if</span> (u &gt; n) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span> (t &gt; c) c = t;<br>    sum[t] += tr[u];<br>    <span class="hljs-built_in">dfs</span>(lc, t + <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">dfs</span>(rc, t + <span class="hljs-number">1</span>);<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; tr[i];<br> <br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= c; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (maxv &lt; sum[i])<br>        &#123;<br>            res = i;<br>            maxv = sum[i];<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>æ­¤é¢˜æ¥è‡ªusacoï¼ˆç¾å›½ä¿¡æ¯å­¦ç«èµ›ï¼‰çš„ä¸€é“å…¥é—¨é¢˜ç›®</strong></p><blockquote><p>æ¯å¤©æ—©ä¸Š 5 ç‚¹ï¼Œä¸‰åå†œå¤«å»ç‰›åœºç»™å¥¶ç‰›ä»¬æŒ¤å¥¶ã€‚</p><p>ç°åœ¨ä» 5 ç‚¹å¼€å§‹æŒ‰ç§’è®¡æ—¶ï¼Œç¬¬ä¸€åå†œå¤«åœ¨ç¬¬ 300 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬ 1000 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ç¬¬äºŒåå†œå¤«åœ¨ç¬¬ 700 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬ 1200 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ç¬¬ä¸‰åå†œå¤«åœ¨ç¬¬ 1500 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬ 2100 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ä»å¼€å§‹æŒ¤å¥¶åˆ°æŒ¤å¥¶å®Œå…¨ç»“æŸï¼Œè¿™ä¸€æœŸé—´ï¼Œè‡³å°‘å­˜åœ¨ä¸€åå†œå¤«æ­£åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„é•¿åº¦æœ€é•¿ä¸º 900 ç§’ï¼ˆç¬¬ 300 ç§’è‡³ç¬¬ 1200 ç§’ï¼‰ï¼Œå®Œå…¨æ²¡æœ‰ä»»ä½•å†œå¤«åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„é•¿åº¦æœ€é•¿ä¸º 300 ç§’ï¼ˆç¬¬ 1200 ç§’è‡³ç¬¬ 1500 ç§’ï¼‰ã€‚</p><p>ç°åœ¨ç»™ä½  N åå†œå¤«æŒ¤ N å¤´å¥¶ç‰›çš„å·¥ä½œæ—¶é—´è¡¨ï¼Œè¯·ä½ æ±‚å‡ºï¼š</p><ol><li>è‡³å°‘å­˜åœ¨ä¸€åå†œå¤«æ­£åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„æœ€é•¿é•¿åº¦ã€‚</li><li>æ²¡æœ‰ä»»ä½•å†œå¤«åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„æœ€é•¿é•¿åº¦ã€‚</li></ol><p><strong>æ³¨æ„</strong>ï¼šæœ¬é¢˜ä¸­ç»™å‡ºçš„æ‰€æœ‰æ—¶é—´å‡ä¸ºæ—¶åˆ»ï¼ˆæ—¶é—´ç‚¹ï¼‰ï¼Œå› æ­¤åœ¨æœ¬é¢˜ä¸­æŒ¤å¥¶åŒºé—´ [100ï¼Œ200] å’Œ [201,300] ä¸­é—´ä¼šæœ‰é•¿åº¦ä¸º 1 ç§’çš„é—´æ­‡æ—¶é—´ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºå†œå¤«æ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªéè´Ÿæ•´æ•° l,rï¼Œè¡¨ç¤ºå†œå¤«æŒ¤å¥¶çš„å¼€å§‹æ—¶åˆ»å’Œç»“æŸæ—¶åˆ»ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€é•¿è¿ç»­æŒ¤å¥¶æ—¶é—´ä»¥åŠæœ€é•¿è¿ç»­æ— äººæŒ¤å¥¶æ—¶é—´ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤5000</p><p>1â‰¤lâ‰¤râ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">300 </span><span class="hljs-number">1000</span><br><span class="hljs-symbol">700 </span><span class="hljs-number">1200</span><br><span class="hljs-symbol">1500 </span><span class="hljs-number">2100</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">900 </span><span class="hljs-number">300</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">5010</span>;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br>PII q[N];<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">int</span> max_1, max_2;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i].x &gt;&gt; q[i].y;<br>    <br>    <span class="hljs-built_in">sort</span>(q, q + n);<br>    <br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">-2e9</span>, r = <span class="hljs-number">-2e9</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (r &lt; q[i].x)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l != <span class="hljs-number">-2e9</span>)<br>            &#123;<br>            max_2 = <span class="hljs-built_in">max</span>(q[i].x - r, max_2);<br>            max_1 = <span class="hljs-built_in">max</span>(r - l, max_1);<br>            r = q[i].x;<br>            &#125;<br>            <br>        l = q[i].x, r = q[i].y;<br>            <br>        &#125;<br>        <span class="hljs-keyword">else</span> r = <span class="hljs-built_in">max</span>(q[i].y, r);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(l != <span class="hljs-number">-2e9</span>) max_1 = <span class="hljs-built_in">max</span>(r - l, max_1);<br>    <br>    cout &lt;&lt; max_1 &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; max_2 &lt;&lt; endl;    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr>è¿™èŠ‚æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘€ï¼Œæ‰€ä»¥åŒæŒ‡é’ˆå’ŒåŒºé—´åˆå¹¶ä½ ä»¬å­¦ä¼šäº†å˜›ï¼ŸğŸ˜ğŸ˜ğŸ˜]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç¼€å’Œï¼Œå·®åˆ†</title>
    <link href="/posts/3861384037.html"/>
    <url>/posts/3861384037.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰ä½å‰ç¼€å’Œï¼Œå·®åˆ†è®²ä¹‰ï¼Œåœ¨åæœŸçš„å­¦ä¹ ä¸­è‡³å…³é‡è¦</p><span id="more"></span><h1 id="å‰ç¼€å’Œ-amp-å·®åˆ†"><a href="#å‰ç¼€å’Œ-amp-å·®åˆ†" class="headerlink" title="å‰ç¼€å’Œ&amp;å·®åˆ†"></a>å‰ç¼€å’Œ&amp;å·®åˆ†</h1><blockquote><p>å‰ç¼€å’Œ&amp;å·®åˆ†ï¼Œè¿™ä¿©ä¸ªåˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿å‘€ï¼Ÿ</p></blockquote><p><strong>å¦‚æœæƒ³å¼•å‡ºè¿™ä¿©ä¸ªç®—æ³•è¦ä»ä¿©ä¸ªåœºæ™¯å¼€å§‹è¯´èµ·ï¼š</strong></p><blockquote><p>ç°åœ¨å­˜åœ¨è¿™ä¹ˆä¿©ä¸ªåœºæ™¯</p><p>ä½ è¦å¯¹åŒºé—´[l.r]è¯¢é—®sumï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p><p>ä½ è¦å¯¹åŒºé—´[l,r]åŒºé—´éƒ½å¢åŠ ï¼ˆå‡å°‘ï¼‰ä¸€ä¸ªæ•°ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p></blockquote><p><strong>æˆ‘æƒ³ä½ è„‘å­é‡Œçš„é‚£ä¸ªç®—æ³•æ˜¯ä¸æ˜¯o(n)çš„å‘€ï¼Ÿ</strong></p><p>å‰ç¼€å’Œ&amp;å·®åˆ†å¯ä»¥ç”¨oï¼ˆnï¼‰å¤„ç†åæ¯æ­¥o(1)çš„å¤„ç†å°±å¯ä»¥å¯¹ä»–è¿›è¡Œè¿™ä¿©æ­¥æ“ä½œï¼Œæ˜¯ä¸æ˜¯å¾ˆå¼ºå‘€ï¼ŸğŸ˜ğŸ˜</p><h2 id="æ€æƒ³ï¼Ÿ"><a href="#æ€æƒ³ï¼Ÿ" class="headerlink" title="æ€æƒ³ï¼Ÿ"></a>æ€æƒ³ï¼Ÿ</h2><h3 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h3><p>å‰ç¼€å’Œçš„æ€æƒ³å°±æ˜¯ï¼Œå¤„ç†å‡ºä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=nums;i++)&#123;a[i]=a[i<span class="hljs-number">-1</span>]+q[i];&#125;<br></code></pre></div></td></tr></table></figure><p>ç„¶åæ¯ä¸€é¡¹å°±ä»£è¡¨ç€æ˜¯æ‰€æœ‰å‰é¢é¡¹çš„å’Œï¼Œé‚£ä¹ˆè¦æ±‚[l,r]æ˜¯ä¸æ˜¯å°±å¾ˆç®€å•äº†å‘¢ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++">s[r]-s[l - <span class="hljs-number">1</span>]<br></code></pre></div></td></tr></table></figure><p>è¿™å°±å¯ä»¥äº†å‘¢~</p><h3 id="å·®åˆ†"><a href="#å·®åˆ†" class="headerlink" title="å·®åˆ†"></a>å·®åˆ†</h3><p>å·®åˆ†æ€æƒ³å°±æ˜¯ï¼Œå¤„ç†å‡ºä¸€ä¸ªå·®åˆ†æ•°ç»„ï¼š</p><p>è¿™ä¸ªå·®åˆ†æ•°ç»„æ»¡è¶³ä»€ä¹ˆæ€§è´¨å‘¢ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++">b[i] = a[i] - a[i - <span class="hljs-number">1</span>];<br></code></pre></div></td></tr></table></figure><p>å…¶å®å®¹æ˜“å°±ä¼šå‘ç°å·®åˆ†æ•°ç»„æ±‚å®Œå‰ç¼€å’Œå°±æ˜¯åŸæ•°ç»„ï¼Œå‰ç¼€å’Œæ•°ç»„æ±‚å®Œå·®åˆ†å°±æ˜¯åŸæ•°ç»„ã€‚</p><p>å·®åˆ†è¿™ä¸€æ­¥åä½ å°±ä¼šå‘ç°æƒ³åœ¨åŒºé—´[l,r]å†…å¢å‡ä¸€ä¸ªæ•°åªéœ€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++">b[l] += x, b[r + <span class="hljs-number">1</span>] -= x<br></code></pre></div></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥äº†å‘¢~</p><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><h3 id="å‰ç¼€å’Œï¼š"><a href="#å‰ç¼€å’Œï¼š" class="headerlink" title="å‰ç¼€å’Œï¼š"></a>å‰ç¼€å’Œï¼š</h3><blockquote><p>è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥å†è¾“å…¥ m ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®è¾“å…¥ä¸€å¯¹ l,r</p><p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºåŸåºåˆ—ä¸­ä»ç¬¬ l ä¸ªæ•°åˆ°ç¬¬ r ä¸ªæ•°çš„å’Œã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° l å’Œ rï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®çš„åŒºé—´èŒƒå›´ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± m è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤lâ‰¤râ‰¤n<br>1â‰¤n,mâ‰¤100000<br>âˆ’1000â‰¤æ•°åˆ—ä¸­å…ƒç´ çš„å€¼â‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>6<br>10<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> s[N];<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        s[i] = s[i - <span class="hljs-number">1</span>] + v;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        <br>        cout &lt;&lt; s[r] - s[l - <span class="hljs-number">1</span>] &lt;&lt; endl;<br>    &#125; <br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ˜¯ä¸æ˜¯å¤ªç®€å•å•¦ï¼Œè¿˜æ²¡å®Œå‘¢<del>ï¼Œå‰ç¼€å’Œè¿˜æœ‰äºŒç»´çš„å‘€</del></p><hr><h3 id="äºŒç»´å‰ç¼€å’Œï¼š"><a href="#äºŒç»´å‰ç¼€å’Œï¼š" class="headerlink" title="äºŒç»´å‰ç¼€å’Œï¼š"></a>äºŒç»´å‰ç¼€å’Œï¼š</h3><blockquote><p>è¾“å…¥ä¸€ä¸ª n è¡Œ m åˆ—çš„æ•´æ•°çŸ©é˜µï¼Œå†è¾“å…¥ qq ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«å››ä¸ªæ•´æ•° x1,y1,x2,y2è¡¨ç¤ºä¸€ä¸ªå­çŸ©é˜µçš„å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡ã€‚</p><p>å¯¹äºæ¯ä¸ªè¯¢é—®è¾“å‡ºå­çŸ©é˜µä¸­æ‰€æœ‰æ•°çš„å’Œã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° nï¼Œmï¼Œq</p><p>æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å« m ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°çŸ©é˜µã€‚</p><p>æ¥ä¸‹æ¥ q è¡Œï¼Œæ¯è¡ŒåŒ…å«å››ä¸ªæ•´æ•° x1,y1,x2,y2ï¼Œè¡¨ç¤ºä¸€ç»„è¯¢é—®ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± q è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤1000<br>1â‰¤qâ‰¤200000<br>1â‰¤x1â‰¤x2â‰¤n<br>1â‰¤y1â‰¤y2â‰¤m<br>âˆ’1000â‰¤çŸ©é˜µå†…å…ƒç´ çš„å€¼â‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">6</span> <span class="hljs-number">2</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">17<br>27<br>21<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> n, m, k;<br><span class="hljs-keyword">int</span> s[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> v;<br>            cin &gt;&gt; v;<br>            <br>            s[i][j] = s[i - <span class="hljs-number">1</span>][j] + s[i][j - <span class="hljs-number">1</span>] - s[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + v;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (k -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x1, y1, x2, y2;<br>        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;<br>        <br>        cout &lt;&lt; (s[x2][y2] - s[x1 - <span class="hljs-number">1</span>][y2] - s[x2][y1 - <span class="hljs-number">1</span>] + s[x1 - <span class="hljs-number">1</span>][y1 - <span class="hljs-number">1</span>]) &lt;&lt; endl;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="å·®åˆ†ï¼š"><a href="#å·®åˆ†ï¼š" class="headerlink" title="å·®åˆ†ï¼š"></a>å·®åˆ†ï¼š</h3><blockquote><p>è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥è¾“å…¥ m ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåŒ…å«ä¸‰ä¸ªæ•´æ•° l,r,cï¼Œè¡¨ç¤ºå°†åºåˆ—ä¸­ [l,r][l,r] ä¹‹é—´çš„æ¯ä¸ªæ•°åŠ ä¸Š cã€‚</p><p>è¯·ä½ è¾“å‡ºè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåçš„åºåˆ—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° lï¼Œrï¼Œcï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å« nn ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€ç»ˆåºåˆ—ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤100000<br>1â‰¤lâ‰¤râ‰¤n<br>âˆ’1000â‰¤câ‰¤1000<br>âˆ’1000â‰¤æ•´æ•°åºåˆ—ä¸­å…ƒç´ çš„å€¼â‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">6 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">5</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">6</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    q[l] += x;<br>    q[r + <span class="hljs-number">1</span>] -= x; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        <span class="hljs-built_in">add</span>(i, i, v);<br>    &#125; <br>    <br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        <br>        <span class="hljs-built_in">add</span>(a, b, c);<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        q[i] += q[i - <span class="hljs-number">1</span>];<br>        cout &lt;&lt; q[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªè¿˜æ˜¯ç®€å•çš„ï¼Œå…ˆåˆ«é«˜å…´å¤ªæ—©ï¼Œå·®åˆ†ä¹Ÿæœ‰äºŒç»´çš„ï¼š</p><hr><h3 id="äºŒç»´å·®åˆ†"><a href="#äºŒç»´å·®åˆ†" class="headerlink" title="äºŒç»´å·®åˆ†"></a>äºŒç»´å·®åˆ†</h3><blockquote><p>è¾“å…¥ä¸€ä¸ª n è¡Œ m åˆ—çš„æ•´æ•°çŸ©é˜µï¼Œå†è¾“å…¥ q ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåŒ…å«äº”ä¸ªæ•´æ•° x1,y1,x2,y2,cï¼Œå…¶ä¸­ (x1,y1)å’Œ (x2,y2ï¼‰ è¡¨ç¤ºä¸€ä¸ªå­çŸ©é˜µçš„å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡ã€‚</p><p>æ¯ä¸ªæ“ä½œéƒ½è¦å°†é€‰ä¸­çš„å­çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ çš„å€¼åŠ ä¸Š cã€‚</p><p>è¯·ä½ å°†è¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåçš„çŸ©é˜µè¾“å‡ºã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n,m,q</p><p>æ¥ä¸‹æ¥n è¡Œï¼Œæ¯è¡ŒåŒ…å« m ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°çŸ©é˜µã€‚</p><p>æ¥ä¸‹æ¥ q è¡Œï¼Œæ¯è¡ŒåŒ…å« 5 ä¸ªæ•´æ•° x1,y1,x2,y2,cè¡¨ç¤ºä¸€ä¸ªæ“ä½œã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± n è¡Œï¼Œæ¯è¡Œ m ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰æ“ä½œè¿›è¡Œå®Œæ¯•åçš„æœ€ç»ˆçŸ©é˜µã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤n,mâ‰¤1000<br>1â‰¤qâ‰¤100000<br>1â‰¤x1â‰¤x2â‰¤n<br>1â‰¤y1â‰¤y2â‰¤m<br>âˆ’1000â‰¤câ‰¤1000<br>âˆ’1000â‰¤çŸ©é˜µå†…å…ƒç´ çš„å€¼â‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><br><span class="hljs-keyword">int</span> s[N][N];<br><span class="hljs-keyword">int</span> n, m, k;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x1, <span class="hljs-keyword">int</span> y1, <span class="hljs-keyword">int</span> x2, <span class="hljs-keyword">int</span> y2, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    s[x1][y1] += c;<br>    s[x2 + <span class="hljs-number">1</span>][y2 + <span class="hljs-number">1</span>] += c;<br>    s[x2 + <span class="hljs-number">1</span>][y1] -= c;<br>    s[x1][y2 + <span class="hljs-number">1</span>] -= c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">int</span> v;<br>            cin &gt;&gt; v;<br>            <span class="hljs-built_in">add</span>(i, j, i, j, v);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (k -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x1, y1, x2, y2, v;<br>        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; v;<br>        <span class="hljs-built_in">add</span>(x1, y1, x2, y2, v);<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            s[i][j] += s[i - <span class="hljs-number">1</span>][j] + s[i][j - <span class="hljs-number">1</span>] - s[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>]; <br>            cout &lt;&lt; s[i][j] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>        &#125;<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h2 id="å®æˆ˜ï¼š"><a href="#å®æˆ˜ï¼š" class="headerlink" title="å®æˆ˜ï¼š"></a>å®æˆ˜ï¼š</h2><p>â€˜<strong>æ­¤é¢˜æ¥è‡ªHNOIï¼ˆæ¹–å—çœé€‰é¢˜ï¼‰</strong></p><blockquote><p>åœ°å›¾ä¸Šæœ‰ N ä¸ªç›®æ ‡ï¼Œç”¨æ•´æ•° Xi,Yi è¡¨ç¤ºç›®æ ‡åœ¨åœ°å›¾ä¸Šçš„ä½ç½®ï¼Œæ¯ä¸ªç›®æ ‡éƒ½æœ‰ä¸€ä¸ªä»·å€¼ Wiã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä¸åŒç›®æ ‡å¯èƒ½åœ¨åŒä¸€ä½ç½®ã€‚</p><p>ç°åœ¨æœ‰ä¸€ç§æ–°å‹çš„æ¿€å…‰ç‚¸å¼¹ï¼Œå¯ä»¥æ‘§æ¯ä¸€ä¸ªåŒ…å« RÃ—R ä¸ªä½ç½®çš„æ­£æ–¹å½¢å†…çš„æ‰€æœ‰ç›®æ ‡ã€‚</p><p>æ¿€å…‰ç‚¸å¼¹çš„æŠ•æ”¾æ˜¯é€šè¿‡å«æ˜Ÿå®šä½çš„ï¼Œä½†å…¶æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯å…¶çˆ†ç‚¸èŒƒå›´ï¼Œå³é‚£ä¸ªæ­£æ–¹å½¢çš„è¾¹å¿…é¡»å’Œ xï¼Œy è½´å¹³è¡Œã€‚</p><p>æ±‚ä¸€é¢—ç‚¸å¼¹æœ€å¤šèƒ½ç‚¸æ‰åœ°å›¾ä¸Šæ€»ä»·å€¼ä¸ºå¤šå°‘çš„ç›®æ ‡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ­£æ•´æ•° N å’Œ Rï¼Œåˆ†åˆ«ä»£è¡¨åœ°å›¾ä¸Šçš„ç›®æ ‡æ•°ç›®å’Œæ­£æ–¹å½¢çš„è¾¹é•¿ï¼Œæ•°æ®ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®åŒ…æ‹¬ä¸‰ä¸ªæ•´æ•° Xi,Yi,Wiåˆ†åˆ«ä»£è¡¨ç›®æ ‡çš„ x åæ ‡ï¼Œy åæ ‡å’Œä»·å€¼ï¼Œæ•°æ®ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œä»£è¡¨ä¸€é¢—ç‚¸å¼¹æœ€å¤šèƒ½ç‚¸æ‰åœ°å›¾ä¸Šç›®æ ‡çš„æ€»ä»·å€¼æ•°ç›®ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>0â‰¤Râ‰¤10^9<br>0&lt;Nâ‰¤10000<br>0â‰¤Xi,Yiâ‰¤5000<br>0â‰¤Wiâ‰¤1000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">5000</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> q[N][N];<br><span class="hljs-keyword">int</span> cnt, r;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; cnt &gt;&gt; r;<br>    <br>    r = <span class="hljs-built_in">min</span>(<span class="hljs-number">5001</span>, r);<br>    <br>    <span class="hljs-keyword">int</span> n = r, m = r;<br>    <br>    <br>    <span class="hljs-keyword">while</span> (cnt -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x, y, v;<br>        cin &gt;&gt; x &gt;&gt; y &gt;&gt; v;<br>        <br>        x ++ , y ++ ; <br>        <br>        n = <span class="hljs-built_in">max</span>(x, n);<br>        m = <span class="hljs-built_in">max</span>(y, m);<br>        <br>        q[x][y] += v;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j ++ )<br>        &#123;<br>            q[i][j] += q[i - <span class="hljs-number">1</span>][j] + q[i][j - <span class="hljs-number">1</span>] - q[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = r; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = r; j &lt;= m; j ++ )<br>        &#123;<br>            res = <span class="hljs-built_in">max</span>(res, q[i][j] + q[i - r][j - r] - q[i - r][j] - q[i][j - r]);<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p><strong>æ­¤é¢˜æ¥è‡ªç¬¬å…«å±Šè“æ¡¥æ¯çœèµ›c++/javaçš„bç»„</strong></p><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º NN çš„æ•°åˆ—ï¼ŒA1,A2,â€¦ANå¦‚æœå…¶ä¸­ä¸€æ®µè¿ç»­çš„å­åºåˆ— Ai,Ai+1,â€¦Ajä¹‹å’Œæ˜¯ K çš„å€æ•°ï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸ªåŒºé—´ [i,j] æ˜¯ K å€åŒºé—´ã€‚</p><p>ä½ èƒ½æ±‚å‡ºæ•°åˆ—ä¸­æ€»å…±æœ‰å¤šå°‘ä¸ª K å€åŒºé—´å—ï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Kã€‚</p><p>ä»¥ä¸‹ N è¡Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Aiã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨ K å€åŒºé—´çš„æ•°ç›®ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Kâ‰¤100000<br>1â‰¤Aiâ‰¤100000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">2</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-number">4</span><br><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br>LL s[N];<br><span class="hljs-keyword">int</span> cnt[N];<br><br><span class="hljs-keyword">int</span> n, k; <br>LL res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        s[i] = s[i - <span class="hljs-number">1</span>] + v;<br>    &#125;<br>    <br>    cnt[<span class="hljs-number">0</span>] ++ ;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        res += cnt[s[i] % k];<br>        cnt[s[i] % k] ++ ;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>è¿™ä¸€èŠ‚çš„çŸ¥è¯†ä»£ç é‡æ˜¯ä¸å¤§çš„ï¼Œä½†æ˜¯è¦éå¸¸çš„æ³¨é‡ç†è§£ï¼Œå› ä¸ºè¿™ç±»é¢˜ç†è§£éš¾åº¦ä¸Šæœ‰ä¸€äº›éš¾åº¦ï¼Œæ‰€ä»¥è¦æ³¨é‡ç†è§£ã€‚å¤šå»ç»ƒä¹ ï¼Œå°±ä¼šå˜å¾—ç†Ÿç»ƒğŸ˜ŠğŸ˜ŠğŸ˜Š</p><p>æ­¤èŠ‚ä½œä¸ºä¹‹åç®—æ³•å†…å®¹çš„åŸºç¡€ï¼Œå¯¹äºä»¥åçš„å­¦ä¹ ç”±è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œä¸€å®šè¦ç†è§£å“ˆ~</p><hr><p>æ‰€ä»¥ï¼Œå‰ç¼€å’Œandå·®åˆ†ä½ éƒ½å­¦ä¼šäº†å—ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜ç²¾åº¦</title>
    <link href="/posts/1237449692.html"/>
    <url>/posts/1237449692.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†ä¸»è¦åˆ†äº«c++é«˜ç²¾åº¦çš„å†™æ³•ï¼Œä¹Ÿä¼šé™„å¸¦javaçš„é«˜ç²¾åº¦å†™æ³•</p><span id="more"></span><h1 id="é«˜ç²¾åº¦"><a href="#é«˜ç²¾åº¦" class="headerlink" title="é«˜ç²¾åº¦"></a>é«˜ç²¾åº¦</h1><p>æœ‰äººçœ‹åˆ°æˆ‘è®²c++é«˜ç²¾åº¦ï¼Œå¯èƒ½ä¼šè¯´ï¼š</p><blockquote><p>ä½ åœ¨è®²ä¸ªä»€ä¹ˆä¸œè¥¿å‘€ï¼Ÿè°å†™é«˜ç²¾è¿˜ç”¨c++ï¼Ÿ<strong>çœŸæ˜¯å®³äººä¸æµ…</strong>ï¼Œèµ¶ç´§æ‰¾ä¸ªç­ä¸Šå§</p></blockquote><hr><p>è¯´ä¸€è¯´æˆ‘çš„æƒ³æ³•å§ï¼š</p><p><code>å³ä½¿ä¹‹åçš„æˆ‘ä»¬ä¸ä¼šä½¿ç”¨c++å»å†™é«˜ç²¾ï¼Œæˆ‘ä¸ºå•¥è¿˜è¦è®²å‘¢ã€‚æ˜¯å› ä¸ºçš„ç¡®å†™é«˜ç²¾çš„codingæ€æƒ³å’Œä¸€äº›æŠ€å·§çš„å¤„ç†ï¼Œå¯¹åˆå…¥ç®—æ³•çš„äººæ¥è¯´ä¼šæœ‰ä¸€ä¸ªæŒ‡å¯¼ä½œç”¨ï¼Œå¹¶ä¸”å¯¹codingèƒ½åŠ›ä¹Ÿæœ‰æé«˜ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è®²c++é«˜ç²¾çš„ç†ç”±ã€‚</code></p><hr><p><strong>å¥½äº†ï¼Œè§£é‡Šæ¸…æ¥šäº†ä¸ºå•¥è¦è®²è¿™ä¸ªä¸œè¥¿ï¼Œé‚£ä¹ˆæˆ‘å°±è¯¥è¯´è¿™ä¸œè¥¿æœ‰å•¥ç”¨äº†ã€‚</strong></p><blockquote><p>å¤§å®¶ä¼šå‘ç°intç±»å‹ï¼ˆç”šè‡³longlongï¼‰ä¹Ÿå°±æœ€å¤šåªèƒ½è¡¨ç¤ºå‡º10ä½æ•°å­—ï¼ˆ20ä½ï¼‰è€Œå·²ï¼Œè¿™å°±å¯¹æˆ‘ä»¬è¿™ç§èº«ä»·ï¼ˆ100ä½æ•°ï¼‰çš„äººå­˜é’±ç²¾åº¦å°±ä¸å¤Ÿäº†ï¼Œå¯¹å§ï¼ŸğŸ˜ğŸ˜</p><p>è¿™æ—¶å¤§å®¶ä¼šæƒ³ï¼Œåƒè¿™ç§å¤§æ•´æ•°æ€ä¹ˆå»è®°å½•å‘¢ï¼Ÿ</p><p>è‡³æ­¤é«˜ç²¾åº¦ç®—æ³•æ¨ªç©ºå‡ºä¸–ï¼Œè¿™ä¹Ÿå°±æ˜¯é«˜ç²¾åº¦çš„æ¥å†</p></blockquote><hr><h2 id="å†™é«˜ç²¾åº¦çš„æ€æƒ³ï¼Ÿ"><a href="#å†™é«˜ç²¾åº¦çš„æ€æƒ³ï¼Ÿ" class="headerlink" title="å†™é«˜ç²¾åº¦çš„æ€æƒ³ï¼Ÿ"></a>å†™é«˜ç²¾åº¦çš„æ€æƒ³ï¼Ÿ</h2><blockquote><p>å…¶å®è¿™ä¸ªè®¡ç®—å¤§æ•´æ•°çš„æ€æƒ³å°±æ˜¯æˆ‘ä»¬<strong>å°å­¦</strong>åˆ—ç«–å¼çš„æ€æƒ³ï¼Œåˆ©ç”¨æ•°ç»„æ¥å­˜å‚¨æ¯ä¸€ä½æ•°ï¼Œå¯¹æ¯ä¸€ä½æ•°é€ä¸ªè¿›è¡ŒåŠ å‡æˆ–ä¹˜é™¤ï¼Œè¿›ä½ï¼Œä»è€Œç®—å‡ºæœ€åçš„ç»“æœå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œæœ€åè¾“å‡ºã€‚</p></blockquote><p>å…¶å®å¾ˆç®€å•å•¦~ï¼Œå¤§å®¶ä¸€èµ·çœ‹çœ‹ä¾‹é¢˜å’Œä»£ç å§ğŸ˜€ğŸ˜€</p><hr><h2 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h2><h3 id="é«˜ç²¾åº¦åŠ æ³•ï¼š"><a href="#é«˜ç²¾åº¦åŠ æ³•ï¼š" class="headerlink" title="é«˜ç²¾åº¦åŠ æ³•ï¼š"></a><strong>é«˜ç²¾åº¦åŠ æ³•</strong>ï¼š</h3><blockquote><p>ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼ˆä¸å«å‰å¯¼ 0ï¼‰ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ‰€æ±‚çš„å’Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤æ•´æ•°é•¿åº¦â‰¤100000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">12<br>23<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">35<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; A, B;<br><br>string a, b;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (x % p + p) % p;<br>&#125;<br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">add</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; a, vector&lt;<span class="hljs-keyword">int</span>&gt; b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (a.<span class="hljs-built_in">size</span>() &lt; b.<span class="hljs-built_in">size</span>()) <span class="hljs-keyword">return</span> <span class="hljs-built_in">add</span>(b, a);<br>    <br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; c;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        t += a[i];<br>        <span class="hljs-keyword">if</span> (i &lt; b.<span class="hljs-built_in">size</span>()) t += b[i];<br>        c.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>      <br>    &#125;<br>    <br>    <br>    <span class="hljs-keyword">return</span> c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = b.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) B.<span class="hljs-built_in">push_back</span>(b[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">add</span>(A, B);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        cout &lt;&lt; C[i];<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;<br>        Scanner scanner =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        BigInteger a=scanner.nextBigInteger();<br>        BigInteger b=scanner.nextBigInteger();<br>        System.out.print(a.add(b).toString());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é«˜ç²¾åº¦å‡æ³•ï¼š"><a href="#é«˜ç²¾åº¦å‡æ³•ï¼š" class="headerlink" title="é«˜ç²¾åº¦å‡æ³•ï¼š"></a>é«˜ç²¾åº¦å‡æ³•ï¼š</h3><blockquote><p>ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼ˆä¸å«å‰å¯¼ 0ï¼‰ï¼Œè®¡ç®—å®ƒä»¬çš„å·®ï¼Œè®¡ç®—ç»“æœå¯èƒ½ä¸ºè´Ÿæ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ‰€æ±‚çš„å·®ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤æ•´æ•°é•¿åº¦â‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">32<br>11<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">21<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; A, B;<br>string a, b;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a, vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n = a.<span class="hljs-built_in">size</span>(), m = b.<span class="hljs-built_in">size</span>();<br>    <br>    <span class="hljs-keyword">if</span> (n != m) <span class="hljs-keyword">return</span> n &gt; m;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[i] != b[i]) <span class="hljs-keyword">return</span> a[i] &gt; b[i];<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mod</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (x % p + p) % p;<br>&#125;<br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">sub</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a, vector&lt;<span class="hljs-keyword">int</span>&gt; b)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; C;<br>    <br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">size</span>(); i ++ )<br>    &#123;<br>        t = a[i] - t;<br>        <br>        <span class="hljs-keyword">if</span> (i &lt; b.<span class="hljs-built_in">size</span>()) t -= b[i];<br>        <br>        C.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">mod</span>(t, <span class="hljs-number">10</span>));<br>    <br>        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">0</span>) t = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> t = <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (C.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; C.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) C.<span class="hljs-built_in">pop_back</span>();<br>    <br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = b.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) B.<span class="hljs-built_in">push_back</span>(b[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <br>    vector&lt;<span class="hljs-keyword">int</span>&gt; C;<br>    <br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">cmp</span>(A, B)) C = <span class="hljs-built_in">sub</span>(A, B);<br>    <span class="hljs-keyword">else</span> <br>    &#123;<br>        C = <span class="hljs-built_in">sub</span>(B, A);<br>        cout &lt;&lt; <span class="hljs-string">&#x27;-&#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) cout &lt;&lt; C[i];<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span> <span class="hljs-keyword">throws</span> IOException</span>&#123;<br>        BufferedReader reader=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        String sa=reader.readLine();<br>        String sb=reader.readLine();<br>        BigInteger a=<span class="hljs-keyword">new</span> BigInteger(sa);<br>        BigInteger b=<span class="hljs-keyword">new</span> BigInteger(sb);<br>        System.out.print(a.subtract(b).toString());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é«˜ç²¾åº¦ä¹˜æ³•ï¼š"><a href="#é«˜ç²¾åº¦ä¹˜æ³•ï¼š" class="headerlink" title="é«˜ç²¾åº¦ä¹˜æ³•ï¼š"></a>é«˜ç²¾åº¦ä¹˜æ³•ï¼š</h3><p><strong>åœ¨å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ç”¨ä¸åˆ°ï¼ˆ99.9999%ï¼‰é«˜ç²¾åº¦ * é«˜ç²¾åº¦ï¼Œå‡ ä¹éƒ½æ˜¯é«˜ç²¾åº¦ * ä½ç²¾åº¦ï¼Œ æ‰€ä»¥ä¹Ÿåªè®²æˆåè€…</strong></p><blockquote><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•°ï¼ˆä¸å«å‰å¯¼ 0ï¼‰ A å’Œ Bï¼Œè¯·ä½ è®¡ç®— AÃ—B çš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° AAï¼Œç¬¬äºŒè¡ŒåŒ…å«æ•´æ•° Bã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å« AÃ—B çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Açš„é•¿åº¦â‰¤100000<br>0â‰¤Bâ‰¤10000</p><p>è¾“å…¥æ ·ä¾‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>3<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br>vector&lt;<span class="hljs-keyword">int</span>&gt; A, B;<br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">mul</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n = a.<span class="hljs-built_in">size</span>();<br>    <br>    vector&lt;<span class="hljs-keyword">int</span>&gt; c;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        t += a[i] * b;<br>        c.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(t) c.<span class="hljs-built_in">push_back</span>(t);<br>    <br>    <span class="hljs-keyword">while</span> (c.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; c.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) c.<span class="hljs-built_in">pop_back</span>();<br>    <br>    <span class="hljs-keyword">return</span> c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string a;<br>    <span class="hljs-keyword">int</span> b;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">mul</span>(A, b);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) cout &lt;&lt; C[i];<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;<br>        BufferedReader reader=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));<br>        System.out.print(<span class="hljs-keyword">new</span> BigInteger(reader.readLine()).multiply(<span class="hljs-keyword">new</span> BigInteger(reader.readLine())).toString());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="é«˜ç²¾åº¦é™¤æ³•ï¼š"><a href="#é«˜ç²¾åº¦é™¤æ³•ï¼š" class="headerlink" title="é«˜ç²¾åº¦é™¤æ³•ï¼š"></a>é«˜ç²¾åº¦é™¤æ³•ï¼š</h3><p><strong>åœ¨å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ç”¨ä¸åˆ°ï¼ˆ99.9999%ï¼‰é«˜ç²¾åº¦ / é«˜ç²¾åº¦ï¼Œå‡ ä¹éƒ½æ˜¯é«˜ç²¾åº¦ / ä½ç²¾åº¦ï¼Œ æ‰€ä»¥ä¹Ÿåªè®²æˆåè€…</strong></p><blockquote><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•°ï¼ˆä¸å«å‰å¯¼ 0ï¼‰ Aï¼ŒBï¼Œè¯·ä½ è®¡ç®— A/B çš„å•†å’Œä½™æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Aï¼Œç¬¬äºŒè¡ŒåŒ…å«æ•´æ•° Bã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œè¾“å‡ºæ‰€æ±‚çš„å•†ï¼Œç¬¬äºŒè¡Œè¾“å‡ºæ‰€æ±‚ä½™æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Açš„é•¿åº¦â‰¤100000<br>1â‰¤Bâ‰¤100001â‰¤Bâ‰¤10000,<br>B ä¸€å®šä¸ä¸º 0</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">7<br>2<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br>1<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">divide</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> &amp;r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n = a.<span class="hljs-built_in">size</span>();<br>    <br>    vector&lt;<span class="hljs-keyword">int</span>&gt; c; <br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        r = r * <span class="hljs-number">10</span> + a[i];<br>        c.<span class="hljs-built_in">push_back</span>(r / b);<br>        r %= b;<br>    &#125;<br>    <br>    <span class="hljs-built_in">reverse</span>(c.<span class="hljs-built_in">begin</span>(), c.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">while</span> (c.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; c.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) c.<span class="hljs-built_in">pop_back</span>();<br>    <br>    <span class="hljs-keyword">return</span> c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string a;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; A;<br>    <span class="hljs-keyword">int</span> b;<br>    <br>    cin &gt;&gt; a &gt;&gt; b;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">divide</span>(A, b, r);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- ) cout &lt;&lt; C[i];<br>    <br>    cout &lt;&lt; endl &lt;&lt; r &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span>&#123;<br>        Scanner scanner =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        BigInteger a=scanner.nextBigInteger();<br>        BigInteger b=scanner.nextBigInteger();<br>        BigInteger []d=a.divideAndRemainder(b);<br>        System.out.print(d[<span class="hljs-number">0</span>]+<span class="hljs-string">&quot;\n&quot;</span>+d[<span class="hljs-number">1</span>]);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>javaå†™é«˜ç²¾ä»¥åä¹Ÿæ˜¯ä¼šæ•™çš„ï¼Œç°åœ¨çš„ç›®æ ‡æ˜¯å¤§å®¶çš„ç¼–ç¨‹èƒ½åŠ›æå‡ä¸Šæ¥ï¼Œæ‰€ä»¥å¤§å®¶è¦å¤šå†™å‡ éé«˜ç²¾åº¦çš„åŠ å‡ä¹˜é™¤å‘€ï¼Œæ¯•ç«Ÿé‡Œé¢çš„å‡ ä¸ªæŠ€å·§ä¼šåœ¨ä¹‹åå¾ˆå¤šç±»å‹çš„ç®—æ³•å’Œé¢˜ç›®ä¸Šä¼šç”¨åˆ°ã€‚</p><p>å®Œäº‹å’¯ï¼Œè®°å¾—å¤šç†Ÿæ‚‰ç†Ÿæ‚‰é«˜ç²¾åº¦åŠ å‡ä¹˜é™¤çš„æ¨¡æ¿ï¼Œå¤šç»ƒä¹ å‘€~ğŸ˜€ğŸ˜€ğŸ˜€</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«æ’ï¼Œå½’å¹¶ï¼ŒäºŒåˆ†</title>
    <link href="/posts/1033444265.html"/>
    <url>/posts/1033444265.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬è®²ä¹‰æ˜¯ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„ç¬¬ä¸€èŠ‚è¯¾è®²ä¹‰ï¼Œå°†è®²è¿°å¿«æ’ï¼Œå½’å¹¶æ’åºå’ŒäºŒåˆ†</p><span id="more"></span><h1 id="ç¬¬ä¸€æ¬¡è¯¾"><a href="#ç¬¬ä¸€æ¬¡è¯¾" class="headerlink" title="ç¬¬ä¸€æ¬¡è¯¾"></a>ç¬¬ä¸€æ¬¡è¯¾</h1><h2 id="å¿«æ’-amp-å½’å¹¶"><a href="#å¿«æ’-amp-å½’å¹¶" class="headerlink" title="å¿«æ’&amp;å½’å¹¶"></a>å¿«æ’&amp;å½’å¹¶</h2><p>å› ä¸ºä¹‹å‰æœ‰å†™è¿‡å½’å¹¶å’Œå¿«æ’ï¼Œå°±è·³è¿‡å’¯~ <a href="https://jxj777.top/posts/775143932.html">é“¾æ¥åœ¨è¿™</a></p><h2 id="äºŒåˆ†"><a href="#äºŒåˆ†" class="headerlink" title="äºŒåˆ†"></a>äºŒåˆ†</h2><blockquote><p>å¤§å®¶å¯¹äºŒåˆ†çš„åˆ»æ¿å°è±¡å°±æ˜¯ï¼ŒäºŒåˆ†åªèƒ½è§£å†³æŸ¥æ‰¾é—®é¢˜ï¼Œåœ¨ä¸€æ®µåºåˆ—æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šçš„æ•°ï¼Œ<strong>å…¶å®ä¸ç„¶</strong>ã€‚</p><p>äºŒåˆ†å…¶å®å¯ä»¥è§£å†³ä¸€å¤§ç±»é—®é¢˜ï¼Œè€Œä¸”äºŒåˆ†åœ¨ç®—æ³•ç«èµ›ä¸­ä¹Ÿå°¤ä¸ºé‡è¦ï¼Œé‚£ä¹ˆä»–èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><p>è§£å†³çš„æ˜¯<strong>äºŒæ®µæ€§</strong>é—®é¢˜ï¼Œåªè¦å­˜åœ¨äºŒæ®µæ€§é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨äºŒåˆ†æ¥è§£å†³ã€‚</p></blockquote><hr><h3 id="é‚£å•¥æ˜¯äºŒæ®µæ€§å‘€ï¼Ÿ"><a href="#é‚£å•¥æ˜¯äºŒæ®µæ€§å‘€ï¼Ÿ" class="headerlink" title="é‚£å•¥æ˜¯äºŒæ®µæ€§å‘€ï¼Ÿ"></a>é‚£å•¥æ˜¯äºŒæ®µæ€§å‘€ï¼Ÿ</h3><p>å°±æ˜¯ç»™å®šä¸€ä¸ªæ¡ä»¶æ—¶ï¼Œä¿©è¾¹å‘ˆç°ä¿©ä¸ªçŠ¶æ€ï¼Œä¸”åªæœ‰è¿™ä¿©ä¸ªçŠ¶æ€ã€‚</p><h3 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h3><ul><li>å°±ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥è¯´å§ï¼š ç»™å®šä¸€ä¸ªå€¼ä¾›ä½ å»å¯»æ‰¾ï¼Œé‚£ä¹ˆè¿™ä¸ªæ’å¥½åºçš„å·¦è¾¹å°±æ˜¯æ¯”è¿™ä¸ªæ•°å°ï¼Œå³è¾¹å°±æ˜¯æ¯”å®ƒå¤§ï¼Œè¿™æ ·å°±æ•´ä¸ªåºåˆ—å°±å‘ˆç°äº†äºŒæ®µæ€§ã€‚</li><li>æˆ–è®©ä½ åœ¨ä¸€ä¸ªåªæœ‰ä¸€ä¸ªæ ¹çš„å‡½æ•°ä¸Šå¯»æ‰¾æ ¹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ¹çš„å·¦å³ä¿©ä¾§å€¼ç›¸ä¹˜å°äºé›¶ï¼ŒåŒä¾§å¤§äºé›¶</li><li>ç­‰ç­‰ç­‰ç­‰</li></ul><p>äºŒåˆ†çš„åº”ç”¨æ€§çœŸçš„å¾ˆå¹¿æ³›ï¼Œä¸å¾—ä¸è¯´äºŒåˆ†å·²ç»æˆä¸ºå¿…é¡»è¦æŒæ¡çš„ä¸€ä¸ªç®—æ³•äº†ã€‚</p><h3 id="ä»£ç å’‹å†™å‘¢ï¼š"><a href="#ä»£ç å’‹å†™å‘¢ï¼š" class="headerlink" title="ä»£ç å’‹å†™å‘¢ï¼š"></a>ä»£ç å’‹å†™å‘¢ï¼š</h3><p>æˆ‘ä»¬çš„äºŒåˆ†åˆåˆ†æˆ<strong>æ•´æ•°äºŒåˆ†</strong>å’Œ<strong>æµ®ç‚¹æ•°äºŒåˆ†</strong></p><h4 id="æ•´æ•°äºŒåˆ†ï¼š"><a href="#æ•´æ•°äºŒåˆ†ï¼š" class="headerlink" title="æ•´æ•°äºŒåˆ†ï¼š"></a>æ•´æ•°äºŒåˆ†ï¼š</h4><p>æ•´æ•°äºŒåˆ†çš„ä»£ç æœ‰ä¿©ä¸ªæ¨¡æ¿ï¼Œåˆ†åˆ«å¯¹åº”ç€ä¿©ä¸ªä¸åŒæƒ…å†µ</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bsearch_1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) r = mid;    <span class="hljs-comment">// check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨</span><br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> l;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bsearch_2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) l = mid;<br>        <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> l;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="æµ®ç‚¹æ•°äºŒåˆ†ï¼š"><a href="#æµ®ç‚¹æ•°äºŒåˆ†ï¼š" class="headerlink" title="æµ®ç‚¹æ•°äºŒåˆ†ï¼š"></a>æµ®ç‚¹æ•°äºŒåˆ†ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">bsearch_3</span><span class="hljs-params">(<span class="hljs-keyword">double</span> l, <span class="hljs-keyword">double</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;   <span class="hljs-comment">// eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚</span><br>    <span class="hljs-keyword">while</span> (r - l &gt; eps)<br>    &#123;<br>        <span class="hljs-keyword">double</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid;<br>    &#125;<br>    <span class="hljs-keyword">return</span> l;<br>&#125;<br></code></pre></div></td></tr></table></figure><h2 id="çœ‹çœ‹è¿™ä¸‰ä¸ªç®—æ³•çš„ä¾‹é¢˜å§ï¼šï¼ˆè¦å¤šåŠ ç»ƒä¹ é¸­ï¼‰"><a href="#çœ‹çœ‹è¿™ä¸‰ä¸ªç®—æ³•çš„ä¾‹é¢˜å§ï¼šï¼ˆè¦å¤šåŠ ç»ƒä¹ é¸­ï¼‰" class="headerlink" title="çœ‹çœ‹è¿™ä¸‰ä¸ªç®—æ³•çš„ä¾‹é¢˜å§ï¼šï¼ˆè¦å¤šåŠ ç»ƒä¹ é¸­ï¼‰"></a>çœ‹çœ‹è¿™ä¸‰ä¸ªç®—æ³•çš„ä¾‹é¢˜å§ï¼šï¼ˆè¦å¤šåŠ ç»ƒä¹ é¸­ï¼‰</h2><blockquote><p>ç»™å®šä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°åˆ—ã€‚</p><p>è¯·ä½ ä½¿ç”¨å¿«é€Ÿæ’åº&amp;å½’å¹¶æ’åºå®ç°å¯¹è¿™ä¸ªæ•°åˆ—æŒ‰ç…§ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</p><p>å¹¶å°†æ’å¥½åºçš„æ•°åˆ—æŒ‰é¡ºåºè¾“å‡ºã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼ˆæ‰€æœ‰æ•´æ•°å‡åœ¨ 1âˆ¼10^9 èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå…±ä¸€è¡Œï¼ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ’å¥½åºçš„æ•°åˆ—ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure></blockquote><h4 id="å¿«æ’ç‰ˆæœ¬ï¼š"><a href="#å¿«æ’ç‰ˆæœ¬ï¼š" class="headerlink" title="å¿«æ’ç‰ˆæœ¬ï¼š"></a>å¿«æ’ç‰ˆæœ¬ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &gt;= r) <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> left = l - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> right = r + <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">int</span> standard = q[l + r &gt;&gt; <span class="hljs-number">1</span>];<br>    <br>    <span class="hljs-keyword">while</span> (left &lt; right)<br>    &#123;<br>        <span class="hljs-keyword">while</span> (q[ ++ left] &lt; standard);<br>        <span class="hljs-keyword">while</span> (q[-- right] &gt; standard);<br>        <span class="hljs-keyword">if</span> (left &lt; right) <span class="hljs-built_in">swap</span>(q[left], q[right]);<br>    &#125;<br>    <br>    <span class="hljs-built_in">quickSort</span>(l, right);<br>    <span class="hljs-built_in">quickSort</span>(right + <span class="hljs-number">1</span>, r);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-built_in">quickSort</span>(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; q[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="å½’å¹¶ç‰ˆæœ¬ï¼š"><a href="#å½’å¹¶ç‰ˆæœ¬ï¼š" class="headerlink" title="å½’å¹¶ç‰ˆæœ¬ï¼š"></a>å½’å¹¶ç‰ˆæœ¬ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> q[N], temp[N];<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> ans;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge_sort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &gt;= r) <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-built_in">merge_sort</span>(l, mid);<br>    <span class="hljs-built_in">merge_sort</span>(mid + <span class="hljs-number">1</span>, r);<br>    <br>    <span class="hljs-keyword">int</span> i = l;<br>    <span class="hljs-keyword">int</span> j = mid + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (q[i] &lt;= q[j]) temp[t ++ ] = q[i ++ ];<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            temp[t ++ ] = q[j ++ ];<br>            ans += mid - i + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (i &lt;= mid) temp[t ++ ] = q[i ++ ];<br>    <br>    <span class="hljs-keyword">while</span> (j &lt;= r) temp[t ++ ] = q[j ++ ];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j1 = l, j2 = <span class="hljs-number">0</span>; j1 &lt;= r; j1 ++ , j2 ++ )<br>    &#123;<br>        q[j1] = temp[j2];<br>    &#125;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-built_in">merge_sort</span>(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cout &lt;&lt; q[i] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="é‚£å¿«æ’å’Œå½’å¹¶æœ‰å•¥åº”ç”¨å•Šï¼Ÿ"><a href="#é‚£å¿«æ’å’Œå½’å¹¶æœ‰å•¥åº”ç”¨å•Šï¼Ÿ" class="headerlink" title="é‚£å¿«æ’å’Œå½’å¹¶æœ‰å•¥åº”ç”¨å•Šï¼Ÿ"></a>é‚£å¿«æ’å’Œå½’å¹¶æœ‰å•¥åº”ç”¨å•Šï¼Ÿ</h3><h4 id="å¿«é€‰-å¿«æ’çš„åº”ç”¨-ï¼šï¼ˆç¬¬kä¸ªæ•°ï¼‰"><a href="#å¿«é€‰-å¿«æ’çš„åº”ç”¨-ï¼šï¼ˆç¬¬kä¸ªæ•°ï¼‰" class="headerlink" title="å¿«é€‰(å¿«æ’çš„åº”ç”¨)ï¼šï¼ˆç¬¬kä¸ªæ•°ï¼‰"></a>å¿«é€‰(å¿«æ’çš„åº”ç”¨)ï¼šï¼ˆç¬¬kä¸ªæ•°ï¼‰</h4><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°åˆ—ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° kï¼Œè¯·ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•æ±‚å‡ºæ•°åˆ—ä»å°åˆ°å¤§æ’åºåçš„ç¬¬ k ä¸ªæ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ kã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼ˆæ‰€æœ‰æ•´æ•°å‡åœ¨ 1âˆ¼10^9 èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ—çš„ç¬¬ k å°æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000<br>1â‰¤kâ‰¤n</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">quickSe</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r) <span class="hljs-keyword">return</span> q[k];<br>    <br>    <span class="hljs-keyword">int</span> left = l - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> right = r + <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">int</span> standard = q[l + r &gt;&gt; <span class="hljs-number">1</span>];<br>    <br>    <span class="hljs-keyword">while</span> (left &lt; right)<br>    &#123;<br>        <span class="hljs-keyword">while</span> (q[ ++ left] &lt; standard);<br>        <span class="hljs-keyword">while</span> (q[ -- right] &gt; standard);<br>        <span class="hljs-keyword">if</span>(left &lt; right) <span class="hljs-built_in">swap</span>(q[left], q[right]);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(k &gt; right) <span class="hljs-keyword">return</span> <span class="hljs-built_in">quickSe</span>(right + <span class="hljs-number">1</span>, r);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-built_in">quickSe</span>(l, right);<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; q[i];<br>    <br>    cout &lt;&lt; <span class="hljs-built_in">quickSe</span>(<span class="hljs-number">1</span>, n) &lt;&lt; endl;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="æ±‚é€†åºå¯¹ï¼ˆå½’å¹¶çš„åº”ç”¨ï¼‰ï¼š"><a href="#æ±‚é€†åºå¯¹ï¼ˆå½’å¹¶çš„åº”ç”¨ï¼‰ï¼š" class="headerlink" title="æ±‚é€†åºå¯¹ï¼ˆå½’å¹¶çš„åº”ç”¨ï¼‰ï¼š"></a>æ±‚é€†åºå¯¹ï¼ˆå½’å¹¶çš„åº”ç”¨ï¼‰ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°åˆ—ï¼Œè¯·ä½ è®¡ç®—æ•°åˆ—ä¸­çš„é€†åºå¯¹çš„æ•°é‡ã€‚</p><p>é€†åºå¯¹çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºæ•°åˆ—çš„ç¬¬ i ä¸ªå’Œç¬¬ j ä¸ªå…ƒç´ ï¼Œå¦‚æœæ»¡è¶³ i&lt;jä¸” a[i]&gt;a[j]ï¼Œåˆ™å…¶ä¸ºä¸€ä¸ªé€†åºå¯¹ï¼›å¦åˆ™ä¸æ˜¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºæ•°åˆ—çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé€†åºå¯¹çš„ä¸ªæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000ï¼Œ<br>æ•°åˆ—ä¸­çš„å…ƒç´ çš„å–å€¼èŒƒå›´ [1,10^9]</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">6</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">1</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">5<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> q[N], temp[N];<br><span class="hljs-keyword">int</span> n;<br>LL ans;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge_sort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &gt;= r) <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-built_in">merge_sort</span>(l, mid);<br>    <span class="hljs-built_in">merge_sort</span>(mid + <span class="hljs-number">1</span>, r);<br>    <br>    <span class="hljs-keyword">int</span> i = l;<br>    <span class="hljs-keyword">int</span> j = mid + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (q[i] &lt;= q[j]) temp[t ++ ] = q[i ++ ];<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            temp[t ++ ] = q[j ++ ];<br>            ans += mid - i + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (i &lt;= mid) temp[t ++ ] = q[i ++ ];<br>    <br>    <span class="hljs-keyword">while</span> (j &lt;= r) temp[t ++ ] = q[j ++ ];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j1 = l, j2 = <span class="hljs-number">0</span>; j1 &lt;= r; j1 ++ , j2 ++ )<br>    &#123;<br>        q[j1] = temp[j2];<br>    &#125;<br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-built_in">merge_sort</span>(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><hr><h3 id="å†æ¥çœ‹çœ‹äºŒåˆ†çš„ä¾‹é¢˜å§ï¼š"><a href="#å†æ¥çœ‹çœ‹äºŒåˆ†çš„ä¾‹é¢˜å§ï¼š" class="headerlink" title="å†æ¥çœ‹çœ‹äºŒåˆ†çš„ä¾‹é¢˜å§ï¼š"></a>å†æ¥çœ‹çœ‹äºŒåˆ†çš„ä¾‹é¢˜å§ï¼š</h3><p><strong>å…ˆæ¥ä¿©ç®€å•çš„</strong></p><h4 id="æ•´æ•°äºŒåˆ†çš„ï¼š"><a href="#æ•´æ•°äºŒåˆ†çš„ï¼š" class="headerlink" title="æ•´æ•°äºŒåˆ†çš„ï¼š"></a>æ•´æ•°äºŒåˆ†çš„ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„é•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ï¼Œä»¥åŠ q ä¸ªæŸ¥è¯¢ã€‚</p><p>å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´  k çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼ˆä½ç½®ä» 0 å¼€å§‹è®¡æ•°ï¼‰ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› <code>-1 -1</code>ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ qï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦å’Œè¯¢é—®ä¸ªæ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼ˆå‡åœ¨ 1âˆ¼10000 èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºå®Œæ•´æ•°ç»„ã€‚</p><p>æ¥ä¸‹æ¥ q è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° kï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®å…ƒç´ ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…± q è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚å…ƒç´ çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› <code>-1 -1</code>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤100000<br>1â‰¤qâ‰¤10000<br>1â‰¤kâ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">6 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-number">3</span><br><span class="hljs-number">4</span><br><span class="hljs-number">5</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit">3 4<br>5 5<br><span class="hljs-string">-1</span> <span class="hljs-string">-1</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v;<br>        cin &gt;&gt; v;<br>        <br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> r = n - <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">while</span> (l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (q[mid] &gt;= v) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">int</span> left = l;<br>        <br>        <span class="hljs-keyword">if</span> (q[l] != v)<br>        &#123;<br>            cout &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; endl;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <br>        l = <span class="hljs-number">0</span>;<br>        r = n;<br>        <br>        <span class="hljs-keyword">while</span> (l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (q[mid] &gt; v) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        cout &lt;&lt; left &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; l - <span class="hljs-number">1</span> &lt;&lt; endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="æµ®ç‚¹æ•°äºŒåˆ†çš„ï¼š"><a href="#æµ®ç‚¹æ•°äºŒåˆ†çš„ï¼š" class="headerlink" title="æµ®ç‚¹æ•°äºŒåˆ†çš„ï¼š"></a>æµ®ç‚¹æ•°äºŒåˆ†çš„ï¼š</h4><blockquote><p>ç»™å®šä¸€ä¸ªæµ®ç‚¹æ•° nï¼Œæ±‚å®ƒçš„ä¸‰æ¬¡æ–¹æ ¹ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæµ®ç‚¹æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºé—®é¢˜çš„è§£ã€‚</p><p>æ³¨æ„ï¼Œç»“æœä¿ç•™ 6 ä½å°æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>âˆ’10000â‰¤nâ‰¤10000</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1000</span>.<span class="hljs-number">00</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">10</span>.<span class="hljs-number">000000</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-8</span>;<br><br><span class="hljs-keyword">double</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">double</span> l = <span class="hljs-number">-10000</span>;<br>    <span class="hljs-keyword">double</span> r = <span class="hljs-number">10000</span>;<br>    <br>    <span class="hljs-keyword">while</span> (r - l &gt; eps)<br>    &#123;<br>        <span class="hljs-keyword">double</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>        <br>        <span class="hljs-keyword">if</span> (mid * mid * mid &lt; n) l = mid;<br>        <span class="hljs-keyword">else</span> r = mid;<br>    &#125;<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.6lf&quot;</span>, l);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="çœ‹ä¿©é“ç¨å¾®æœ‰ç‚¹éš¾åº¦çš„äºŒåˆ†é¢˜å§"><a href="#çœ‹ä¿©é“ç¨å¾®æœ‰ç‚¹éš¾åº¦çš„äºŒåˆ†é¢˜å§" class="headerlink" title="çœ‹ä¿©é“ç¨å¾®æœ‰ç‚¹éš¾åº¦çš„äºŒåˆ†é¢˜å§"></a>çœ‹ä¿©é“ç¨å¾®æœ‰ç‚¹éš¾åº¦çš„äºŒåˆ†é¢˜å§</h3><p>è¯´æ˜¯éš¾ç‚¹ï¼Œå°±åªæ˜¯åœ¨é¢˜ç›®çš„åŸºç¡€ä¸ŠåŠ äº†ä¸ªèƒŒæ™¯ï¼Œè¯´äººè¯å°±æ˜¯ä¸æ˜¯è£¸é¢˜äº†hh~</p><h4 id="è¿™é“æ¥è‡ªè“æ¡¥æ¯ç¬¬å…«å±ŠA-Bç»„çœŸé¢˜"><a href="#è¿™é“æ¥è‡ªè“æ¡¥æ¯ç¬¬å…«å±ŠA-Bç»„çœŸé¢˜" class="headerlink" title="è¿™é“æ¥è‡ªè“æ¡¥æ¯ç¬¬å…«å±ŠA/Bç»„çœŸé¢˜"></a>è¿™é“æ¥è‡ªè“æ¡¥æ¯ç¬¬å…«å±ŠA/Bç»„çœŸé¢˜</h4><blockquote><p>å„¿ç«¥èŠ‚é‚£å¤©æœ‰ K ä½å°æœ‹å‹åˆ°å°æ˜å®¶åšå®¢ã€‚</p><p>å°æ˜æ‹¿å‡ºäº†çè—çš„å·§å…‹åŠ›æ‹›å¾…å°æœ‹å‹ä»¬ã€‚</p><p>å°æ˜ä¸€å…±æœ‰ N å—å·§å…‹åŠ›ï¼Œå…¶ä¸­ç¬¬ i å—æ˜¯ HiÃ—Wi çš„æ–¹æ ¼ç»„æˆçš„é•¿æ–¹å½¢ã€‚</p><p>ä¸ºäº†å…¬å¹³èµ·è§ï¼Œå°æ˜éœ€è¦ä»è¿™ N å—å·§å…‹åŠ›ä¸­åˆ‡å‡º K å—å·§å…‹åŠ›åˆ†ç»™å°æœ‹å‹ä»¬ã€‚</p><p>åˆ‡å‡ºçš„å·§å…‹åŠ›éœ€è¦æ»¡è¶³ï¼š</p><ol><li>å½¢çŠ¶æ˜¯æ­£æ–¹å½¢ï¼Œè¾¹é•¿æ˜¯æ•´æ•°</li><li>å¤§å°ç›¸åŒ</li></ol><p>ä¾‹å¦‚ä¸€å— 6Ã—5 çš„å·§å…‹åŠ›å¯ä»¥åˆ‡å‡º 6 å— 2Ã—2çš„å·§å…‹åŠ›æˆ–è€… 2 å— 3Ã—3 çš„å·§å…‹åŠ›ã€‚</p><p>å½“ç„¶å°æœ‹å‹ä»¬éƒ½å¸Œæœ›å¾—åˆ°çš„å·§å…‹åŠ›å°½å¯èƒ½å¤§ï¼Œä½ èƒ½å¸®å°æ˜è®¡ç®—å‡ºæœ€å¤§çš„è¾¹é•¿æ˜¯å¤šå°‘ä¹ˆï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Kã€‚</p><p>ä»¥ä¸‹ N è¡Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° Hi å’Œ Wiã€‚</p><p>è¾“å…¥ä¿è¯æ¯ä½å°æœ‹å‹è‡³å°‘èƒ½è·å¾—ä¸€å— 1Ã—1 çš„å·§å…‹åŠ›ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºåˆ‡å‡ºçš„æ­£æ–¹å½¢å·§å…‹åŠ›æœ€å¤§å¯èƒ½çš„è¾¹é•¿ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5"><a href="#æ•°æ®èŒƒå›´-5" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Kâ‰¤10^5<br>1â‰¤Hi,Wiâ‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">10</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">6</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br><span class="hljs-keyword">int</span> n, k, area;<br>PII q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> mid)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        res += (q[i].x / mid) * (q[i].y / mid);<br>     &#125;<br>     <br>     <span class="hljs-keyword">return</span> res &gt;= k;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; k;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> h, w;<br>        cin &gt;&gt; h &gt;&gt; w;<br>        <br>        q[i] = &#123;h, w&#125;;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">1e5</span>;<br>    <br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) l = mid;<br>        <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    cout &lt;&lt; l &lt;&lt; endl;<br>&#125;<br></code></pre></div></td></tr></table></figure><h4 id="å†æ¥åˆ°ä»Šæ—¥å¤´æ¡2019çš„é¢è¯•é¢˜å§"><a href="#å†æ¥åˆ°ä»Šæ—¥å¤´æ¡2019çš„é¢è¯•é¢˜å§" class="headerlink" title="å†æ¥åˆ°ä»Šæ—¥å¤´æ¡2019çš„é¢è¯•é¢˜å§~"></a>å†æ¥åˆ°ä»Šæ—¥å¤´æ¡2019çš„é¢è¯•é¢˜å§~</h4><blockquote><p>æœºå™¨äººæ­£åœ¨ç©ä¸€ä¸ªå¤è€çš„åŸºäº DOS çš„æ¸¸æˆã€‚</p><p>æ¸¸æˆä¸­æœ‰ N+1 åº§å»ºç­‘â€”â€”ä» 0 åˆ° N ç¼–å·ï¼Œä»å·¦åˆ°å³æ’åˆ—ã€‚</p><p>ç¼–å·ä¸º 0 çš„å»ºç­‘é«˜åº¦ä¸º 0 ä¸ªå•ä½ï¼Œç¼–å·ä¸º i çš„å»ºç­‘é«˜åº¦ä¸º H(i) ä¸ªå•ä½ã€‚</p><p>èµ·åˆï¼Œæœºå™¨äººåœ¨ç¼–å·ä¸º 0 çš„å»ºç­‘å¤„ã€‚</p><p>æ¯ä¸€æ­¥ï¼Œå®ƒè·³åˆ°ä¸‹ä¸€ä¸ªï¼ˆå³è¾¹ï¼‰å»ºç­‘ã€‚</p><p>å‡è®¾æœºå™¨äººåœ¨ç¬¬ k ä¸ªå»ºç­‘ï¼Œä¸”å®ƒç°åœ¨çš„èƒ½é‡å€¼æ˜¯ Eï¼Œä¸‹ä¸€æ­¥å®ƒå°†è·³åˆ°ç¬¬ k+1 ä¸ªå»ºç­‘ã€‚</p><p>å¦‚æœ H(k+1)&gt;Eï¼Œé‚£ä¹ˆæœºå™¨äººå°±å¤±å» H(k+1)âˆ’E çš„èƒ½é‡å€¼ï¼Œå¦åˆ™å®ƒå°†å¾—åˆ° Eâˆ’H(k+1) çš„èƒ½é‡å€¼ã€‚</p><p>æ¸¸æˆç›®æ ‡æ˜¯åˆ°è¾¾ç¬¬ N ä¸ªå»ºç­‘ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­èƒ½é‡å€¼ä¸èƒ½ä¸ºè´Ÿæ•°ä¸ªå•ä½ã€‚</p><p>ç°åœ¨çš„é—®é¢˜æ˜¯æœºå™¨äººè‡³å°‘ä»¥å¤šå°‘èƒ½é‡å€¼å¼€å§‹æ¸¸æˆï¼Œæ‰å¯ä»¥ä¿è¯æˆåŠŸå®Œæˆæ¸¸æˆï¼Ÿ</p><h4 id="è¾“å…¥æ ¼å¼-6"><a href="#è¾“å…¥æ ¼å¼-6" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° Nã€‚</p><p>ç¬¬äºŒè¡Œæ˜¯ N ä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼ŒH(1),H(2),â€¦,H(N) ä»£è¡¨å»ºç­‘ç‰©çš„é«˜åº¦ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„æœ€å°‘å•ä½çš„åˆå§‹èƒ½é‡å€¼ä¸Šå–æ•´åçš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-6"><a href="#æ•°æ®èŒƒå›´-6" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,H(i)â‰¤10^5</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">4</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å…¥æ ·ä¾‹3ï¼š"><a href="#è¾“å…¥æ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹3ï¼š"></a>è¾“å…¥æ ·ä¾‹3ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">6</span> <span class="hljs-number">4</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹3ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹3ï¼š"></a>è¾“å‡ºæ ·ä¾‹3ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> h[N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        x = <span class="hljs-number">2</span> * x - h[i];<br>        <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-comment">// if (x &gt;= 1e5) return true;</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) cin &gt;&gt; h[i];<br>    <br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br>    <br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    cout &lt;&lt; l &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr><p>å®Œäº‹å’¯ï¼Œè®°å¾—å¤šç†Ÿæ‚‰ç†Ÿæ‚‰æ¨¡æ¿ï¼Œå¤šç»ƒä¹ å‘€~ğŸ˜€ğŸ˜€ğŸ˜€</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gitå¸¸ç”¨ç”¨æ³•</title>
    <link href="/posts/978741524.html"/>
    <url>/posts/978741524.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡åˆ†äº«ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„gitæ•™å­¦</p><span id="more"></span><h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><p>gitæœ¬è´¨ä¸Šæ¥è®²å…¶å®æ˜¯æ ‘çŠ¶ç»“æ„ï¼Œä½†å¾ˆå¤šåœ°æ–¹è®²çš„æ—¶å€™åªè®²å‘½ä»¤åŠå…¶ç”¨æ³•ï¼Œæ˜¾å¾—å°±å¾ˆéš¾ç†è§£ã€‚</p><p>gitæ˜¯ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™ä¼šè¿­ä»£ï¼Œä¼šæ›´æ–°ï¼Œä¼šå›æ»šï¼Œæ‰€ä»¥å°±ä¼šæœ‰è¿™æ ·ä¸€ç§å·¥å…·</p><p>gitæœ€å¥½çš„ä¸€ä¸ªç‰¹ç‚¹ä¹Ÿæ˜¯å¯ä»¥å¤šäººåˆä½œ</p><h2 id="gitåŸºæœ¬æ¦‚å¿µ"><a href="#gitåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="gitåŸºæœ¬æ¦‚å¿µ"></a>gitåŸºæœ¬æ¦‚å¿µ</h2><ul><li>å·¥ä½œåŒºï¼šä»“åº“çš„ç›®å½•ã€‚å·¥ä½œåŒºæ˜¯ç‹¬ç«‹äºå„ä¸ªåˆ†æ”¯çš„ã€‚</li><li>æš‚å­˜åŒºï¼šæ•°æ®æš‚æ—¶å­˜æ”¾çš„åŒºåŸŸï¼Œç±»ä¼¼äºå·¥ä½œåŒºå†™å…¥ç‰ˆæœ¬åº“å‰çš„ç¼“å­˜åŒºã€‚æš‚å­˜åŒºæ˜¯ç‹¬ç«‹äºå„ä¸ªåˆ†æ”¯çš„ã€‚</li><li>ç‰ˆæœ¬åº“ï¼šå­˜æ”¾æ‰€æœ‰å·²ç»æäº¤åˆ°æœ¬åœ°ä»“åº“çš„ä»£ç ç‰ˆæœ¬</li><li>ç‰ˆæœ¬ç»“æ„ï¼šæ ‘ç»“æ„ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªä»£ç ç‰ˆæœ¬ã€‚</li></ul><h2 id="git-å¸¸ç”¨å‘½ä»¤"><a href="#git-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="git å¸¸ç”¨å‘½ä»¤"></a>git å¸¸ç”¨å‘½ä»¤</h2><p><code>git config -- global user.name xxx</code></p><p><code>git config --global user.email xxxxxx</code></p><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œ</p><p><code>git init</code> åˆ›å»ºä¸€ä¸ªä»“åº“</p><p> <code>git status</code> æŸ¥çœ‹çŠ¶æ€</p><p><code>git commit -m &quot;å¡«å†™ä½ çš„æ³¨é‡Š&quot;</code></p><p><code>git diff</code> å·¥ä½œåŒºæ–‡ä»¶å’Œæš‚å­˜åŒºæ–‡ä»¶çš„åŒºåˆ«</p><p><code>git rm --cached XX</code>ï¼šå°†æ–‡ä»¶ä»ä»“åº“ç´¢å¼•ç›®å½•ä¸­åˆ æ‰</p><p><code>git restore --staged</code> å°†æ–‡ä»¶ä»æš‚å­˜åŒºæ’¤å‡ºï¼Œä½†ä¸ä¼šæ’¤é”€æ–‡ä»¶çš„æ›´æ”¹<br><code>git resore</code> å°†ä¸åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶æ’¤é”€æ›´æ”¹ (ä¸ä»…å¯ä»¥æŠŠä¿®æ”¹å›æ»šæ‰ï¼Œåˆ é™¤ä¹Ÿå¯ä»¥)</p><p><code>git log</code>æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æ‰€æœ‰ç‰ˆæœ¬ï¼š<code>git log --pretty=online</code></p><p><code>git reflog</code>ï¼šæŸ¥çœ‹HEADæŒ‡é’ˆçš„ç§»åŠ¨å†å²ï¼ˆåŒ…æ‹¬è¢«å›æ»šçš„ç‰ˆæœ¬ï¼‰</p><p>reflog å’Œlog è¿˜æ˜¯æœ‰ä¸åŒçš„åœ°æ–¹çš„â€“ reflogè®°å½•ä½ æ‰€æœ‰ç§»åŠ¨çš„è®°å½•ï¼Œlogè®°å½•ä½ ä»æºå¤´åˆ°headçš„è®°å½•</p><ul><li><p><code>git reset --hard HEAD^ </code>æˆ– <code>git reset --hard HEAD~</code>ï¼šå°†ä»£ç åº“å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</p><ul><li>git reset â€“hard HEAD^^ï¼šå¾€ä¸Šå›æ»šä¸¤æ¬¡ï¼Œä»¥æ­¤ç±»æ¨ã€</li><li>git reset â€“hard HEAD~100ï¼šå¾€ä¸Šå›æ»š100ä¸ªç‰ˆæœ¬</li><li>git reset â€“hard ç‰ˆæœ¬å·ï¼šå›æ»šåˆ°æŸä¸€ç‰¹å®šç‰ˆæœ¬</li></ul></li><li><p><code>git push -u</code> (ç¬¬ä¸€æ¬¡éœ€è¦-uä»¥åä¸éœ€è¦)ï¼šå°†å½“å‰åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</p><ul><li><code>git push origin branch_name</code>ï¼šå°†æœ¬åœ°çš„æŸä¸ªåˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</li></ul></li></ul><p><code>git remote add origin git@git.gitee.com:xxx/XXX.git</code>ï¼šå°†æœ¬åœ°ä»“åº“å…³è”åˆ°è¿œç¨‹ä»“åº“(åé¢é‚£ä¸€ä¸²å°±æ˜¯ä»“åº“åœ°å€)</p><p><code>git checkout -b branch_name</code>ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ°branch_nameè¿™ä¸ªåˆ†æ”¯</p><p><code>git branch</code>ï¼šæŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯å’Œå½“å‰æ‰€å¤„åˆ†æ”¯<br><code>git checkout branch_name</code>ï¼šåˆ‡æ¢åˆ°branch_nameè¿™ä¸ªåˆ†æ”¯<br><code>git merge branch_name</code>ï¼šå°†åˆ†æ”¯branch_nameåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Š<br><code>git branch -d branch_name</code>ï¼šåˆ é™¤æœ¬åœ°ä»“åº“çš„branch_nameåˆ†æ”¯</p><p><code>git push --set-upstream origin branch_name</code>ï¼šè®¾ç½®æœ¬åœ°çš„branch_nameåˆ†æ”¯å¯¹åº”è¿œç¨‹ä»“åº“çš„branch_nameåˆ†æ”¯<br><code>git push -d origin branch_name</code>ï¼šåˆ é™¤è¿œç¨‹ä»“åº“çš„branch_nameåˆ†æ”¯</p><p><code>git branch --set-upstream-to=origin/branch_name1 branch_name2</code>ï¼šå°†è¿œç¨‹çš„branch_name1åˆ†æ”¯ä¸æœ¬åœ°çš„branch_name2åˆ†æ”¯å¯¹åº”<br><code>git checkout -t origin/branch_name</code> å°†è¿œç¨‹çš„branch_nameåˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°</p><hr><h3 id="å…³äºstash"><a href="#å…³äºstash" class="headerlink" title="å…³äºstash"></a>å…³äºstash</h3><p><code>git stash</code>ï¼šå°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¸­å°šæœªæäº¤çš„ä¿®æ”¹å­˜å…¥æ ˆä¸­<br><code>git stash apply</code>ï¼šå°†æ ˆé¡¶å­˜å‚¨çš„ä¿®æ”¹æ¢å¤åˆ°å½“å‰åˆ†æ”¯ï¼Œä½†ä¸åˆ é™¤æ ˆé¡¶å…ƒç´ <br><code>git stash drop</code>ï¼šåˆ é™¤æ ˆé¡¶å­˜å‚¨çš„ä¿®æ”¹<br><code>git stash pop</code>ï¼šå°†æ ˆé¡¶å­˜å‚¨çš„ä¿®æ”¹æ¢å¤åˆ°å½“å‰åˆ†æ”¯ï¼ŒåŒæ—¶åˆ é™¤æ ˆé¡¶å…ƒç´ <br><code>git stash list</code>ï¼šæŸ¥çœ‹æ ˆä¸­æ‰€æœ‰å…ƒç´ </p><hr><p><strong>è¿™äº›ä¸œè¥¿è¶³å¤Ÿåœ¨ä¹‹åçš„å­¦ä¹ å’Œå·¥ä½œä¸­ä½¿ç”¨äº†ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°è„±ç¦»è¿™äº›å‘½ä»¤çš„åœºæ™¯</strong></p><hr><p>å®Œç»“æ’’èŠ±~ğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>å¸¸ç”¨å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºå·¥å…·</tag>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®¹æ–¥åŸç†</title>
    <link href="/posts/3138397678.html"/>
    <url>/posts/3138397678.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†è®²è¿°å®¹æ–¥åŸç†çš„è¯æ˜ä¸åº”ç”¨</p><span id="more"></span><h1 id="å®¹æ–¥åŸç†"><a href="#å®¹æ–¥åŸç†" class="headerlink" title="å®¹æ–¥åŸç†"></a>å®¹æ–¥åŸç†</h1><p><strong>å®¹æ–¥åŸç†çœ‹çš„æ—¶å€™çœŸçš„å¾ˆåƒå°å­¦çš„ç®—é¢ç§¯çš„æ„Ÿè§‰ï¼Œå¥½å¤šé¢ç§¯é‡å åè¿˜å­¦è¦å‡å»å¹¶è®¡ç®—ã€‚å…¶å®èƒŒåæ˜¯å­˜åœ¨ä¸€ä¸ªæ•°è®ºåŸç†åœ¨çš„</strong></p><h2 id="ç†è®º"><a href="#ç†è®º" class="headerlink" title="ç†è®º"></a>ç†è®º</h2><blockquote><p>åœ¨è®¡æ•°æ—¶ï¼Œå¿…é¡»æ³¨æ„æ²¡æœ‰é‡å¤ï¼Œæ²¡æœ‰é—æ¼ã€‚ä¸ºäº†ä½¿é‡å éƒ¨åˆ†ä¸è¢«é‡å¤è®¡ç®—ï¼Œäººä»¬ç ”ç©¶å‡ºä¸€ç§æ–°çš„è®¡æ•°æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆä¸è€ƒè™‘é‡å çš„æƒ…å†µï¼ŒæŠŠåŒ…å«äºæŸå†…å®¹ä¸­çš„æ‰€æœ‰å¯¹è±¡çš„æ•°ç›®å…ˆè®¡ç®—å‡ºæ¥ï¼Œç„¶åå†æŠŠè®¡æ•°æ—¶é‡å¤è®¡ç®—çš„æ•°ç›®æ’æ–¥å‡ºå»ï¼Œä½¿å¾—è®¡ç®—çš„ç»“æœæ—¢æ— é—æ¼åˆæ— é‡å¤ï¼Œè¿™ç§è®¡æ•°çš„æ–¹æ³•ç§°ä¸ºå®¹æ–¥åŸç†ã€‚</p></blockquote><p>ä»¥ä¸Šå‘¢æ˜¯ç™¾åº¦ç™¾ç§‘çš„åŸè¯ï¼Œè¯´ä¸ªäººè¯å§ğŸ˜ğŸ˜</p><p>è¯´ç™½äº†ä¸å°±æ˜¯è¦ä¸é‡ä¸æ¼çš„ç®—å‡ºæ‰€æœ‰è¦è®¡ç®—çš„ä¸œè¥¿å’¯~</p><h2 id="ç»™å‡ºä¸€ä¸ªä¾‹å­æ–¹ä¾¿ç†è§£"><a href="#ç»™å‡ºä¸€ä¸ªä¾‹å­æ–¹ä¾¿ç†è§£" class="headerlink" title="ç»™å‡ºä¸€ä¸ªä¾‹å­æ–¹ä¾¿ç†è§£"></a>ç»™å‡ºä¸€ä¸ªä¾‹å­æ–¹ä¾¿ç†è§£</h2><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20211107222407285.png" alt="image-20211107222407285"></p><p>ç›¸ä¿¡å¤§å®¶åœ¨åˆé«˜ä¸­ä¸€å®šå­¦è¿‡éŸ¦æ©å›¾ï¼Œè¿™ä¸ªä¸œè¥¿åœ¨å„ä¸ªåœ°æ–¹ä»¥å¥½ç†è§£è‘—ç§°é¢‘ç¹å‡ºç°ï¼Œé‚£ä¹ˆæˆ‘ä¹Ÿç”¨è¿™ä¸ªæ¥è§£é‡Šä¸€ä¸‹~</p><p>ç°åœ¨æŠ›å‡ºä¸€ä¸ªé¢˜ç›®ï¼Œæˆ‘ä»¬è¦è®¡ç®—è¿™ä¸‰ä¸ªåœ†å æ®çš„æ€»é¢ç§¯ï¼Œå¦‚ä½•è®¡ç®—å‘¢ï¼Ÿ</p><p>å…¶å®å¾ˆç®€å•ï¼š</p><p>s = 1 + 2 + 3 - 4 - 5 - 6 + 7ï¼›</p><p>é‚£ä¹ˆæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œä¼šä¸ä¼šæœ‰ä¸€ä¸ªé€šé¡¹å…¬å¼å»åšå‡ºè¿™ä¸ªç­”æ¡ˆå‘¢ï¼Ÿ</p><p>è¿™æ—¶<strong>å®¹æ–¥åŸç†</strong>å°±ç™»åœºäº†ï¼š</p><p>â€‹    <img src="http://jin-xuanjie.gitee.io/note-pad/image-20211107223345726.png" alt="image-20211107223345726"></p><h2 id="å’‹è¯æ˜çš„å‘€ï¼Ÿ"><a href="#å’‹è¯æ˜çš„å‘€ï¼Ÿ" class="headerlink" title="å’‹è¯æ˜çš„å‘€ï¼Ÿ"></a>å’‹è¯æ˜çš„å‘€ï¼Ÿ</h2><p>ç”¨åˆ°äº†ç»„åˆæ•°æ’ç­‰å¼ï¼Œä¹‹åä¼šæ•´ç†å‡ºæ¥ï¼Œå…ˆä¸è¯´è¯æ˜äº†ã€‚</p><h2 id="çœ‹ä¸€çœ‹é¢˜å§ï¼š"><a href="#çœ‹ä¸€çœ‹é¢˜å§ï¼š" class="headerlink" title="çœ‹ä¸€çœ‹é¢˜å§ï¼š"></a>çœ‹ä¸€çœ‹é¢˜å§ï¼š</h2><blockquote><p>ç»™å®šä¸€ä¸ªæ•´æ•° n å’Œ m ä¸ªä¸åŒçš„è´¨æ•° p1,p2,â€¦,pmã€‚</p><p>è¯·ä½ æ±‚å‡º 1âˆ¼n ä¸­èƒ½è¢« p1,p2,â€¦,pm ä¸­çš„è‡³å°‘ä¸€ä¸ªæ•°æ•´é™¤çš„æ•´æ•°æœ‰å¤šå°‘ä¸ªã€‚</p><p>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° n å’Œ mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« m ä¸ªè´¨æ•°ã€‚</p><p>è¾“å‡ºæ ¼å¼<br>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„æ•´æ•°çš„ä¸ªæ•°ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤mâ‰¤16,<br>1â‰¤n,piâ‰¤109<br>è¾“å…¥æ ·ä¾‹ï¼š<br>10 2<br>2 3<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>7</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">20</span>;<br><br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-keyword">int</span> n, m;<br>LL res;    <br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i ++ ) cin &gt;&gt; q[i];<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">1</span> &lt;&lt; m; i ++ ) <br>    &#123;<br>        <span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>, cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j ++ )<br>        &#123;<br>            <span class="hljs-keyword">if</span> (i &gt;&gt; j &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span> ((LL)t * q[j] &lt;= n)<br>                &#123;<br>                    t *= q[j];<br>                    cnt ++ ;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <br>                &#123;<br>                    t = <span class="hljs-number">-1</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (t != <span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (cnt % <span class="hljs-number">2</span>)<br>            &#123;<br>                res += n / t;<br>            &#125;<br>            <span class="hljs-keyword">else</span> res -= n / t;<br>        &#125;<br>    &#125;<br>    <br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å…¶å®è€ƒå¯Ÿå®¹æ–¥åŸç†çš„è¿™ç±»é¢˜ç›®å§ï¼Œä¹Ÿä¸ä¼šå¾ˆéš¾ï¼Œä¸»è¦æ˜¯è€ƒå¯Ÿä½ åˆ°åº•æ‡‚ä¸æ‡‚è¿™ä¸ªä¸œè¥¿</p><p>å¾ˆå¤šæ•°è®ºçš„å®šç†å’Œå°å­¦æ•°å¥¥çš„ç»“è®ºè¿˜æ˜¯è¦å¤šç§¯ç´¯å‘€ï¼ï¼ğŸ˜ƒğŸ˜ƒ</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•°è®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>stringstreamç”¨æ³•</title>
    <link href="/posts/1102605851.html"/>
    <url>/posts/1102605851.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†ä»‹ç»c++ä¸­stringstreamç±»åœ¨ç®—æ³•ç«èµ›ä¸­çš„å¸¸ç”¨æ–¹æ³•</p><span id="more"></span><h1 id="stringstream"><a href="#stringstream" class="headerlink" title="stringstream"></a>stringstream</h1><p>é¦–å…ˆå‘¢ä½¿ç”¨stringstreamä¹‹å‰æˆ‘ä»¬è¦å…ˆåŒ…å«è¿›æ¥ä¸€ä¸ªå¤´æ–‡ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstring&gt;</span><span class="hljs-comment">//è¿™ä¸ªåº“é‡Œé¢ä¸ä»…stringstreamï¼Œæˆ‘ä»¬åªä¼šç”¨åˆ°stringstream</span></span><br></code></pre></div></td></tr></table></figure><p>é‚£æˆ‘ä»¬éƒ½èƒ½ç”¨è¿™ä¸ªåšå•¥å‘¢ï¼Ÿè®©æˆ‘å¨“å¨“é“æ¥ğŸ˜€</p><hr><h2 id="æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°æ®ç±»å‹è½¬æ¢</h2><p>å¤§å®¶æœ‰æ—¶å€™ä¼šæœ‰ä¸€ä¸ªçƒ¦æ¼ï¼Œä½ æ‹¿å‡ºäº†ä¸€ä¸ªæ•°å­—ä½ æƒ³æŠŠä»–è½¬æˆå­—ç¬¦ä¸²ï¼Œåˆæˆ–è€…ä½ æƒ³æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æˆæ•°å­—ï¼Œé‚£ä¹ˆstringstreamå°†æ»¡è¶³ä½ </p><p>çœ‹çœ‹ä»£ç å§ï¼š</p><h3 id="int-â€“-gt-string"><a href="#int-â€“-gt-string" class="headerlink" title="int â€“&gt;string"></a>int â€“&gt;string</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br> <br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    stringstream sstream;<br>    string strResult;<br>    <span class="hljs-keyword">int</span> nValue = <span class="hljs-number">1000</span>;<br> <br>    <span class="hljs-comment">// å°†intç±»å‹çš„å€¼æ”¾å…¥è¾“å…¥æµä¸­</span><br>    sstream &lt;&lt; nValue;<br>    <span class="hljs-comment">// ä»sstreamä¸­æŠ½å–å‰é¢æ’å…¥çš„intç±»å‹çš„å€¼ï¼Œèµ‹ç»™stringç±»å‹</span><br>    sstream &gt;&gt; strResult;<br> <br>    cout &lt;&lt; <span class="hljs-string">&quot;[cout]strResult is: &quot;</span> &lt;&lt; strResult &lt;&lt; endl;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[printf]strResult is: %s\n&quot;</span>, strResult.<span class="hljs-built_in">c_str</span>());<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h3 id="string-â€“-gt-int"><a href="#string-â€“-gt-int" class="headerlink" title="string â€“&gt; int"></a>string â€“&gt; int</h3><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>   <span class="hljs-function">istringstream <span class="hljs-title">inbuf</span><span class="hljs-params">(<span class="hljs-string">&quot;-10&quot;</span>)</span></span>;<br>    nbuf &gt;&gt; n;<br>    cout &lt;&lt; <span class="hljs-string">&quot;n = &quot;</span> &lt;&lt; n &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><strong>è¿™é‡Œæœ‰ä¸ªå‘ç‚¹ï¼Œå¦‚æœæƒ³å¤šæ¬¡è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¯·æŠŠstringstreamæ¸…ç©ºå“ˆï¼Œè¯´ä¸€ä¸‹å¦‚ä½•æ¸…ç©º</strong></p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++">ssin.<span class="hljs-built_in">clear</span>();<span class="hljs-comment">//é‡ç½®çŠ¶æ€æ ‡å¿—</span><br>ssin.<span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-comment">//æ¸…ç©ºæ•°æ®ï¼Œå› ä¸ºè¿™ä¸ªå¾ˆå å†…å­˜ï¼Œè¦åŠæ—¶æ¸…ç©ºæ•°æ®</span><br></code></pre></div></td></tr></table></figure><h2 id="åˆ†å‰²ä¸€è¡Œä¸­çš„ç©ºæ ¼åˆ¶è¡¨ç¬¦ç­‰ï¼ˆè¯¾ä¸Šè®²è¿‡äº†ï¼‰"><a href="#åˆ†å‰²ä¸€è¡Œä¸­çš„ç©ºæ ¼åˆ¶è¡¨ç¬¦ç­‰ï¼ˆè¯¾ä¸Šè®²è¿‡äº†ï¼‰" class="headerlink" title="åˆ†å‰²ä¸€è¡Œä¸­çš„ç©ºæ ¼åˆ¶è¡¨ç¬¦ç­‰ï¼ˆè¯¾ä¸Šè®²è¿‡äº†ï¼‰"></a>åˆ†å‰²ä¸€è¡Œä¸­çš„ç©ºæ ¼åˆ¶è¡¨ç¬¦ç­‰ï¼ˆè¯¾ä¸Šè®²è¿‡äº†ï¼‰</h2><p>é€šç”¨æ¨¡æ¿ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++">string line;<br><br><span class="hljs-built_in">getline</span>(cin, line);<br><br><span class="hljs-function">stringstream <span class="hljs-title">ssin</span><span class="hljs-params">(line)</span></span>;<br><br>string node;<br><br><span class="hljs-keyword">while</span> (ssin &gt;&gt; node)<br>&#123;<br><span class="hljs-comment">//å¤„ç†è¾“å…¥ç»†èŠ‚</span><br>&#125;<br><span class="hljs-comment">//å¤„ç†ç¦»çº¿ç»†èŠ‚</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><h2 id="å¤šä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥"><a href="#å¤šä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥" class="headerlink" title="å¤šä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥"></a>å¤šä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥</h2><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br> <br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    stringstream sstream;<br> <br>    <span class="hljs-comment">// å°†å¤šä¸ªå­—ç¬¦ä¸²æ”¾å…¥ sstream ä¸­</span><br>    sstream &lt;&lt; <span class="hljs-string">&quot;first&quot;</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; <span class="hljs-string">&quot;string,&quot;</span>;<br>    sstream &lt;&lt; <span class="hljs-string">&quot; second string&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;strResult is: &quot;</span> &lt;&lt; sstream.<span class="hljs-built_in">str</span>() &lt;&lt; endl;<br> <br>    <span class="hljs-comment">// æ¸…ç©º sstream</span><br>    sstream.<span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    sstream &lt;&lt; <span class="hljs-string">&quot;third string&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;After clear, strResult is: &quot;</span> &lt;&lt; sstream.<span class="hljs-built_in">str</span>() &lt;&lt; endl;<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>åˆ©ç”¨+è¿ç®—ç¬¦ä¹Ÿæ˜¯å¯ä»¥çš„å•¦~~ğŸ˜€ğŸ˜€ï¼ˆåŒºåˆ«æ˜¯æœ‰çš„ï¼Œä½†æ˜¯å…ˆä¸è®²ï¼Œåœ¨ç®—æ³•ç«èµ›ä¸­ä¸ä¼šå¡è¿™ä¹ˆæ­»ï¼‰</p><p class="note note-success">stringstreamï¼Œä½ å­¦ä¼šäº†å—ğŸ˜ğŸ˜</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>c++æ•™æ¡ˆ</title>
    <link href="/posts/182611664.html"/>
    <url>/posts/182611664.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡åˆ†äº«ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„c++æ•™æ¡ˆ</p><span id="more"></span><p>æ­¤c++æ•™æ¡ˆåªé’ˆå¯¹äºç®—æ³•ç«èµ›å…¥é—¨ä½¿ç”¨ï¼Œå‡ ä¹æ¶µç›–äº†ç®—æ³•ç«èµ›ä¸­c++çš„æ‰€æœ‰ç”¨æ³•ï¼Œè¯·è®¤çœŸè§‚çœ‹å‘€~</p><p><a href="https://gitlab.jxj777.top/usr/img/in_out.docx">c++ä¸­çš„è¾“å…¥è¾“å‡ºä¸é¡ºåºç»“æ„</a></p><p><a href="https://gitlab.jxj777.top/usr/img/if_structure.docx">c++ä¸­çš„åˆ¤æ–­</a></p><p><a href="https://gitlab.jxj777.top/usr/img/for_while.docx">c++ä¸­çš„å¾ªç¯</a></p><p><a href="https://gitlab.jxj777.top/usr/img/array.docx">c++ä¸­çš„æ•°ç»„</a></p><p><a href="https://gitlab.jxj777.top/usr/img/string.docx">c++ä¸­çš„å­—ç¬¦ä¸²</a></p><p><a href="https://gitlab.jxj777.top/usr/img/bitOperation_funcution.docx">c++ä¸­çš„å‡½æ•°</a></p><p><a href="https://gitlab.jxj777.top/usr/img/STL.docx">c++ä¸­çš„stlæ¨¡æ¿åº“</a></p><p><a href="https://gitlab.jxj777.top/usr/img/struct_quote_pointer.docx">c++ä¸­çš„æŒ‡é’ˆï¼Œç»“æ„ä½“ï¼Œå¼•ç”¨</a></p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>æ•™æ¡ˆ</category>
      
      <category>c++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ•™æ¡ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç´ç†å·¥ä½œå®¤é€‰æ‹”èµ›é¢˜è§£</title>
    <link href="/posts/3009977438.html"/>
    <url>/posts/3009977438.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡æ˜¯ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„ç¬¬ä¸€æ¬¡é€‰æ‹”èµ›çš„é¢˜è§£</p><span id="more"></span><h1 id="é¢˜è§£ï¼Ÿï¼ˆç»™å‡ºæ€è·¯ï¼‰"><a href="#é¢˜è§£ï¼Ÿï¼ˆç»™å‡ºæ€è·¯ï¼‰" class="headerlink" title="é¢˜è§£ï¼Ÿï¼ˆç»™å‡ºæ€è·¯ï¼‰"></a>é¢˜è§£ï¼Ÿï¼ˆç»™å‡ºæ€è·¯ï¼‰</h1><p>æœ¬æ–‡ä¸ä¼šå‡ºç°ä»»ä½•ä»£ç ï¼Œè‹¥æƒ³è§‚çœ‹ä»£ç ï¼Œè¯·ç§»æ­¥â–¶â–¶ <a href="https://gitee.com/jin-xuanjie/qin-li-studio-algorithm-group/tree/master/firstTrials">é€‰æ‹”èµ›ä»£ç </a></p><h2 id="éš¾åº¦ï¼Ÿ"><a href="#éš¾åº¦ï¼Ÿ" class="headerlink" title="éš¾åº¦ï¼Ÿ"></a>éš¾åº¦ï¼Ÿ</h2><p>è¿˜å¥½å§ï¼Œå‡ ä¹éƒ½æ˜¯ç§’å‡ºæ€è·¯çš„é¢˜</p><h3 id="T1ï¼ˆç­¾åˆ°é¢˜ï¼‰"><a href="#T1ï¼ˆç­¾åˆ°é¢˜ï¼‰" class="headerlink" title="T1ï¼ˆç­¾åˆ°é¢˜ï¼‰"></a>T1ï¼ˆç­¾åˆ°é¢˜ï¼‰</h3><blockquote><p>å…¶å®å°±æ˜¯æ‰«æä¸€éæ•°ç»„å»æ‰¾<strong>æ˜¯å¦å­˜åœ¨</strong>è¿™ä¸ªç‰¹å®šçš„å€¼ã€‚å¯èƒ½æ˜¯å¥½å¤šäººé¢˜ç›®æ²¡è¯»æ‡‚ï¼Ÿ</p></blockquote><h3 id="T2ï¼ˆä¸­æ¡£é¢˜ï¼‰"><a href="#T2ï¼ˆä¸­æ¡£é¢˜ï¼‰" class="headerlink" title="T2ï¼ˆä¸­æ¡£é¢˜ï¼‰"></a>T2ï¼ˆä¸­æ¡£é¢˜ï¼‰</h3><blockquote><p>åˆ©ç”¨å“ˆå¸Œçš„æ€æƒ³ï¼ˆä¸æ‡‚çš„ä¹Ÿæ²¡å…³ç³»ï¼‰</p><p>å…ˆä»å¤´åˆ°å°¾æ‰«æä¸€éï¼Œç„¶åè®°å½•å‡ºæ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå†æ¬¡æ‰«æï¼Œæ‰«æå‡ºå­—ç¬¦ä¸ªæ•°ä¸º1çš„é‚£ä¸ªå­—ç¬¦ç›´æ¥è¾“å‡ºç„¶åç»“æŸå°±å¯ä»¥äº†</p><p>è‹¥æ²¡æœ‰è¾“å‡ºNOå°±å¯ä»¥äº†ã€‚æ—¢ç„¶æœ‰å¯èƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆå¿…é¡»è¦æ‰“å¸ƒå°”æ ‡è®°å’¯~</p></blockquote><h3 id="T3-å›°éš¾é¢˜ï¼Œå…¶å®å°±æ˜¯åœ¨é˜²akï¼Œé˜²çš„æ˜¯cè¯­è¨€é€‰æ‰‹çš„akï¼Œjavaé€‰æ‰‹è¡¨ç¤ºå¤ªç®€å•"><a href="#T3-å›°éš¾é¢˜ï¼Œå…¶å®å°±æ˜¯åœ¨é˜²akï¼Œé˜²çš„æ˜¯cè¯­è¨€é€‰æ‰‹çš„akï¼Œjavaé€‰æ‰‹è¡¨ç¤ºå¤ªç®€å•" class="headerlink" title="T3 (å›°éš¾é¢˜ï¼Œå…¶å®å°±æ˜¯åœ¨é˜²akï¼Œé˜²çš„æ˜¯cè¯­è¨€é€‰æ‰‹çš„akï¼Œjavaé€‰æ‰‹è¡¨ç¤ºå¤ªç®€å•)"></a>T3 (å›°éš¾é¢˜ï¼Œå…¶å®å°±æ˜¯åœ¨é˜²akï¼Œé˜²çš„æ˜¯cè¯­è¨€é€‰æ‰‹çš„akï¼Œjavaé€‰æ‰‹è¡¨ç¤ºå¤ªç®€å•)</h3><blockquote><p>è¿™é‡Œçš„ä¸ç¡®å®šå› ç´ å°±æ˜¯ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªä¸²è°é•¿ï¼Œæ‰€ä»¥åˆ°åæ¥è¦ä¸€ç›´åˆ†ç±»è®¨è®ºã€‚</p><p>è¿™ç±»é—®é¢˜æœ‰ä¸€ä¸ªé€šç”¨çš„è§£æ³•ï¼Œä¸ç®¡æ˜¯è°é•¿ï¼Œæˆ‘ä»¬éƒ½æŠŠé•¿çš„äº¤æ¢åˆ°ç¬¬ä¸€ä¸ªä¸²ï¼Œè¿™æ ·ä¹‹åä¼šå…æ‰åˆ†ç±»è®¨è®ºè¿™ä¸€ç¯ã€‚</p><p>åˆ¤æ–­å­ä¸²çš„æ–¹å¼å‘¢å°±æ˜¯åŒæŒ‡é’ˆç®—æ³•äº†ï¼Œå¯ä»¥ä½¿ç”¨æ¯ä¸ªä½ç½®æ¯”å¯¹çš„æš´åŠ›æ–¹æ³•ï¼Œæœ‰èƒ½åŠ›è€…å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨kmpç®—æ³•ã€‚</p></blockquote><h3 id="T4-ç­¾åˆ°é¢˜"><a href="#T4-ç­¾åˆ°é¢˜" class="headerlink" title="T4(ç­¾åˆ°é¢˜)"></a>T4(ç­¾åˆ°é¢˜)</h3><blockquote><p>æŒ‰ç…§é¢˜ç›®æŒ‡ç¤ºåšå°±å¯ä»¥äº†ï¼Œæ²¡å•¥éš¾çš„</p><p>å”¯ä¸€çš„éš¾ç‚¹å°±åœ¨äºå¦‚ä½•åˆ†è§£æ¯ä¸€ä½æ•°ï¼Œåˆ©ç”¨ %10 /10è¿™ä¸ªæ–¹æ³•æ¥åˆ†è§£æ¯ä¸€ä½æ•°</p><p>ä¹Ÿå¯ä»¥ç”¨æˆ‘ç»™å¤§å®¶æä¾›çš„æ ‡ç¨‹ï¼Œcharæ•°ç»„çš„æ–¹æ³•æ¥å¤„ç†ï¼Œä¹Ÿæ¯”è¾ƒå¥½ç†è§£</p></blockquote><h3 id="T5ï¼ˆé˜²aké¢˜ï¼Œæ€ç»´é¢˜ï¼ˆè´ªå¿ƒé¢˜ï¼‰ï¼‰"><a href="#T5ï¼ˆé˜²aké¢˜ï¼Œæ€ç»´é¢˜ï¼ˆè´ªå¿ƒé¢˜ï¼‰ï¼‰" class="headerlink" title="T5ï¼ˆé˜²aké¢˜ï¼Œæ€ç»´é¢˜ï¼ˆè´ªå¿ƒé¢˜ï¼‰ï¼‰"></a>T5ï¼ˆé˜²aké¢˜ï¼Œæ€ç»´é¢˜ï¼ˆè´ªå¿ƒé¢˜ï¼‰ï¼‰</h3><blockquote><p>è¿™ä¸€æ­¥è¦å…ˆæŠŠé¢˜çœ‹æ‡‚%%%</p><p>å‡è®¾è¿™é‡Œä½ å·²ç»æŠŠé¢˜çœ‹æ‡‚äº†ï¼Œçœ‹æ‡‚åæ€è€ƒç‰‡åˆ»å¤§å®¶å°±ä¼šå‘ç°ä¸€ä¸ªäº‹æƒ…ï¼Œæƒ³è®©è‡ªå·±å­˜åœ¨æŸä¸ªç§‘ç›®çš„åˆ†å¹¶ä¸æ˜¯æœ€ä½çš„ï¼Œæœ‰ä¸€ä¸ªä¸‡èƒ½æ„é€ æ³•å°±æ˜¯ï¼Œç¬¬ä¸€ä¸ªç§‘ç›®æ‰€æœ‰äººé™åºæ’åˆ—åˆ†ï¼Œç¬¬äºŒä¸ªç§‘ç›®æ‰€æœ‰äººå‡åºæ’åˆ—åˆ†ï¼Œé‚£ä¹ˆä¸€å®šæœ‰äººæŸä¸ªä¼šæ¯”è‡ªå·±çš„åˆ†æ•°ä½ã€‚</p><p>æƒ³æ‡‚äº†è¿™ä¸ªå…¶å®å°±å¾ˆç®€å•äº†ï¼Œä½†æ˜¯æ¯”èµ›ä¸­å´æ²¡æœ‰äººç¢°è¿™é“é¢˜ğŸ˜¦ğŸ˜¦ğŸ˜¦</p></blockquote><h3 id="T6ï¼ˆä¸­æ¡£é¢˜ï¼‰"><a href="#T6ï¼ˆä¸­æ¡£é¢˜ï¼‰" class="headerlink" title="T6ï¼ˆä¸­æ¡£é¢˜ï¼‰"></a>T6ï¼ˆä¸­æ¡£é¢˜ï¼‰</h3><blockquote><p>å¦‚æœä½ æŠŠè¿™ä¸ªä¸œè¥¿ä¹˜ä¸Š 10çš„è¦æ±‚ä½æ•°çš„æ¬¡å¹‚ï¼Œä¸€å®šä¼šè¶…å‡ºint æˆ–è€…æ˜¯long long çš„èŒƒå›´ï¼Œé‚£å¿…ç„¶ä¼šæœ‰ä¸€äº›æ•°æ®ç®—ä¸å‡ºæ¥ã€‚</p><p>å¦‚æœä½ ä¼šé«˜ç²¾ç®—æˆ‘æ²¡è¯´ï¼ˆ<strong>javaé€‰æ‰‹ï¼Œpyé€‰æ‰‹å“¼å“§ä¸€ç¬‘</strong>ï¼‰</p><p>å¦‚æœä½ æ˜¯cè¯­è¨€æˆ–è€…æ˜¯c++ï¼Œé‚£ä¹ˆå°±è¦æ‰‹å†™é«˜ç²¾ï¼Œè¿™å·¥ä½œé‡å°†å·¨å¤§</p><p>è¿™é‡Œç»™å‡ºä¸€ä¸ªæ–¹æ³•å°±æ˜¯ï¼Œåˆ©ç”¨æˆ‘ä»¬å°å­¦åˆ—ç«–å¼çš„æ–¹æ³•å»ä¸€æ­¥ä¸€æ­¥ç®—å‡ºé‚£ä½å°æ•°ï¼Œå…·ä½“å¯ä»¥è§‚çœ‹ä»£ç ï¼Œæ˜å¤©ä¼šè®²è¿™ä¸ªè§£æ³•ã€‚</p></blockquote><h3 id="T7ï¼ˆç­¾åˆ°é¢˜ï¼‰"><a href="#T7ï¼ˆç­¾åˆ°é¢˜ï¼‰" class="headerlink" title="T7ï¼ˆç­¾åˆ°é¢˜ï¼‰"></a>T7ï¼ˆç­¾åˆ°é¢˜ï¼‰</h3><blockquote><p>æŒ‰ç…§é¢˜ç›®æ ‡å‡†æšä¸¾å°±å¥½äº†</p></blockquote><h3 id="T8ï¼ˆä¸­æ¡£é¢˜ï¼‰"><a href="#T8ï¼ˆä¸­æ¡£é¢˜ï¼‰" class="headerlink" title="T8ï¼ˆä¸­æ¡£é¢˜ï¼‰"></a>T8ï¼ˆä¸­æ¡£é¢˜ï¼‰</h3><blockquote><p>ç”¨åˆ°äº†ä¸€ä¸ªé«˜ä¸­é˜¶æ®µçš„æ•°å­¦ç»“è®ºâ€”-<strong>nå…ƒå‡å€¼ä¸ç­‰å¼</strong></p><p>åˆ©ç”¨è¿™ä¸ªä¸ç­‰å¼ï¼Œå‘Šè¯‰æˆ‘ä»¬åœ¨å’Œä¸ºä¸€å®šçš„æ—¶å€™ï¼Œå½“ä¸‰ä¸ªæ•°è¶Šé è¿‘ä¹˜ç§¯è¶Šå¤§ï¼Œé€šè¿‡è¿™ä¸ªæƒ³æ³•æ¥è¯´è¿™é“é¢˜ä¸ä¹…è§£å†³äº†ğŸ˜€ğŸ˜€</p></blockquote><h3 id="T9ï¼ˆé˜²çˆ†é›¶é¢˜ï¼‰"><a href="#T9ï¼ˆé˜²çˆ†é›¶é¢˜ï¼‰" class="headerlink" title="T9ï¼ˆé˜²çˆ†é›¶é¢˜ï¼‰"></a>T9ï¼ˆé˜²çˆ†é›¶é¢˜ï¼‰</h3><blockquote><p>ä¸å¤šè®²äº†ï¼Œå¤§å®¶éƒ½ä¼šï¼</p></blockquote><h3 id="T10ï¼ˆç­¾åˆ°é¢˜ï¼‰"><a href="#T10ï¼ˆç­¾åˆ°é¢˜ï¼‰" class="headerlink" title="T10ï¼ˆç­¾åˆ°é¢˜ï¼‰"></a>T10ï¼ˆç­¾åˆ°é¢˜ï¼‰</h3><blockquote><p>å…¶å®å°±æ˜¯å¯¹xå’Œyåæ ‡å–ä¸€ä¸ªç»å¯¹å€¼åˆ¤æ–­å®ƒæ˜¯å¦å°äº1å°±å®Œäº‹äº†ï¼Œä¸å¤šè®²äº†ï¼Œå¤§å®¶ä¹Ÿéƒ½ä¼š</p></blockquote><hr><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>è¿™æ ·çœ‹å®Œå¤§å®¶è¿˜è§‰å¾—å¾ˆéš¾å—ï¼Œå¸Œæœ›å¤§å®¶é€šè¿‡ä¹‹åçš„å­¦ä¹ ï¼Œéƒ½å¯ä»¥å¯¹è¿™å¥—é¢˜ç›®å“¼å“§ä¸€ç¬‘ï¼Œéœ²å‡ºéå¸¸ä¸å±‘çš„è¡¨æƒ…ã€‚ğŸ˜ğŸ˜</p><p>ä¹‹åçš„è®­ç»ƒèµ›è¿˜æœ‰å¾ˆå¤šï¼Œå¸Œæœ›å¤§å®¶åŠ æ²¹å‘€ï¼ï¼</p><p>æ‰€ä»¥è¿™å¥—é¢˜ç›®ï¼Œä½ å­¦ä¼šäº†å—ğŸ˜‰ğŸ˜‰ğŸ˜‰</p>]]></content>
    
    
    <categories>
      
      <category>ç´ç†å·¥ä½œå®¤ç®—æ³•ç»„æ•™å­¦</category>
      
      <category>é€‰æ‹”èµ›</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>æ¯”èµ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°ä½dp</title>
    <link href="/posts/227678581.html"/>
    <url>/posts/227678581.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†è®²è¿°åœ¨dpä¸­æ¯”è¾ƒéš¾çš„partâ€“æ•°ä½dpï¼Œè¿™ç±»dpè€ƒè™‘æ¡ä»¶åå¤šï¼Œéš¾æ€è€ƒï¼Œè€ƒåˆ°çš„çŸ¥è¯†ç‚¹ç¹æ‚ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸¦æ¥ä¸€äº›å¸®åŠ©</p><span id="more"></span><h1 id="æ•°ä½dp"><a href="#æ•°ä½dp" class="headerlink" title="æ•°ä½dp"></a>æ•°ä½dp</h1><p>ç»™å‡ºä¸€ä¸ªæ•°ä½dpçš„å®šä¹‰ï¼š</p><blockquote><p>æ•°ä½dpæ˜¯ä¸€ç§è®¡æ•°ç”¨çš„dpï¼Œä¸€èˆ¬å°±æ˜¯è¦ç»Ÿè®¡ä¸€ä¸ªåŒºé—´[le,ri]å†…æ»¡è¶³ä¸€äº›æ¡ä»¶æ•°çš„ä¸ªæ•°</p></blockquote><hr><p>å…¶å®æ˜¯è¿™æ ·ï¼Œå¤§å®¶ä¼šå‘ç°æ•°ä½dpé—®çš„æ˜¯è¿™ä¹ˆä¸€ç§é—®é¢˜ï¼Œæ˜¯åœ¨ä¸€ä¸ªåŒºé—´å†…æ»¡è¶³æ¡ä»¶æ•°çš„ä¸ªæ•°ã€‚</p><p>é¦–å…ˆåœ¨è¿™ç±»é¢˜ä¸­ä¼šåº”ç”¨åˆ°å‡ ä¸ªæŠ€å·§ï¼š</p><h3 id="æŠ€å·§ï¼š"><a href="#æŠ€å·§ï¼š" class="headerlink" title="æŠ€å·§ï¼š"></a>æŠ€å·§ï¼š</h3><h4 id="ç±»å‰ç¼€å’Œçš„æ€æƒ³ï¼š"><a href="#ç±»å‰ç¼€å’Œçš„æ€æƒ³ï¼š" class="headerlink" title="ç±»å‰ç¼€å’Œçš„æ€æƒ³ï¼š"></a>ç±»å‰ç¼€å’Œçš„æ€æƒ³ï¼š</h4><p>å› ä¸ºå¦‚æœåœ¨è¿™ä¸ªåŒºé—´å†…å»æ±‚è§£è§£é›†ï¼Œæ˜¾ç„¶æ˜¯è¾ƒè´¹åŠ²çš„ï¼Œè€Œä¸”ä¹Ÿå¾ˆéš¾æ€è€ƒï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¼šä½¿ç”¨ç±»å‰ç¼€å’Œæ€æƒ³ï¼Œè®©ä¿©ä¸ªç«¯ç‚¹å’Œ1åšåŒºé—´æ±‚å‡º[1,l - 1], [1, r]ã€‚è¿™æ ·æŠŠè¿™ä¿©ä¸ªç›´æ¥ç›¸å‡å°±å¯ä»¥äº†</p><h4 id="é¢„å¤„ç†æ€æƒ³ï¼š"><a href="#é¢„å¤„ç†æ€æƒ³ï¼š" class="headerlink" title="é¢„å¤„ç†æ€æƒ³ï¼š"></a>é¢„å¤„ç†æ€æƒ³ï¼š</h4><p>å…¶å®åœ¨åšé¢˜çš„è¿‡ç¨‹ä¸­ä½ ä¼šå‘ç°ä¸€äº›ä¸œè¥¿ä¼šè¢«åå¤ç”¨åˆ°ï¼Œå¦‚ä¹‹åçš„ä¾‹é¢˜ä¸­çš„ç»„åˆæ•°ï¼Œæå‰ç”¨dpå¤„ç†å¥½çš„æ¡ä»¶ï¼ˆè¯¦æƒ…å¯è§ä¸‹é¢˜ï¼‰</p><h4 id="æ ‘å½¢åˆ†ç±»è®¨è®ºæ€æƒ³ï¼š"><a href="#æ ‘å½¢åˆ†ç±»è®¨è®ºæ€æƒ³ï¼š" class="headerlink" title="æ ‘å½¢åˆ†ç±»è®¨è®ºæ€æƒ³ï¼š"></a>æ ‘å½¢åˆ†ç±»è®¨è®ºæ€æƒ³ï¼š</h4><p>ä¸€èˆ¬æ¥è¯´éƒ½ä¼šå¯¹æ¯ä¸€ä½æ˜¯å¦å¯å¡«æœ€é«˜ä½è¿›è¡Œåˆ†ç±»è®¨è®ºï¼Œè¿›è¡Œè®¨è®ºæ—¶ï¼Œé‚£ä¸ªå›¾å½¢ç‰¹åˆ«åƒæ ‘å½¢ï¼Œæ‰€ä»¥è¿™é‡Œæš‚æ—¶å–åå«åšæ ‘å½¢ğŸ˜</p><p>å…¶å®æ‡‚äº†è¿™äº›æƒ³è§£å‡ºé¢˜ç›®è¿˜æ˜¯æœ‰äº›è´¹åŠ²ï¼Œé‚£ä¹ˆå°±è®©æˆ‘ä»¬å†çœ‹çœ‹ä¾‹é¢˜å§</p><hr><blockquote><p>ç§‘åé‡Œæœ€è¿‘å¾ˆæµè¡Œæ•°å­—æ¸¸æˆã€‚</p><p>æŸäººå‘½åäº†ä¸€ç§ä¸é™æ•°ï¼Œè¿™ç§æ•°å­—å¿…é¡»æ»¡è¶³ä»å·¦åˆ°å³å„ä½æ•°å­—å‘ˆéä¸‹é™å…³ç³»ï¼Œå¦‚ 123ï¼Œ446ã€‚</p><p>ç°åœ¨å¤§å®¶å†³å®šç©ä¸€ä¸ªæ¸¸æˆï¼ŒæŒ‡å®šä¸€ä¸ªæ•´æ•°é—­åŒºé—´ [a,b]ï¼Œé—®è¿™ä¸ªåŒºé—´å†…æœ‰å¤šå°‘ä¸ªä¸é™æ•°ã€‚</p><p>è¾“å…¥æ ¼å¼<br>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° a å’Œ bã€‚</p><p>è¾“å‡ºæ ¼å¼<br>æ¯è¡Œç»™å‡ºä¸€ç»„æµ‹è¯•æ•°æ®çš„ç­”æ¡ˆï¼Œå³ [a,b] ä¹‹é—´æœ‰å¤šå°‘ä¸é™æ•°ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤aâ‰¤bâ‰¤2^31âˆ’1<br>è¾“å…¥æ ·ä¾‹ï¼š<br>1 9<br>1 19<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>9<br>18</p></blockquote><p>è¿™é“é¢˜é¦–å…ˆä¸€çœ‹å°±æ˜¯ä¸€é“å…¸å‹çš„æ•°ä½dpï¼Œå¹¶ä¸”è¯´åˆ°äº†ä¸é™æ•°ï¼Œä¼°è®¡å°±æ˜¯è¦è®¨è®ºæ¯ä½æ•°å­—å’Œä¸Šä¸€ä½æ•°å­—çš„é€’æ¨ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ç»™å‡ºä¸€ä¸ªæ ‡ç¨‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">15</span>;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span><span class="hljs-comment">//é¢„å¤„ç†å‡ºå…±iä½ï¼Œæœ€é«˜ä½ä½jçš„æ‰€æœ‰æ–¹æ¡ˆä¹¦</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i ++ ) f[<span class="hljs-number">1</span>][i] = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">9</span>; j ++ )<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = j; k &lt;= <span class="hljs-number">9</span>; k ++ )<br>                f[i][j] += f[i - <span class="hljs-number">1</span>][k];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!n) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <br>    vector&lt;<span class="hljs-keyword">int</span>&gt; nums;<br>    <br>    <span class="hljs-keyword">while</span> (n) nums.<span class="hljs-built_in">push_back</span>(n % <span class="hljs-number">10</span>), n /= <span class="hljs-number">10</span>;<br>    <br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> last = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = nums[i];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = last; j &lt; x; j ++ )<br>            res += f[i + <span class="hljs-number">1</span>][j];<br>            <span class="hljs-keyword">if</span> (x &lt; last) <span class="hljs-keyword">break</span>;<span class="hljs-comment">//æ˜¯å¦ä¸‹é™</span><br>            last = x;<br>            <br>            <span class="hljs-keyword">if</span> (!i) res ++ ;<span class="hljs-comment">//æœ¬èº«çš„æ–¹æ¡ˆæ•°ä¹Ÿç®—ä¸€ä¸ª</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">init</span>();<br>    <br>    <span class="hljs-keyword">int</span> l, r;<br>    <br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; l &gt;&gt; r) cout &lt;&lt; <span class="hljs-built_in">dp</span>(r) - <span class="hljs-built_in">dp</span>(l - <span class="hljs-number">1</span>) &lt;&lt; endl;<span class="hljs-comment">//ç±»å‰ç¼€å’Œæ€æƒ³</span><br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é“é¢˜å…¶å®ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–æœç´¢çš„ï¼ˆå…¶å®è®°å¿†åŒ–æœç´¢å°±æ˜¯dpï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">int</span> A,B,a[<span class="hljs-number">11</span>],f[<span class="hljs-number">11</span>][<span class="hljs-number">10</span>];    <span class="hljs-comment">//få­˜å‚¨åœ¨æ²¡æœ‰è´´åˆä¸Šç•Œçš„æƒ…å†µä¸‹ï¼Œä»ç¬¬iä½å¼€å§‹ä¸”å‰ä¸€ä½æ˜¯jçš„ä¸é™æ•°æ–¹æ¡ˆæ•°</span><br>                            <span class="hljs-comment">//å› ä¸ºfæ˜¯æ²¡æœ‰è´´åˆä¸Šç•Œçš„æƒ…å†µä¸‹ï¼Œå³å‰©ä¸‹iä½å¯ä»¥ä»00â€¦00~99â€¦99éšä¾¿å¡«ï¼Œæ‰€ä»¥æ— è®ºæ•°a[]æ˜¯å¤šå°‘éƒ½å¯ä»¥é€‚ç”¨</span><br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> pre,<span class="hljs-keyword">bool</span> lim)</span></span>&#123;<br>    <span class="hljs-keyword">if</span> (i==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (~f[i][pre] &amp;&amp; !lim) <span class="hljs-keyword">return</span> f[i][pre];    <span class="hljs-comment">//fæ˜¯æ²¡æœ‰è´´åˆä¸Šç•Œçš„æƒ…å†µä¸‹ï¼Œå³!lim</span><br>    <span class="hljs-keyword">int</span> up=lim ? a[i]:<span class="hljs-number">9</span>,ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k=pre ; k&lt;=up ; k++)               <span class="hljs-comment">//æšä¸¾å¯ä»¥å¡«çš„æ•°</span><br>     ans+=<span class="hljs-built_in">dfs</span>(i<span class="hljs-number">-1</span>,k,lim &amp;&amp; k==up);<br>    <span class="hljs-keyword">if</span> (!lim) f[i][pre]=ans;                    <span class="hljs-comment">//fæ˜¯æ²¡æœ‰è´´åˆä¸Šç•Œçš„æƒ…å†µä¸‹ï¼Œå³!lim</span><br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;        <span class="hljs-comment">//æ‹†åˆ†æ¯ä¸€ä½</span><br>    <span class="hljs-keyword">if</span> (!x) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> ( ; x ; x/=<span class="hljs-number">10</span>) a[++len]=x%<span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">dfs</span>(len,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">memset</span>(f,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span> f);<br>    <span class="hljs-keyword">while</span>(cin&gt;&gt;A&gt;&gt;B) cout&lt;&lt;<span class="hljs-built_in">solve</span>(B)-<span class="hljs-built_in">solve</span>(A<span class="hljs-number">-1</span>)&lt;&lt;endl;<br>&#125;<br></code></pre></div></td></tr></table></figure><hr>è¿™ç±»é¢˜è¦åšåˆ°åˆ†ç±»è®¨è®ºçš„æ—¶å€™ä¸é‡ä¸æ¼ï¼Œè¿™ä¹Ÿæ˜¯è¿™ç±»é¢˜æœ€éš¾çš„åœ°æ–¹ï¼Œä¸€ä¸å°å¿ƒå°±æ¼æ‰ä¸€ä¸ªéƒ¨åˆ†ï¼Œå¦‚æœå¤šåŠ è®­ç»ƒåº”è¯¥ä¼šåšçš„å‡ºæ¥äº†å§ã€‚ï¼ˆè‡³å°‘ç°åœ¨ç»™æˆ‘ä¸€ä¸ªæ–°é¢˜ï¼Œæˆ‘ä¼°è®¡æˆ‘åº”è¯¥æ˜¯åšä¸å‡ºæ¥ï¼‰<hr><p><strong>å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¼šè®©ä½ ä»¬å¯¹æ•°ä½dpæœ‰ä¸€ä¸ªæ›´æ·±çš„äº†è§£å§</strong></p><hr><h2 id="å†ç»™å‡ºä¸€é“ç»ƒä¹ é¢˜å§ï¼š"><a href="#å†ç»™å‡ºä¸€é“ç»ƒä¹ é¢˜å§ï¼š" class="headerlink" title="å†ç»™å‡ºä¸€é“ç»ƒä¹ é¢˜å§ï¼š"></a>å†ç»™å‡ºä¸€é“ç»ƒä¹ é¢˜å§ï¼š</h2><blockquote><p>æ±‚ç»™å®šåŒºé—´ [X,Y] ä¸­æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„æ•´æ•°ä¸ªæ•°ï¼šè¿™ä¸ªæ•°æ°å¥½ç­‰äº K ä¸ªäº’ä¸ç›¸ç­‰çš„ B çš„æ•´æ•°æ¬¡å¹‚ä¹‹å’Œã€‚</p><p>ä¾‹å¦‚ï¼Œè®¾ X=15,Y=20,K=2,B=2ï¼Œåˆ™æœ‰ä¸”ä»…æœ‰ä¸‹åˆ—ä¸‰ä¸ªæ•°æ»¡è¶³é¢˜æ„ï¼š</p><p>17=24+20<br>18=24+21<br>20=24+22<br>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° X å’Œ Yï¼Œæ¥ä¸‹æ¥ä¸¤è¡ŒåŒ…å«æ•´æ•° K å’Œ Bã€‚</p><p>è¾“å‡ºæ ¼å¼<br>åªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„æ•°çš„ä¸ªæ•°ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤Xâ‰¤Yâ‰¤2^31âˆ’1,<br>1â‰¤Kâ‰¤20,<br>2â‰¤Bâ‰¤10<br>è¾“å…¥æ ·ä¾‹ï¼š<br>15 20<br>2<br>2<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>3</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">35</span>;<br><br><span class="hljs-keyword">int</span> K, B;<br><span class="hljs-keyword">int</span> f[N][N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i ++ )<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= i; j ++ )<br>            <span class="hljs-keyword">if</span> (!j) f[i][j] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> f[i][j] = f[i - <span class="hljs-number">1</span>][j] + f[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!n) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>    vector&lt;<span class="hljs-keyword">int</span>&gt; nums;<br>    <span class="hljs-keyword">while</span> (n) nums.<span class="hljs-built_in">push_back</span>(n % B), n /= B;<br><br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> last = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = nums[i];<br>        <span class="hljs-keyword">if</span> (x)  <span class="hljs-comment">// æ±‚å·¦è¾¹åˆ†æ”¯ä¸­çš„æ•°çš„ä¸ªæ•°</span><br>        &#123;<br>            res += f[i][K - last];<br>            <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (K - last - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) res += f[i][K - last - <span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                last ++ ;<br>                <span class="hljs-keyword">if</span> (last &gt; K) <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (!i &amp;&amp; last == K) res ++ ;   <span class="hljs-comment">// æœ€å³ä¾§åˆ†æ”¯ä¸Šçš„æ–¹æ¡ˆ</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">init</span>();<br><br>    <span class="hljs-keyword">int</span> l, r;<br>    cin &gt;&gt; l &gt;&gt; r &gt;&gt; K &gt;&gt; B;<br><br>    cout &lt;&lt; <span class="hljs-built_in">dp</span>(r) - <span class="hljs-built_in">dp</span>(l - <span class="hljs-number">1</span>) &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p class="note note-success">æ‰€ä»¥æ•°ä½dpä½ å­¦ä¼šäº†å—ğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒºé—´åˆå¹¶</title>
    <link href="/posts/795397410.html"/>
    <url>/posts/795397410.html</url>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œè®²åˆ°æ— åºåŒºé—´çš„åˆå¹¶çš„ä»£ç ï¼Œæ¿å­å’ŒåŸç†</p><span id="more"></span><h1 id="åŒºé—´åˆå¹¶"><a href="#åŒºé—´åˆå¹¶" class="headerlink" title="åŒºé—´åˆå¹¶"></a>åŒºé—´åˆå¹¶</h1><p>é¦–å…ˆå¤§å®¶æƒ³åˆ°åŒºé—´åˆå¹¶çš„æ—¶å€™è§‰å¾—ï¼Œ<strong>å•Š~è¿™ä¸ªå¥½ç®€å•</strong> ã€‚æ˜¯ä¸æ˜¯è¿™æ ·æƒ³ï¼Ÿ</p><p>æˆ‘æœ€å¼€å§‹ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œè¿™ä¸ªä¸œè¥¿å¦‚æœè‡ªå·±æœ‰ç§¯ç´¯è¿‡çš„ç¡®æ˜¯å¾ˆç®€å•çš„ä¸€ä¸ªæ€æƒ³å’Œä»£ç ï¼Œå¦‚æœæ²¡æœ‰æ¥è§¦è¿‡åœ¨è€ƒè¯•ä¸­æˆ–æ¯”èµ›ä¸­ç°åœºæƒ³è¿˜æ˜¯æ¯”è¾ƒè´¹åŠ²çš„ã€‚</p><p>è¿™é‡Œé¦–å…ˆç»™å‡ºä¸€ä¸ªåŒºé—´åˆå¹¶çš„æ¨¡æ¿ä»£ç </p><h2 id="ä»£ç æ¨¡æ¿"><a href="#ä»£ç æ¨¡æ¿" class="headerlink" title="ä»£ç æ¨¡æ¿"></a>ä»£ç æ¨¡æ¿</h2><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br>vector&lt;PII&gt; q;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;PII&gt; res;<br>    <span class="hljs-built_in">sort</span>(q.<span class="hljs-built_in">begin</span>(), q.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">int</span> st = <span class="hljs-number">-2e9</span>, en = <span class="hljs-number">-2e9</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> a : q)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(en &lt; a.x)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (st != <span class="hljs-number">-2e9</span>) res.<span class="hljs-built_in">push_back</span>(&#123;st, en&#125;);<br>            st = a.x;<br>            en = a.y;<br>        &#125;<br>        <span class="hljs-keyword">else</span> en = <span class="hljs-built_in">max</span>(en, a.y);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span> (st != <span class="hljs-number">-2e9</span>) res.<span class="hljs-built_in">push_back</span>(&#123;st, en&#125;);<br>    <br>    q = res;<br>    <br>    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        <br>        q.<span class="hljs-built_in">push_back</span>(&#123;l, r&#125;);<br>    &#125;<br>    <br>    <span class="hljs-built_in">merge</span>();<br>    <br>    cout &lt;&lt; q.<span class="hljs-built_in">size</span>() &lt;&lt; endl;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå‘¢æ˜¯è¿™æ ·ï¼Œåˆ©ç”¨äº†è´ªå¿ƒçš„æ€æƒ³ç»™å·¦ç«¯ç‚¹æ’åºï¼Œç„¶åé€æ­¥åˆå¹¶ï¼Œå¹¶ä¸”ç»´æŠ¤è€…å³ç«¯ç‚¹å’Œå·¦ç«¯ç‚¹ï¼Œè¿™ä¸ªä¸œè¥¿ç¬¬ä¸€æ¬¡è¿˜æ˜¯è¾ƒéš¾å†™å‡ºæ¥çš„ï¼Œæ¨èå¤§å®¶èƒŒè¿‡æŠŠï¼ï¼</p><hr><h2 id="usacoé¢˜ç›®ï¼š"><a href="#usacoé¢˜ç›®ï¼š" class="headerlink" title="usacoé¢˜ç›®ï¼š"></a>usacoé¢˜ç›®ï¼š</h2><p>è¿™é‡Œåœ¨åˆ†äº«ä¸€é“usacoçš„ä¸€é“é¢˜æ¥ç»“æŸè¿™ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><blockquote><p>æ¯å¤©æ—©ä¸Š 5 ç‚¹ï¼Œä¸‰åå†œå¤«å»ç‰›åœºç»™å¥¶ç‰›ä»¬æŒ¤å¥¶ã€‚</p><p>ç°åœ¨ä» 5 ç‚¹å¼€å§‹æŒ‰ç§’è®¡æ—¶ï¼Œç¬¬ä¸€åå†œå¤«åœ¨ç¬¬ 300 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬ 1000 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ç¬¬äºŒåå†œå¤«åœ¨ç¬¬ 700 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬1200 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ç¬¬ä¸‰åå†œå¤«åœ¨ç¬¬ 1500 ç§’å¼€å§‹ç»™ç‰›æŒ¤å¥¶ï¼Œå¹¶åœ¨ç¬¬ 2100 ç§’åœæ­¢æŒ¤å¥¶ã€‚</p><p>ä»å¼€å§‹æŒ¤å¥¶åˆ°æŒ¤å¥¶å®Œå…¨ç»“æŸï¼Œè¿™ä¸€æœŸé—´ï¼Œè‡³å°‘å­˜åœ¨ä¸€åå†œå¤«æ­£åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„é•¿åº¦æœ€é•¿ä¸º 900 ç§’ï¼ˆç¬¬ 300 ç§’è‡³ç¬¬ 1200 ç§’ï¼‰ï¼Œå®Œå…¨æ²¡æœ‰ä»»ä½•å†œå¤«åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„é•¿åº¦æœ€é•¿ä¸º 300 ç§’ï¼ˆç¬¬ 1200ç§’è‡³ç¬¬ 1500 ç§’ï¼‰ã€‚</p><p>ç°åœ¨ç»™ä½  N åå†œå¤«æŒ¤ N å¤´å¥¶ç‰›çš„å·¥ä½œæ—¶é—´è¡¨ï¼Œè¯·ä½ æ±‚å‡ºï¼š</p><ol><li>è‡³å°‘å­˜åœ¨ä¸€åå†œå¤«æ­£åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„æœ€é•¿é•¿åº¦ã€‚</li><li>æ²¡æœ‰ä»»ä½•å†œå¤«åœ¨æŒ¤å¥¶çš„è¿ç»­æ—¶é—´æ®µçš„æœ€é•¿é•¿åº¦ã€‚</li></ol><p><strong>æ³¨æ„</strong>ï¼šæœ¬é¢˜ä¸­ç»™å‡ºçš„æ‰€æœ‰æ—¶é—´å‡ä¸ºæ—¶åˆ»ï¼ˆæ—¶é—´ç‚¹ï¼‰ï¼Œå› æ­¤åœ¨æœ¬é¢˜ä¸­æŒ¤å¥¶åŒºé—´ [100ï¼Œ200][100ï¼Œ200] å’Œ [201,300][201,300] ä¸­é—´ä¼šæœ‰é•¿åº¦ä¸º 1 ç§’çš„é—´æ­‡æ—¶é—´ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºå†œå¤«æ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªéè´Ÿæ•´æ•° l,rï¼Œè¡¨ç¤ºå†œå¤«æŒ¤å¥¶çš„å¼€å§‹æ—¶åˆ»å’Œç»“æŸæ—¶åˆ»ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€é•¿è¿ç»­æŒ¤å¥¶æ—¶é—´ä»¥åŠæœ€é•¿è¿ç»­æ— äººæŒ¤å¥¶æ—¶é—´ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Nâ‰¤5000<br>1â‰¤lâ‰¤râ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">300 </span><span class="hljs-number">1000</span><br><span class="hljs-symbol">700 </span><span class="hljs-number">1200</span><br><span class="hljs-symbol">1500 </span><span class="hljs-number">2100</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">900 </span><span class="hljs-number">300</span><br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">5010</span>;<br><br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><br>PII q[N];<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">int</span> max_1, max_2;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; q[i].x &gt;&gt; q[i].y;<br>    <br>    <span class="hljs-built_in">sort</span>(q, q + n);<br>    <br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">-2e9</span>, r = <span class="hljs-number">-2e9</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">if</span> (r &lt; q[i].x)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l != <span class="hljs-number">-2e9</span>)<br>            &#123;<br>            max_2 = <span class="hljs-built_in">max</span>(q[i].x - r, max_2);<br>            max_1 = <span class="hljs-built_in">max</span>(r - l, max_1);<br>            r = q[i].x;<br>            &#125;<br>            <br>        l = q[i].x, r = q[i].y;<br>            <br>        &#125;<br>        <span class="hljs-keyword">else</span> r = <span class="hljs-built_in">max</span>(q[i].y, r);<br>    &#125;<br>    <br>    <span class="hljs-keyword">if</span>(l != <span class="hljs-number">-2e9</span>) max_1 = <span class="hljs-built_in">max</span>(r - l, max_1);<br>    <br>    cout &lt;&lt; max_1 &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; max_2 &lt;&lt; endl;<br>    <br>&#125;<br></code></pre></div></td></tr></table></figure><p>å¥½äº†ï¼ŒåŒºé—´åˆå¹¶å°±å®Œäº‹äº†ï¼ğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºå­é›†çš„çŠ¶å‹dp</title>
    <link href="/posts/3960819418.html"/>
    <url>/posts/3960819418.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†åˆ†äº«ä¸€ä¸ªçŠ¶å‹dpçš„ä¸€ç±»é¢˜ï¼šåŸºäºå­é›†çš„åŠ¨æ€è§„åˆ’</p><span id="more"></span><h2 id="å‰åº"><a href="#å‰åº" class="headerlink" title="å‰åº"></a>å‰åº</h2><p>å†™æ­¤ç¯‡æ–‡ç« çš„åŸå› ä¹Ÿæ˜¯å› ä¸ºåœ¨å‘¨èµ›é‡åˆ°äº†æ­¤é—®é¢˜ï¼Œå½“æ—¶ç”¨çš„æ˜¯dfs+å‰ªæè§£å†³ï¼Œåæ¥è§‚çœ‹ä¸€äº›äººçš„é¢˜è§£å‘ç°åˆ©ç”¨äº†çŠ¶å‹dpï¼Œä¹Ÿå­¦åˆ°äº†å¾ˆå¤šçš„ä¸œè¥¿</p><h1 id="çŠ¶å‹dp"><a href="#çŠ¶å‹dp" class="headerlink" title="çŠ¶å‹dp"></a>çŠ¶å‹dp</h1><p>å…¶å®ï¼ŒçŠ¶å‹ DP å°±æ˜¯æšä¸¾æ‰€æœ‰æƒ…å†µçš„ ã€Œ æš´åŠ› ã€ã€‚</p><p>çŠ¶æ€å‹ç¼©ï¼Œå…¶å®å°±æ˜¯å°†æ¯ä¸ªä»»åŠ¡ <code>task[i]</code> çœ‹ä½œæŸä¸ª ã€Œ åè¿›åˆ¶æ•°å­— ã€ çš„<strong>äºŒè¿›åˆ¶ä¸Šçš„ç¬¬ <code>i</code> ä½</strong>ï¼Œ<code>1</code> è¡¨ç¤ºè¯¥ä»»åŠ¡è¢«é€‰æ‹©ï¼Œåä¹‹ä¸è¢«é€‰æ‹©ã€‚</p><p><strong>Tips</strong>ï¼š åè¿›åˆ¶æ•°å­—æ˜¯å¤šå°‘æˆ‘ä»¬æ ¹æœ¬ä¸ç”¨å…³å¿ƒï¼Œæˆ‘ä»¬å…³å¿ƒçš„æ˜¯å®ƒçš„äºŒè¿›åˆ¶é•¿å•¥æ ·ã€‚</p><p>çŠ¶æ€å‹ç¼©å¯ä»¥ç®€å•çš„ç†è§£ä¸ºæŠŠä¸€ä¸ªå¸ƒå°” boolean æ•°ç»„å‹ç¼©åˆ°äº†ä¸€ä¸ªåè¿›åˆ¶æ•°å­—ä¸Šï¼Œä¹‹åä¾¿å¯ä»¥ä½¿ç”¨ä½è¿ç®—çš„å„ç§æŠ€å·§æ¥ç®€åŒ–ä»£ç é€»è¾‘ï¼Œè¿™å¯æ¯”å¸ƒå°”æ•°ç»„å¥½ç”¨å¤šäº†ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-comment">// m =&gt; æ€»çŠ¶æ€æ•°</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; m; i++) &#123;<br>    <span class="hljs-comment">// æšä¸¾çŠ¶æ€ i çš„äºŒè¿›åˆ¶å­é›†</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &gt; <span class="hljs-number">0</span>; j = (j - <span class="hljs-number">1</span>) &amp; i) &#123;<br>        <span class="hljs-comment">// To Do..</span><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å…¶å®çŠ¶å‹dpå¹¶ä¸ä¼šå¾ˆéš¾ï¼Œç„¶åè¿™é‡Œæ˜¯ä¸»è¦æƒ³è¯´æ˜ä¸€ä¸ªæšä¸¾è‡ªå·±çš„ä¸€ä¸ªæ–¹å¼ï¼Œå°±æ˜¯ j = (j - 1) &amp; i) </p><p>å¦‚æœä¸ä¼šè¿™æ­¥æš´åŠ›æ¥å†™çš„è¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-comment">// m =&gt; æ€»çŠ¶æ€æ•°</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; m; i++) &#123;<br>    <span class="hljs-comment">// ä» [1, i] å°±å¯ä»¥äº†ï¼Œåé¢çš„ä¸€å®šä¸ä¼šæ˜¯ i çš„å­é›†</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) &#123;<br>        <span class="hljs-comment">// æ£€æŸ¥çŠ¶æ€ j æ˜¯ä¸æ˜¯çŠ¶æ€ i çš„äºŒè¿›åˆ¶å­é›†</span><br>        <span class="hljs-keyword">if</span> ((i | j) == i) &#123;<br>            <span class="hljs-comment">// To Do..</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œç¬¬äºŒä¸ªä»£ç æœ‰äº›è®¸çš„ç¬¨é‡å¹¶ä¸”æ²¡æœ‰ä»»ä½•ç¾æ„Ÿhhh</p><h3 id="ä¸ªäººæ„Ÿæƒ³"><a href="#ä¸ªäººæ„Ÿæƒ³" class="headerlink" title="ä¸ªäººæ„Ÿæƒ³"></a>ä¸ªäººæ„Ÿæƒ³</h3><p>å…¶å®æˆ‘æƒ³äº†æƒ³å†™ç¨‹åºçš„æˆ‘ä»¬ä¸å°±æ˜¯è¿½æ±‚ç¾æ„Ÿå’Œæ•ˆç‡å—ï¼Ÿ</p><p>å½“äºŒè€…å…¼é¡¾çš„æ—¶å€™ï¼Œé‚£åº”è¯¥å·²ç»è¶…è¿‡å¾ˆå¤šäººäº†æŠŠhhhï¼Œä¸ªäººç†è§£</p><hr><p>æ‰€ä»¥è¿™ä¸ªæšä¸¾å­é›†çš„æ–¹æ³•ä½ å­¦ä¼šäº†å—ï¼ŸğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IEEE754</title>
    <link href="/posts/2366819883.html"/>
    <url>/posts/2366819883.html</url>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« å°†ä»‹ç»IEEE754 æµ®ç‚¹æ•°äºŒè¿›åˆ¶å­˜å‚¨æ ‡å‡†</p><span id="more"></span><h1 id="æµ®ç‚¹æ•°å­˜å‚¨"><a href="#æµ®ç‚¹æ•°å­˜å‚¨" class="headerlink" title="æµ®ç‚¹æ•°å­˜å‚¨"></a>æµ®ç‚¹æ•°å­˜å‚¨</h1><p>ç”±ä¸€ä¸ªæˆ‘çš„ç»å†æ¥å¼•å‡ºä»Šå¤©çš„åšæ–‡</p><p>ä»Šå¤©åœ¨çœ‹ç®—æ³•é¢˜è§£çš„æ—¶å€™çœ‹è§ä¸€ä¸ªäººæŠŠdoubleç±»å‹çš„åˆå€¼èµ‹å€¼æˆäº†1e20ï¼Œè¿™ä¸ªå¼•èµ·äº†æˆ‘çš„æ·±æ€ï¼Œå› ä¸ºdoubleåŒlong longåŒä¸º8å­—èŠ‚å­˜å‚¨ï¼Œä½†æ˜¯long longå´åªèƒ½å­˜å‚¨æœ€å¤§åˆ°1e18è¿™ä¸ªæ•°é‡çº§ï¼Œè€Œè¿™ä¸ªdoubleé€šè¿‡æŸ¥è¯¢å±…ç„¶å¯ä»¥è¿‡åˆ†çš„å­˜å‚¨åˆ°1e308ï¼Œè¿™æˆ‘å®Œå…¨æ˜¯è’™åœˆçš„ã€‚æ‰€ä»¥é€šè¿‡å­¦ä¹ å°±æœ‰äº†è¿™ç¯‡åšå®¢ã€‚</p><h2 id="IEEEæµ®ç‚¹æ•°äºŒè¿›åˆ¶ç®—æ•°æ ‡å‡†"><a href="#IEEEæµ®ç‚¹æ•°äºŒè¿›åˆ¶ç®—æ•°æ ‡å‡†" class="headerlink" title="IEEEæµ®ç‚¹æ•°äºŒè¿›åˆ¶ç®—æ•°æ ‡å‡†"></a>IEEEæµ®ç‚¹æ•°äºŒè¿›åˆ¶ç®—æ•°æ ‡å‡†</h2><p>é€šè¿‡å­¦ä¹ æˆ‘å‘ç°æµ®ç‚¹æ•°æ‹¥æœ‰ä¸€ä¸ªæ–°çš„å­˜å‚¨æ ‡å‡†ï¼Œè¿™ä¸ªæ ‡å‡†å°±æ˜¯IEEE754</p><h3 id="ç»„æˆï¼ˆæ­¤æ–‡éƒ½ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ä¸ºä¾‹ï¼‰"><a href="#ç»„æˆï¼ˆæ­¤æ–‡éƒ½ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ä¸ºä¾‹ï¼‰" class="headerlink" title="ç»„æˆï¼ˆæ­¤æ–‡éƒ½ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ä¸ºä¾‹ï¼‰"></a>ç»„æˆï¼ˆæ­¤æ–‡éƒ½ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ä¸ºä¾‹ï¼‰</h3><p>åœ¨IEEE 754æ ‡å‡†ä¸­æµ®ç‚¹æ•°ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>ç¬¦å·ä½ï¼ˆsign bitï¼‰</li><li>æœ‰åæŒ‡æ•°ï¼ˆbiased exponentï¼‰</li><li>å°æ•°ï¼ˆfractionï¼‰</li></ul><p>æµ®ç‚¹æ•°åˆ†ä¸ºä¸¤ç§ï¼Œå•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆsingle precisionï¼‰å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆdouble precisionï¼‰ï¼Œå®ƒä»¬ä¸¤ä¸ªæ‰€å çš„ä½æ•°ä¸åŒã€‚</p><p>å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆå…±32ä½ï¼‰ï¼š<br>1ä¸ªç¬¦å·ä½<br>8ä¸ªæŒ‡æ•°ä½<br>23ä¸ªå°æ•°ä½</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/1070689-20190310165139947-1347641585.png" alt="img"></p><p>åŒç²¾åº¦æµ®ç‚¹æ•°ï¼š</p><p>1ä¸ªç¬¦å·ä½</p><p>11ä¸ªæŒ‡æ•°ä¸º</p><p>52ä¸ªå°æ•°ä½</p><h4 id="ç¬¦å·ä½ï¼š"><a href="#ç¬¦å·ä½ï¼š" class="headerlink" title="ç¬¦å·ä½ï¼š"></a>ç¬¦å·ä½ï¼š</h4><p>ç¬¦å·ä½å†³å®šç¬¦å·ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£</p><h4 id="æŒ‡æ•°ä½ï¼š"><a href="#æŒ‡æ•°ä½ï¼š" class="headerlink" title="æŒ‡æ•°ä½ï¼š"></a>æŒ‡æ•°ä½ï¼š</h4><p>è¿™é‡Œæ˜¯åˆ©ç”¨äº†ç§»ç çš„å­˜å‚¨è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å­˜åœ¨åç§»é‡çš„ï¼Œ-3 åœ¨å•ç²¾åº¦æµ®ç‚¹ä¸­ä¼šè¢«åç§»æˆ124</p><h4 id="å°æ•°ä½ï¼š"><a href="#å°æ•°ä½ï¼š" class="headerlink" title="å°æ•°ä½ï¼š"></a>å°æ•°ä½ï¼š</h4><p>è¿™é‡Œæ˜¯ä»¥2çš„è´Ÿå‡ æ¬¡å¹‚åˆ†ä¹‹ä»¥æ¥è¡¨ç¤ºï¼Œä»è€Œä¼šå‡ºç°ç²¾åº¦é—®é¢˜ã€‚</p><h4 id="äºŒè¿›åˆ¶åŸç ï¼š"><a href="#äºŒè¿›åˆ¶åŸç ï¼š" class="headerlink" title="äºŒè¿›åˆ¶åŸç ï¼š"></a>äºŒè¿›åˆ¶åŸç ï¼š</h4><p>äºŒè¿›åˆ¶åŸæ•° = ï¼ˆ-1ï¼‰^ ç¬¦å·ä½ * ï¼ˆ2ï¼‰^ é˜¶ç çœŸå€¼ * å°¾æ•°çœŸå€¼</p><h3 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h3><p>ä¾‹å¦‚178.125</p><ol><li><p>å…ˆæŠŠæµ®ç‚¹æ•°åˆ†åˆ«æŠŠæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†è½¬æ¢æˆ2è¿›åˆ¶</p><ol><li>æ•´æ•°éƒ¨åˆ†ç”¨é™¤2å–ä½™çš„æ–¹æ³•ï¼Œæ±‚å¾—ï¼š10110010</li><li>å°æ•°éƒ¨åˆ†ç”¨ä¹˜2å–æ•´çš„æ–¹æ³•ï¼Œæ±‚å¾—ï¼š001</li><li>åˆèµ·æ¥å³æ˜¯ï¼š10110010.001</li><li>è½¬æ¢æˆäºŒè¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œå³æŠŠå°æ•°ç‚¹ç§»åŠ¨åˆ°æ•´æ•°ä½åªæœ‰1ï¼Œå³ä¸ºï¼š1.0110010001 * 2^111ï¼Œ111æ˜¯äºŒè¿›åˆ¶ï¼Œç”±äºå·¦ç§»äº†7ä½ï¼Œæ‰€ä»¥æ˜¯111</li></ol></li><li><p>æŠŠæµ®ç‚¹æ•°è½¬æ¢äºŒè¿›åˆ¶åï¼Œè¿™é‡ŒåŸºæœ¬å·²ç»å¯ä»¥å¾—å‡ºå¯¹åº”3éƒ¨åˆ†çš„å€¼äº†</p><ol><li><p>æ•°ç¬¦ï¼šç”±äºæµ®ç‚¹æ•°æ˜¯æ•´æ•°ï¼Œæ•…ä¸º0.(è´Ÿæ•°ä¸º1)</p></li><li><p>é˜¶ç  : é˜¶ç æ˜¯éœ€è¦ä½œç§»ç è¿ç®—ï¼Œåœ¨è½¬æ¢å‡ºæ¥çš„äºŒè¿›åˆ¶æ•°é‡Œï¼Œé˜¶æ•°æ˜¯111(åè¿›åˆ¶ä¸º7)ï¼Œå¯¹äºå•ç²¾åº¦çš„æµ®ç‚¹æ•°ï¼Œåç§»å€¼ä¸º01111111(127)[åç§»é‡çš„è®¡ç®—æ˜¯ï¼š2^(e-1)-1, eä¸ºé˜¶ç çš„ä½æ•°ï¼Œå³ä¸º8ï¼Œå› æ­¤åç§»å€¼æ˜¯127]ï¼Œå³ï¼š111+01111111 = 10000110</p></li><li><p>å°¾æ•°ï¼šå°æ•°ç‚¹åé¢çš„æ•°ï¼Œå³0110010001</p></li><li><p>æœ€ç»ˆæ ¹æ®ä½ç½®å¡«åˆ°å¯¹ä½çš„ä½ç½®ä¸Šï¼š</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20211101151638074.png" alt="image-20211101151638074"></p></li></ol></li></ol><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å› ä¸ºå°æ•°ä½æ˜¯ä»¥2çš„è´Ÿå‡ æ¬¡å¹‚çš„å­˜å‚¨æ–¹å¼ï¼Œå¿…å®šä¼šæœ‰ç²¾åº¦å·®ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¤æ–­å°æ•°æ˜¯å¦ç›¸ç­‰çš„æ—¶å€™æ˜¯ä¸å°±å¿…å®šä¸èƒ½ç”¨åŒç­‰äº†å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„</p><hr><p>æ‰€ä»¥IEEE754è§„åˆ™ä½ å­¦ä¼šäº†å—ï¼ŸğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºåŸç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>è®¡ç®—æœºåŸç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯æŒä¹…åŒ–æ•°æ®ç»“æ„</title>
    <link href="/posts/849974245.html"/>
    <url>/posts/849974245.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†åˆ†äº«ä¿©ä¸ªæˆ‘ä»¬å¸¸è§çš„å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼šä¸»å¸­æ ‘ï¼Œå¯æŒä¹…åŒ–å­—å…¸æ ‘</p><span id="more"></span><h1 id="å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼š"><a href="#å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼š" class="headerlink" title="å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼š"></a>å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼š</h1><p>é¦–å…ˆè¦æçš„ä¸€ç‚¹æ˜¯ï¼Œå¯æŒä¹…åŒ–è¯´åˆ°åº•æ˜¯ä¸€ç§æ€æƒ³ã€‚</p><p>å¯æŒä¹…åŒ–è¯´ç™½äº†å°±å¯ä»¥å­˜ä¸‹æ¥ä¿®æ”¹çš„å†å²ç‰ˆæœ¬ï¼ˆæœ‰ç‚¹åƒgitå·¥å…·ï¼‰</p><ul><li>å¯æŒä¹…åŒ–çš„å‰æï¼š<ul><li>åœ¨ä¿®æ”¹çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®ç»“æ„æœ¬èº«çš„æ‹“æ‰‘ç»“æ„ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚</li></ul></li><li>å¯æŒä¹…åŒ–çš„æ•°æ®ç»“æ„ä¾‹å­ï¼š<ul><li>trieæ ‘ï¼Œçº¿æ®µæ ‘â€”â€”ä¸»å¸­æ ‘ï¼Œå †ï¼Œæ ‘çŠ¶æ•°ç»„</li></ul></li><li>ä¸å¯æŒä¹…åŒ–çš„æ•°æ®ç»“æ„ä¾‹å­ï¼š<ul><li>å¹³è¡¡æ ‘ï¼ˆå·¦æ—‹å³æ—‹åï¼Œæ‹“æ‰‘ç»“æ„ä¼šå‘ç”Ÿæ”¹å˜ï¼‰</li></ul></li><li>å¯æŒä¹…åŒ–æ•°æ®ç»“æ„è§£å†³çš„é—®é¢˜ï¼š<ul><li>æˆ‘ä»¬å¸Œæœ›æŠŠæ¯æ¬¡ä¿®æ”¹çš„ç‰ˆæœ¬éƒ½è®°å½•ä¸‹æ¥ï¼ˆç±»ä¼¼gitå·¥å…·ï¼‰</li></ul></li><li>æ ¸å¿ƒæ€æƒ³ï¼š<ul><li>åªä¼šè®°å½•æ¯ä¸€ä¸ªç‰ˆæœ¬ä¸å‰ä¸€ä¸ªç‰ˆæœ¬ä¸ä¸€æ ·çš„ç»“ç‚¹</li></ul></li></ul><h2 id="å¯æŒä¹…åŒ–å­—å…¸æ ‘"><a href="#å¯æŒä¹…åŒ–å­—å…¸æ ‘" class="headerlink" title="å¯æŒä¹…åŒ–å­—å…¸æ ‘"></a>å¯æŒä¹…åŒ–å­—å…¸æ ‘</h2><p>ä¹Ÿæ˜¯ä¸¾å‡ºä¸€é“ç»å…¸çš„ä¾‹é¢˜ï¼šæœ€å¤§å¼‚æˆ–å’Œ</p><blockquote><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°åºåˆ— aï¼Œåˆå§‹é•¿åº¦ä¸º Nã€‚</p><p>æœ‰ M ä¸ªæ“ä½œï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ“ä½œç±»å‹ï¼š</p><ol><li><code>A x</code>ï¼šæ·»åŠ æ“ä½œï¼Œè¡¨ç¤ºåœ¨åºåˆ—æœ«å°¾æ·»åŠ ä¸€ä¸ªæ•° xï¼Œåºåˆ—çš„é•¿åº¦ N å¢å¤§ 1ã€‚</li><li><code>Q l r x</code>ï¼šè¯¢é—®æ“ä½œï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªä½ç½® pï¼Œæ»¡è¶³ lâ‰¤pâ‰¤rï¼Œä½¿å¾—ï¼ša[p] xor a[p+1] xor â€¦ xor a[N] xor x æœ€å¤§ï¼Œè¾“å‡ºè¿™ä¸ªæœ€å¤§å€¼ã€‚</li></ol><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° Nï¼ŒMï¼Œå«ä¹‰å¦‚é—®é¢˜æè¿°æ‰€ç¤ºã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« Nä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºåˆå§‹çš„åºåˆ— Aã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡Œæè¿°ä¸€ä¸ªæ“ä½œï¼Œæ ¼å¼å¦‚é¢˜é¢æ‰€è¿°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æ¯ä¸ªè¯¢é—®æ“ä½œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯¢é—®çš„ç­”æ¡ˆã€‚</p><p>æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>N,Mâ‰¤3Ã—10^5,0â‰¤a[i]â‰¤10^7</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">5</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">6</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span><br><span class="hljs-attribute">A</span> <span class="hljs-number">1</span> <br><span class="hljs-attribute">Q</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <br><span class="hljs-attribute">A</span> <span class="hljs-number">4</span> <br><span class="hljs-attribute">Q</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">0</span> <br><span class="hljs-attribute">Q</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">6</span> <br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br>5<br>6<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">6e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = N * <span class="hljs-number">25</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-keyword">int</span> s[N];<br><span class="hljs-keyword">int</span> tr[M][<span class="hljs-number">2</span>], max_id[M];<br><span class="hljs-keyword">int</span> root[N], idx;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> p, <span class="hljs-keyword">int</span> q)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (k &lt; <span class="hljs-number">0</span>)<br>    &#123;<br>        max_id[q] = i;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> v = s[i] &gt;&gt; k &amp; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (p) tr[q][v ^ <span class="hljs-number">1</span>] = tr[p][v ^ <span class="hljs-number">1</span>]; <span class="hljs-comment">//å› ä¸ºä¸Šä¸€ä¸ªç‰ˆæœ¬å­˜åœ¨ï¼Œæˆ‘ä»¬è¦æŠŠé™„å¸¦ä¿¡æ¯ä¸€èµ·å¸¦è¿‡æ¥</span><br>    tr[q][v] = ++ idx;<br>    <span class="hljs-built_in">insert</span> (i, k - <span class="hljs-number">1</span>, tr[p][v], tr[q][v]);<br>    max_id[q] = <span class="hljs-built_in">max</span>(max_id[tr[q][<span class="hljs-number">0</span>]], max_id[tr[q][<span class="hljs-number">1</span>]]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root, <span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p = root;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">23</span>; i &gt;= <span class="hljs-number">0</span>; i -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = C &gt;&gt; i &amp; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (max_id[tr[p][v ^ <span class="hljs-number">1</span>]] &gt;= L) p = tr[p][v ^ <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">else</span> p = tr[p][v];<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> C ^ s[max_id[p]];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-comment">//é¦–å…ˆè¦åˆå§‹åŒ–æœ€å¼€å§‹ï¼Œå› ä¸º0èŠ‚ç‚¹æ˜¯ä¸å­˜åœ¨çš„èŠ‚ç‚¹æ‰€å­˜å‚¨çš„åœ°æ–¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹0èŠ‚ç‚¹è¿›è¡Œä¸€äº›åˆå§‹åŒ–</span><br>    max_id[<span class="hljs-number">0</span>] = <span class="hljs-number">-1</span>;<br>    root[<span class="hljs-number">0</span>] = ++ idx;<br>    <span class="hljs-built_in">insert</span>(<span class="hljs-number">0</span>, <span class="hljs-number">23</span>, <span class="hljs-number">0</span>, root[<span class="hljs-number">0</span>]);<br>  <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        <span class="hljs-keyword">int</span> x;<br>        cin &gt;&gt; x;<br>        <br>        s[i] = s[i - <span class="hljs-number">1</span>] ^ x;<br>        <br>        root[i] = ++ idx;<br>        <span class="hljs-built_in">insert</span>(i, <span class="hljs-number">23</span>, root[i - <span class="hljs-number">1</span>], root[i]);<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">char</span> op;<br>        <span class="hljs-keyword">int</span> l, r, x;<br>        cin &gt;&gt; op;<br>        <br>        <span class="hljs-keyword">if</span>(op == <span class="hljs-string">&#x27;A&#x27;</span>)<br>        &#123;<br>            cin &gt;&gt; x;<br>            n ++ ;<br>            s[n] = s[n - <span class="hljs-number">1</span>] ^ x;<br>            root[n] = ++ idx;<br>            <span class="hljs-built_in">insert</span>(n, <span class="hljs-number">23</span>, root[n - <span class="hljs-number">1</span>], root[n]);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            cin &gt;&gt; l &gt;&gt; r &gt;&gt; x;<br>            cout &lt;&lt; <span class="hljs-built_in">query</span>(root[r - <span class="hljs-number">1</span>], s[n] ^ x, l - <span class="hljs-number">1</span>) &lt;&lt; endl;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå‘¢ç”¨åˆ°äº†ä¸€ä¸ªå‰ç¼€å’Œçš„è½¬æ¢åŠ è´ªå¿ƒçš„ä¸€ä¸ªåšæ³•</p><p>æ‰€ä»¥ä»€ä¹ˆæ˜¯æŒä¹…åŒ–trieå‘¢ï¼Ÿ</p><p><img src="https://img-blog.csdnimg.cn/20181209112435987.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ˜¯åˆ©ç”¨äº†æ¯æ¬¡å­˜å‚¨æ”¹å˜ä¿¡æ¯ï¼Œä¿ç•™åŸæœ‰ä¿¡æ¯çš„æ–¹å¼å»ºç«‹æˆçš„ä¸€ä¸ªå­—å…¸æ ‘ï¼Œè¿™é“é¢˜é‡Œä½¿ç”¨äº†äºŒè¿›åˆ¶ä¸²æ¥å½“è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ç»´æŠ¤äº†ä¸€ä¸ªmax_idæ¥çœ‹å½“å‰è¿™ä¸ªç‰ˆæœ¬æ˜¯å¦åœ¨è¿™ä¸ªåŒºé—´é‡Œå¤´ï¼Œä»è€Œæ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨è¿™ä¸ªèŠ‚ç‚¹</p><h2 id="ä¸»å¸­æ ‘ï¼ˆå¯æŒä¹…åŒ–æƒå€¼çº¿æ®µæ ‘ï¼‰"><a href="#ä¸»å¸­æ ‘ï¼ˆå¯æŒä¹…åŒ–æƒå€¼çº¿æ®µæ ‘ï¼‰" class="headerlink" title="ä¸»å¸­æ ‘ï¼ˆå¯æŒä¹…åŒ–æƒå€¼çº¿æ®µæ ‘ï¼‰"></a>ä¸»å¸­æ ‘ï¼ˆå¯æŒä¹…åŒ–æƒå€¼çº¿æ®µæ ‘ï¼‰</h2><p>æƒå€¼çº¿æ®µæ ‘çš„æœ¬è´¨æ˜¯çº¿æ®µæ ‘ç»´æŠ¤æ¡¶</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ™®é€šçº¿æ®µæ ‘ç»´æŠ¤çš„ä¿¡æ¯æ˜¯æ•°åˆ—çš„åŒºé—´ä¿¡æ¯ï¼Œæ¯”å¦‚åŒºé—´å’Œã€åŒºé—´æœ€å¤§å€¼ã€åŒºé—´æœ€å°å€¼ç­‰ç­‰ã€‚åœ¨ç»´æŠ¤åºåˆ—çš„è¿™äº›ä¿¡æ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ›´å…³æ³¨çš„æ˜¯è¿™äº›æ•°æœ¬èº«çš„ä¿¡æ¯ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬è¦ç»´æŠ¤åŒºé—´çš„æœ€å€¼æˆ–å’Œï¼Œæˆ‘ä»¬æœ€å…³æ³¨çš„æ˜¯è¿™äº›æ•°ç»Ÿå…±çš„ä¿¡æ¯ã€‚è€Œæƒå€¼çº¿æ®µæ ‘<strong>ç»´æŠ¤ä¸€åˆ—æ•°ä¸­æ•°çš„ä¸ªæ•°</strong>ã€‚</p><p>æ‹¿å‡ºæˆ‘ä»¬çš„ç»å…¸ä¾‹é¢˜ï¼Œç¬¬kå°æ•°</p><blockquote><p>ç»™å®šé•¿åº¦ä¸º N çš„æ•´æ•°åºåˆ— AAï¼Œä¸‹æ ‡ä¸º 1âˆ¼N</p><p>ç°åœ¨è¦æ‰§è¡Œ M æ¬¡æ“ä½œï¼Œå…¶ä¸­ç¬¬ ii æ¬¡æ“ä½œä¸ºç»™å‡ºä¸‰ä¸ªæ•´æ•° li,ri,kiï¼Œæ±‚ A[li],A[li+1],â€¦,A[ri] (å³ A çš„ä¸‹æ ‡åŒºé—´ [li,ri][li,ri])ä¸­ç¬¬ ki å°çš„æ•°æ˜¯å¤šå°‘ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°åºåˆ— Aã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° li,ri,kiï¼Œç”¨ä»¥æè¿°ç¬¬ i æ¬¡æ“ä½œã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯æ¬¡æ“ä½œè¾“å‡ºä¸€ä¸ªç»“æœï¼Œè¡¨ç¤ºåœ¨è¯¥æ¬¡æ“ä½œä¸­ï¼Œç¬¬ k å°çš„æ•°çš„æ•°å€¼ã€‚</p><p>æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>Nâ‰¤10^5,Mâ‰¤10^4,|A[i]|â‰¤10^9</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">7 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">7</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">5</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span> <span class="hljs-number">3</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">5<br>6<br>3<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1e4</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> a[N];<br>vector&lt;<span class="hljs-keyword">int</span>&gt; nums;<span class="hljs-comment">//ç¦»æ•£åŒ–</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<span class="hljs-comment">//å¹¶ä¸æ˜¯åŒºé—´ï¼Œè€Œæ˜¯å·¦å³å„¿å­</span><br>    <span class="hljs-keyword">int</span> cnt;<br>&#125;tr[N * <span class="hljs-number">4</span> + N * <span class="hljs-number">17</span>];<br><br><span class="hljs-keyword">int</span> root[N], idx;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">lower_bound</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>(), x) - nums.<span class="hljs-built_in">begin</span>();<br>&#125;<br><br><br><span class="hljs-comment">//å»ºç«‹å¥½éª¨æ¶ï¼Œä¾›æ¯ä¸ªç‰ˆæœ¬çš„insert</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p = ++ idx;<br>    <span class="hljs-keyword">if</span> (l == r) <span class="hljs-keyword">return</span> p;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    tr[p].l = <span class="hljs-built_in">build</span>(l, mid), tr[p].r = <span class="hljs-built_in">build</span>(mid + <span class="hljs-number">1</span>, r);<br>    <span class="hljs-keyword">return</span> p;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> q = ++ idx;<br>    tr[q] = tr[p];<span class="hljs-comment">//è¿™ä¸€æ­¥æ˜¯åœ¨å¤åˆ¶ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br>    <span class="hljs-keyword">if</span> (l == r)<br>    &#123;<br>        tr[q].cnt ++ ;<br>        <span class="hljs-keyword">return</span> q;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (x &lt;= mid) tr[q].l = <span class="hljs-built_in">insert</span>(tr[p].l, l, mid, x);<br>    <span class="hljs-keyword">else</span> tr[q].r = <span class="hljs-built_in">insert</span>(tr[p].r, mid + <span class="hljs-number">1</span>, r, x);<br>    <br>    tr[q].cnt = tr[tr[q].l].cnt + tr[tr[q].r].cnt;<br>    <span class="hljs-keyword">return</span> q;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> q, <span class="hljs-keyword">int</span> p, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == r) <span class="hljs-keyword">return</span> r;<br>    <span class="hljs-keyword">int</span> cnt = tr[tr[q].l].cnt - tr[tr[p].l].cnt;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(k &lt;= cnt) <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(tr[q].l, tr[p].l, l, mid, k);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(tr[q].r, tr[p].r, mid + <span class="hljs-number">1</span>, r, k - cnt);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        cin &gt;&gt; a[i];<br>        nums.<span class="hljs-built_in">push_back</span>(a[i]);<br>    &#125;<br>    <br>    <span class="hljs-built_in">sort</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>());<br>    nums.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>()), nums.<span class="hljs-built_in">end</span>());<br>    <br>    root[<span class="hljs-number">0</span>] = <span class="hljs-built_in">build</span>(<span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ )<br>    &#123;<br>        root[i] = <span class="hljs-built_in">insert</span>(root[i - <span class="hljs-number">1</span>], <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>, <span class="hljs-built_in">find</span>(a[i]));<br>    &#125;<br>    <br>    <span class="hljs-keyword">while</span> (m -- )<br>    &#123;<br>        <span class="hljs-keyword">int</span> l, r, k;<br>        cin &gt;&gt; l &gt;&gt; r &gt;&gt; k;<br>        cout &lt;&lt; nums[<span class="hljs-built_in">query</span>(root[r], root[l - <span class="hljs-number">1</span>], <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>, k)] &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æƒå€¼çº¿æ®µæ ‘å’Œæ™®é€šçº¿æ®µæ ‘ä¸åŒï¼Œæƒå€¼çº¿æ®µæ ‘ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªä¸ªçš„æ¡¶ï¼Œè€Œæ™®é€šçº¿æ®µæ ‘ç»´æŠ¤çš„æ˜¯æ¯ä¸ªåŒºé—´çš„å…·ä½“ä¿¡æ¯</p><p>è¿™é“é¢˜ä½œä¸ºç»å…¸é¢˜è§£æ³•æ˜¯è›®å¤šçš„</p><ul><li>åˆ’åˆ†æ ‘</li><li>æ ‘å¥—æ•°</li></ul><p>ä¹‹åæˆ‘å­¦åˆ°è¿™äº›å†å»æ›´æ–°è¿™äº›å§</p><p class="note note-success">å¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼Œä½ æ‡‚äº†å—ğŸ˜ğŸ˜</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¼‚æˆ–è§£é¢˜æŠ€å·§</title>
    <link href="/posts/3254579777.html"/>
    <url>/posts/3254579777.html</url>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« å°†ä»‹ç»å¼‚æˆ–çš„è§£é¢˜æŠ€å·§</p><span id="more"></span><h1 id="å¼‚æˆ–æŠ€å·§"><a href="#å¼‚æˆ–æŠ€å·§" class="headerlink" title="å¼‚æˆ–æŠ€å·§"></a>å¼‚æˆ–æŠ€å·§</h1><p>é¦–å…ˆè¯´ä¸€ä¸‹å¼‚æˆ–è¿™ä¸ªè¿ç®—çš„æ€§è´¨ï¼š</p><ul><li><strong>ç»“åˆå¾‹</strong></li><li><strong>äº¤æ¢å¾‹</strong></li><li><strong>x ^ x =0, x ^ 0 = x;</strong></li></ul><p>æ¥ç€ç”±ä¸€é“é¢˜å¼•å‡ºæ€è€ƒï¼š</p><blockquote><p><strong>1-1000æ”¾åœ¨å«æœ‰1001ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ï¼Œåªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå…ƒç´ å€¼é‡å¤ï¼Œå…¶å®ƒå‡åªå‡ºç°</strong><br><strong>ä¸€æ¬¡ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ åªèƒ½è®¿é—®ä¸€æ¬¡ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œå°†å®ƒæ‰¾å‡ºæ¥ï¼›ä¸ç”¨è¾…åŠ©å­˜å‚¨ç©º</strong><br><strong>é—´ï¼Œèƒ½å¦è®¾è®¡ä¸€ä¸ªç®—æ³•å®ç°ï¼Ÿ</strong></p></blockquote><h2 id="è§£æ³•1ï¼šæ±‚sumç›¸å‡"><a href="#è§£æ³•1ï¼šæ±‚sumç›¸å‡" class="headerlink" title="è§£æ³•1ï¼šæ±‚sumç›¸å‡"></a>è§£æ³•1ï¼šæ±‚sumç›¸å‡</h2><p>è¿™ä¸ªæŠ€å·§çš„ç”¨æ³•å°±å’Œåå­—ä¸€æ ·ï¼Œç›´æ¥æ±‚å’Œç›¸å‡å°±å¯ä»¥æ‰¾å‡ºè¿™ä¸ªç¼ºå¤±çš„æ•°å­—ï¼Œç®—æ³•ä¹Ÿéå¸¸çš„å¥½</p><p>ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¦‚æœæ•°åˆ—è¿‡å¤§é‚£ä¹ˆæº¢å‡ºçš„é£é™©ä¹Ÿæ˜¯å·¨å¤§çš„</p><h2 id="è§£æ³•2ï¼šå¼‚æˆ–"><a href="#è§£æ³•2ï¼šå¼‚æˆ–" class="headerlink" title="è§£æ³•2ï¼šå¼‚æˆ–"></a>è§£æ³•2ï¼šå¼‚æˆ–</h2><p>è¿™ä¸ªæ–¹æ³•å°±æ²¡æœ‰æº¢å‡ºçš„é£é™©</p><p>å°†æ‰€æœ‰çš„æ•°å…¨éƒ¨å¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœä¸1^2^3^â€¦^1000çš„ç»“æœè¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯é‡å¤æ•°ã€‚</p><p>è¿™ä¸ªä¸ºä»€ä¹ˆæ˜¯å¯¹çš„å‘¢ï¼Ÿ æ˜¯è¿™æ ·ï¼Œå› ä¸ºå¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„æ•°éƒ½äº¤æ¢æˆ 1^1 ^2^2^3^3^4^4^5^5^6^6^7^7 â€¦â€¦ 1000^1000</p><p>åˆä»ä¸Šé¢çš„æ€§è´¨å¯çŸ¥x ^ x =0, x ^ 0 = x; ä¹Ÿå°±æ˜¯è¯´è½å•çš„å°±æ˜¯é‚£ä¸ªé‡å¤çš„æ•°ï¼Œå…¶ä»–çš„éƒ½ä¸º0 äº†</p><p>æ–¹æ³•æ˜¯ä¸æ˜¯éå¸¸çš„å¦™å‘¢</p><p>æˆ‘ä»¬ä»è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¨å‡ºä¸€ç³»åˆ—é¢˜çš„è§£æ³•ï¼š</p><blockquote><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ tï¼Œå®ƒä»¬åªåŒ…å«å°å†™å­—æ¯ã€‚</p><p>å­—ç¬¦ä¸² t ç”±å­—ç¬¦ä¸² s éšæœºé‡æ’ï¼Œç„¶ååœ¨éšæœºä½ç½®æ·»åŠ ä¸€ä¸ªå­—æ¯ã€‚</p><p>è¯·æ‰¾å‡ºåœ¨ t ä¸­è¢«æ·»åŠ çš„å­—æ¯ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">findTheDifference</span><span class="hljs-params">(string s, string t)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-built_in">size</span>(); i ++ )&#123;<br>            res ^= s[i];<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; t.<span class="hljs-built_in">size</span>(); i ++ )&#123;<br>            res ^= t[i];<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>        <br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><p>é‚£è¿™é“é¢˜çš„åŸç†çš„èƒŒæ™¯å°±æ˜¯ä¸Šé¢çš„é‚£ä¸ªè¯æ˜ï¼Œåªä¸è¿‡åˆ©ç”¨äº†å­—ç¬¦ä¸²æ¥è½¬æ¢ï¼Œåˆ©ç”¨ascllç è½¬æ¢ä¸€ä¸‹å°±å¯ç›´æ¥æ‰¾å‡ºé‚£ä¸ªæ·»åŠ çš„å­—æ¯</p><p>æ‰€ä»¥è¿™ç±»é¢˜çš„åšæ³•ä½ å­¦ä¼šäº†å—ï¼ŸğŸ˜ŠğŸ˜ŠğŸ˜Š</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç ´é“¾æˆç¯æ–¹æ³•</title>
    <link href="/posts/2182568315.html"/>
    <url>/posts/2182568315.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†åˆ†äº«ä¸€ä¸ªç ´é“¾æˆç¯çš„æ–¹æ³•</p><span id="more"></span><p>ç”±ä¸€é“é¢˜å¼•å‡ºä»Šå¤©ç ´é“¾æˆç¯æ–¹æ³•çš„æŠ€å·§</p><blockquote><p>ä¸€å¤©å¯ä»¥è¢«åˆ†ä¸º n ä¸ªæ—¶æ®µã€‚</p><p>ä¸€ä¸ªå·¥äººçš„æ¯æ—¥å·¥ä½œå®‰æ’å¯ä»¥ç”¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0101 åºåˆ— a1,a2,â€¦,an æ¥è¡¨ç¤ºã€‚</p><p>ai ä¸º 00 è¡¨ç¤ºç¬¬ ii ä¸ªæ—¶é—´æ®µæ˜¯å·¥ä½œæ—¶é—´ai ä¸º 1 è¡¨ç¤ºç¬¬ iä¸ªæ—¶é—´æ®µæ˜¯ä¼‘æ¯æ—¶é—´ã€‚</p><p>å·¥äººæ—¥å¤ä¸€æ—¥çš„ä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªå·¥ä½œå®‰æ’æ¥è¿›è¡Œå·¥ä½œå’Œä¼‘æ¯ã€‚</p><p>è¯·é—®ï¼Œå·¥äººçš„æœ€é•¿è¿ç»­ä¼‘æ¯æ—¶é—´æœ‰å¤šé•¿ï¼ˆå•ä½ï¼šæ—¶æ®µï¼‰ï¼Ÿ</p><p>æ³¨æ„ï¼Œè¿ç»­ä¼‘æ¯æ—¶é—´å¯èƒ½è·¨å¤©ã€‚</p><p>ä¿è¯å·¥äººè‡³å°‘åœ¨ä¸€ä¸ªæ—¶é—´æ®µå¤„äºå·¥ä½œçŠ¶æ€ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Tï¼Œè¡¨ç¤ºå…±æœ‰ T ç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•° a1,a2,â€¦,an</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œç»“æœï¼Œè¡¨ç¤ºæœ€é•¿è¿ç»­ä¼‘æ¯æ—¶é—´ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤Tâ‰¤10<br>1â‰¤nâ‰¤2Ã—105<br>0â‰¤aiâ‰¤1<br>åŒä¸€æµ‹è¯•ç‚¹å†…æ‰€æœ‰ n çš„å’Œä¸è¶…è¿‡ 2Ã—1052Ã—105ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-number">6</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-number">7</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span><br><span class="hljs-number">3</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span><br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">2<br>2<br>3<br>0<br></code></pre></div></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">400010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> w[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span> (T -- )<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w[i]);<br>            w[n + i] = w[i];<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, s = <span class="hljs-number">0</span>; i &lt; n * <span class="hljs-number">2</span>; i ++ )<br>            <span class="hljs-keyword">if</span> (w[i])<br>            &#123;<br>                s ++ ;<br>                res = <span class="hljs-built_in">max</span>(res, s);<br>            &#125;<br>            <span class="hljs-keyword">else</span> s = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, res);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>é¢˜æ„ï¼šä¼‘æ¯æ—¶é—´å¯ä»¥è·¨å¤©ï¼Œé‚£ä¹ˆå°±æ˜¯å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªçš„æ•°æ®èƒŒæ™¯å°±æ˜¯ä¸€ä¸ªç¯ï¼Œæ—¥å¤ä¸€æ—¥çš„åœ¨å¾ªç¯ï¼Œè¿™é‡Œå¦‚æœæˆ‘ä»¬ç¡¬åšçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ¤æœ€åçš„é‚£ä¸ªï¼Œå¹¶ä¸”ä¹Ÿéå¸¸çš„éº»çƒ¦ï¼Œåœ¨è¿™é“é¢˜å¯èƒ½è¿˜æ²¡å•¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šç”¨åˆ°ä»¥ä¸Šçš„è¿™ä¸ªç ´é“¾æˆç¯çš„æ–¹æ³•ï¼Œå¼€ä¿©å€åŒºé—´ï¼Œç„¶åè¿™ä¸ªåºåˆ—å¾ªç¯ä¿©æ¬¡ï¼Œæ¥ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ</p><p>ç¬¬ä¸€æ¬¡åšçš„æ—¶å€™æ²¡æœ‰æƒ³åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œç”¨çš„æ˜¯åˆ†ç±»è®¨è®ºï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯çœŸçš„éå¸¸å¥½ç”¨</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>lcç¬¬254åœºå‘¨èµ›</title>
    <link href="/posts/1920835834.html"/>
    <url>/posts/1920835834.html</url>
    
    <content type="html"><![CDATA[<p>è¿™åœºå‘¨èµ›æ•´ä½“æ¥è¯´éš¾åº¦å¯ä»¥ï¼Œå¿«é€Ÿå¹‚é‚£é‡Œçš„æŒ‡æ•°å–æ¨¡ç®€ç›´å°±æ˜¯ç»å…¸ï¼Œè™½ç„¶å¯ä»¥ä½¿ç”¨longlongé£˜è¿‡ï¼Œæ—¶é—´å¡çš„å†æ­»ä¸€ç‚¹å°±æ›´æ£’äº†</p><span id="more"></span><h1 id="T1ï¼šå­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ•°ç›®ï¼ˆ1967ï¼‰"><a href="#T1ï¼šå­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ•°ç›®ï¼ˆ1967ï¼‰" class="headerlink" title="T1ï¼šå­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ•°ç›®ï¼ˆ1967ï¼‰"></a>T1ï¼šå­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ•°ç›®ï¼ˆ1967ï¼‰</h1><p>è¿™é“é¢˜å°±æ²¡å•¥å¯è¯´çš„ï¼Œç›´æ¥ç”¨è¯­è¨€è‡ªå¸¦çš„apiä¹Ÿå¯ä»¥ï¼Œæ‰‹å†™ä¹Ÿå¯ä»¥ï¼Œkmpä¹Ÿå¯ä»¥ï¼Œacè‡ªåŠ¨æœºä¹Ÿå¯ä»¥</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numOfStrings</span><span class="hljs-params">(vector&lt;string&gt;&amp; patterns, string word)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> res=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> str:patterns)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">find</span>(str,word))<br>            res++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">find</span><span class="hljs-params">(string str,string word)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> l=<span class="hljs-number">0</span>;l+str.<span class="hljs-built_in">size</span>()&lt;=word.<span class="hljs-built_in">size</span>();l++)<br>            &#123;<br>                <span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(k=<span class="hljs-number">0</span>;k&lt;str.<span class="hljs-built_in">size</span>();k++)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(word[l+k]!=str[k]) <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(k==str.<span class="hljs-built_in">size</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œçš„è¯æ˜¯æ‰‹å†™äº†ä¸€ä¸ªç³»ç»Ÿè‡ªå¸¦çš„findå‡½æ•°</p><hr><h1 id="T2ï¼šæ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„ï¼ˆ1968ï¼‰"><a href="#T2ï¼šæ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„ï¼ˆ1968ï¼‰" class="headerlink" title="T2ï¼šæ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„ï¼ˆ1968ï¼‰"></a>T2ï¼šæ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„ï¼ˆ1968ï¼‰</h1><p>è¿™é‡Œå°±æ˜¯è€ƒåˆ°äº†ä¸€ä¸ªè´ªå¿ƒï¼Œæˆ‘çš„æ€è·¯å°±æ˜¯å…ˆæ’åºï¼Œç„¶åä»ä¸­ç‚¹å¼€å§‹å·¦è¾¹å¡«ä¸€ä¸ªï¼Œå³è¾¹å¡«ä¸€ä¸ªï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¿™ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªå¤§ä¸€ä¸ªå°ï¼Œæ¥ä¿è¯ä¸ç­‰äºç›¸é‚»å…ƒç´ çš„å¹³å‡å€¼</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">rearrangeArray</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; n)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(n.<span class="hljs-built_in">begin</span>(), n.<span class="hljs-built_in">end</span>());<br>        vector&lt;<span class="hljs-keyword">int</span>&gt; res;<br>        <span class="hljs-keyword">int</span> s =(n.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>)/<span class="hljs-number">2</span> ;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = s <span class="hljs-number">-1</span> ,j = s+<span class="hljs-number">1</span>;j&lt;n.<span class="hljs-built_in">size</span>() &amp;&amp; i &gt;=<span class="hljs-number">0</span> ;j++,i-- )&#123;<br>            res.<span class="hljs-built_in">push_back</span>(n[j]);<br>            res.<span class="hljs-built_in">push_back</span>(n[i]);<br>        &#125;<br>        <span class="hljs-keyword">if</span>((n.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>) &amp; <span class="hljs-number">1</span>) res.<span class="hljs-built_in">push_back</span>(n[n.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>]);<br>        <br>        res.<span class="hljs-built_in">push_back</span>(n[s]);<br>        <span class="hljs-keyword">return</span> res;<br>        &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><p>èµ›åä¹Ÿçœ‹åˆ°äº†å…¶ä»–äººçš„ä»£ç ï¼Œå…ˆæ’å®Œåºï¼Œå…ˆå¡«å¥‡æ•°åºåˆ—ï¼Œå†å¡«è¿›å»å¶æ•°ï¼Œè¿™æ ·ä¹Ÿä¿è¯äº†ä¸€ä¸ªå¤§ä¸€ä¸ªå°ï¼Œè§‰å¾—è¿™ä¸ªæ€è·¯ä¹Ÿè›®ä¸é”™çš„</p><hr><h1 id="T3ï¼š-æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯ï¼ˆ1969ï¼‰"><a href="#T3ï¼š-æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯ï¼ˆ1969ï¼‰" class="headerlink" title="T3ï¼š æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯ï¼ˆ1969ï¼‰"></a>T3ï¼š æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯ï¼ˆ1969ï¼‰</h1><p>è¿™é‡Œå‘¢è€ƒåˆ°äº†ä¸€ä¸ªå¿«é€Ÿå¹‚åŠ ä¸ŠæŒ‡æ•°å–æ¨¡ã€‚ ä¹Ÿæ˜¯ä¸€ä¸ªè´ªå¿ƒï¼Œä½†æ˜¯è¿™ä¸ªè´ªå¿ƒæ¯”è¾ƒå¥½çœ‹å‡ºæ¥ï¼Œå› ä¸ºå‡å€¼ä¸ç­‰å¼ï¼Œä¿©ä¸ªæ•°è¶Šç›¸è¿‘ï¼Œä¹˜ç§¯è¶Šå¤§ï¼Œåœ¨å’Œä¸ºä¸€å®šçš„æ—¶å€™ï¼Œä¹Ÿå°±è¯´æ˜äº†åœ¨éé›¶çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ˜¯ä¸€ï¼Œä¸€ä¸ªæ˜¯æœ€å¤§å€¼è¿™æ ·æ˜¯æœ€å°çš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-function"><span class="hljs-keyword">int</span>  <span class="hljs-title">qmi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> p)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> res=<span class="hljs-number">1</span>%p;<br>        <span class="hljs-keyword">while</span> (b&gt;<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">if</span> ((b&amp;<span class="hljs-number">1</span>)==<span class="hljs-number">1</span>)&#123;res= (<span class="hljs-keyword">int</span>) (((<span class="hljs-keyword">long</span>)res*a)%p);&#125;<span class="hljs-comment">//æŒ‰ä½ä¸</span><br>                a=(<span class="hljs-keyword">int</span>)((<span class="hljs-keyword">long</span>)a*a%p);<br>                b&gt;&gt;=<span class="hljs-number">1</span>;<br>       &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minNonZeroProduct</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p)</span> </span>&#123;<br>        <span class="hljs-comment">// int res = 0;</span><br><br>    <span class="hljs-keyword">int</span> n = ( ( (<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>)<span class="hljs-number">1</span> &lt;&lt; p )- <span class="hljs-number">1</span>)% mod ;<br>    <span class="hljs-comment">// res = max(res , t);</span><br>    <span class="hljs-keyword">int</span>  t =( ( (<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>)<span class="hljs-number">1</span> &lt;&lt; (p - <span class="hljs-number">1</span>) )- <span class="hljs-number">1</span>) % (mod - <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// int a = ((long long )1 &lt;&lt; p) % mod - 2;</span><br>    <span class="hljs-keyword">int</span> x = <span class="hljs-built_in">qmi</span>(n - <span class="hljs-number">1</span> , t, mod);<br>    <span class="hljs-comment">// res = max(r , t);</span><br>    <span class="hljs-keyword">int</span> mn =(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>)x * n % mod;<br>    <span class="hljs-comment">// res = max(res , h);</span><br>    <span class="hljs-keyword">return</span> mn;<br><br><br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><p>è‡³äºæŒ‡æ•°å–æ¨¡é—®é¢˜ï¼Œè®¨è®ºåŒºä¸Šå¾ˆå¤šäººå†™æŒ‡æ•°ä¸è¦å–æ¨¡ï¼Œå…¶å®ä¸æ˜¯è¿™æ ·çš„ã€‚</p><p>æŒ‡æ•°æ˜¯å¯ä»¥å–æ¨¡çš„ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥å–</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210816133711933.png" alt="image-20210816133711933"></p><p>è¿™é‡Œæåˆ°çš„å·²ç»å¾ˆè¯¦ç»†äº†ï¼Œåœ¨è¿™é‡Œå°±æ˜¯è´¨æ•°å–æ¨¡çš„ç‰¹ç‚¹ï¼Œä¹Ÿå°±æ˜¯p-1å°±okäº†</p><hr><h1 id="T4ï¼šä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©ï¼ˆ1970ï¼‰"><a href="#T4ï¼šä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©ï¼ˆ1970ï¼‰" class="headerlink" title="T4ï¼šä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©ï¼ˆ1970ï¼‰"></a>T4ï¼šä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©ï¼ˆ1970ï¼‰</h1><p>è¿™é‡Œæˆ‘ç”¨çš„æ˜¯å¤šæºbfs + äºŒåˆ†ï¼Œçœ‹åˆ°é¢˜è§£è¯´æœ‰å¹¶æŸ¥é›†æ›´å¿«çš„åšæ³•ï¼Œè¿˜æ²¡æœ‰ä»”ç»†çœ‹ä¹‹åä¼šæ›´æ–°å‡ºæ¥</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><br>   <br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// static const int N = 5e3 + 10;</span><br>    <br>    <span class="hljs-comment">// int dist[N][N];</span><br>    <span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-keyword">int</span> dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br>   <br>        <br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">latestDayToCross</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> col, vector&lt;vector&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; cells)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> r = row * col;<br>        <span class="hljs-comment">// cout &lt;&lt; cells[0][0] &lt;&lt; cells[0][1] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">bool</span> st[row +<span class="hljs-number">10</span>][col + <span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">while</span> (l &lt; r)&#123;<br>            <span class="hljs-comment">// exit(0);</span><br>            <span class="hljs-keyword">int</span> mid = l+r + <span class="hljs-number">1</span>&gt;&gt; <span class="hljs-number">1</span>  ;<br>            <span class="hljs-comment">// cout &lt;&lt; mid;</span><br>          <span class="hljs-keyword">bool</span>  flag = <span class="hljs-literal">false</span>;<br>          <br>            <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>        <span class="hljs-comment">// memset(dist, 0x3f, sizeof dist);</span><br>        queue&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; q;<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; mid; i ++ )&#123;<br>            <span class="hljs-comment">// q.push(&#123;cells[i][0], cells[i][1]&#125;);</span><br>            st[cells[i][<span class="hljs-number">0</span>]][cells[i][<span class="hljs-number">1</span>]] = <span class="hljs-literal">true</span>;<br>        &#125;<br>       <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= col; i ++ ) &#123;<br>            <span class="hljs-comment">// cout &lt;&lt; st[1][1] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(!st[<span class="hljs-number">1</span>][i])&#123;<br>             q.<span class="hljs-built_in">push</span>(&#123;<span class="hljs-number">1</span>, i&#125;);<br>             <br>        &#125;<br>        &#125;<br>        <br><br>        <span class="hljs-keyword">while</span>(q.<span class="hljs-built_in">size</span>())&#123;<br>            <span class="hljs-keyword">auto</span> a = q.<span class="hljs-built_in">front</span>();<br>            q.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-comment">// cout &lt;&lt; a.first &lt;&lt; a.second &lt;&lt; endl;</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i ++ )&#123;<br>                <span class="hljs-keyword">int</span> x = a.first + dx[i];<br>               <br>                <span class="hljs-keyword">int</span> y = a.second + dy[i];<br>                <span class="hljs-keyword">if</span>( x &gt; row || x &lt;= <span class="hljs-number">0</span> || y &gt; col || y &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>; <br>                <br>                <span class="hljs-keyword">if</span>(x == row) &#123;<br>                    flag = <span class="hljs-literal">true</span>;<br>                 <span class="hljs-keyword">break</span>;&#125; <br>                <span class="hljs-comment">//  if(mid = 3) exit(0);</span><br>                <span class="hljs-comment">// if(!)&#123;</span><br>                    <span class="hljs-keyword">if</span>(!st[x][y])&#123;<br>                        q.<span class="hljs-built_in">push</span>(&#123;x, y&#125;);<br>                    st[x][y] = <span class="hljs-literal">true</span>;<br>                    &#125;<br>                    <br>                <span class="hljs-comment">// &#125;</span><br>                <br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag) <span class="hljs-keyword">break</span>;<br>            <span class="hljs-comment">//  </span><br>        &#125;<br>        <span class="hljs-comment">// cout &lt;&lt; flag &lt;&lt; endl ;</span><br>        <span class="hljs-comment">// exit(0);</span><br>            <span class="hljs-keyword">if</span>(flag) l = mid;<br>            <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-comment">// </span><br>        <span class="hljs-keyword">return</span> l;<br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><h4 id="æ›´æ–°ä¸€ä¸ªå¹¶æŸ¥é›†çš„åšæ³•ï¼š"><a href="#æ›´æ–°ä¸€ä¸ªå¹¶æŸ¥é›†çš„åšæ³•ï¼š" class="headerlink" title="æ›´æ–°ä¸€ä¸ªå¹¶æŸ¥é›†çš„åšæ³•ï¼š"></a>æ›´æ–°ä¸€ä¸ªå¹¶æŸ¥é›†çš„åšæ³•ï¼š</h4><p>å¹¶æŸ¥é›† + æ—¶å…‰å€’æµ</p><figure class="highlight c++"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">2e4</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">int</span> p[N + <span class="hljs-number">2</span>];<br><span class="hljs-keyword">bool</span> st[N];<br><br><br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>&#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;;<br><span class="hljs-keyword">int</span> i;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br>   <span class="hljs-keyword">private</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> x == p[x] ? x : p[x] = <span class="hljs-built_in">find</span>(p[x]);<br>    &#125;<br><br>     <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> fx = <span class="hljs-built_in">find</span>(x), fy = <span class="hljs-built_in">find</span>(y);<br>        <span class="hljs-keyword">if</span> (fx == fy)<br>            <span class="hljs-keyword">return</span>;<br><br>        p[fx] = fy;<br>    &#125;<br><span class="hljs-keyword">public</span>:<br>    <br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">latestDayToCross</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> col, vector&lt;vector&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; cells)</span> </span>&#123;<br>        <span class="hljs-comment">// cout &lt;&lt; (++i) &lt;&lt; endl;</span><br><span class="hljs-comment">//   cout &lt;&lt;st[1] &lt;&lt; endl;</span><br><br>        <span class="hljs-built_in">memset</span>(st, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> st);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row * col + <span class="hljs-number">2</span>; i ++ ) p[i] = i;<br><br>    <span class="hljs-keyword">int</span> S = row * col;<br>    <span class="hljs-keyword">int</span> E = row * col + <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = row * col - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i -- )&#123;<br>        <span class="hljs-keyword">int</span> ax = cells[i][<span class="hljs-number">0</span>] - <span class="hljs-number">1</span>, ay = cells[i][<span class="hljs-number">1</span>] - <span class="hljs-number">1</span>;<br><br>        st[ax * col + ay] = <span class="hljs-literal">true</span>; <br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j ++ )&#123;<br>            <span class="hljs-keyword">int</span> x = ax + dx[j];<br>            <span class="hljs-keyword">int</span> y = ay + dy[j];<br>            <br>            <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span> || x &gt;= row || y &lt; <span class="hljs-number">0</span> || y &gt;= col || !st[x * col + y]) <span class="hljs-keyword">continue</span>;<br>            <br>            <span class="hljs-built_in">add</span>(ax * col + ay, x * col + y);            <br>        &#125;<br>       <span class="hljs-keyword">if</span>(ax == <span class="hljs-number">0</span>)<span class="hljs-built_in">add</span>(S, ax * col + ay);<br>            <span class="hljs-keyword">if</span>(ax == row - <span class="hljs-number">1</span>) <span class="hljs-built_in">add</span>(ax * col + ay, E);<br><br>             <span class="hljs-keyword">if</span>(<span class="hljs-built_in">find</span>(S) == <span class="hljs-built_in">find</span>(E)) <span class="hljs-keyword">return</span> i;<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå‘¢è¦æ±‚ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œæ˜¯å¦æœ‰å¯è¡Œé€šè·¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€†å‘èµ°çš„æ–¹æ³•ï¼Œåˆ©ç”¨è¶…çº§æºç‚¹å’Œæ±‡ç‚¹æ¥æ“ä½œï¼Œå¦‚æœæºç‚¹å’Œæ±‡ç‚¹è”é€šäº†ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºå¯ä»¥äº†</p><hr><p class="note note-success">å¯èƒ½æ˜¯ä¸ªäººèƒ½åŠ›é—®é¢˜ï¼Œå¾ˆä¸ä¹ æƒ¯lcè¿™ç§å‡½æ•°å¼ç¼–ç¨‹</p>]]></content>
    
    
    <categories>
      
      <category>lcå‘¨èµ›</category>
      
      <category>é¢˜è§£</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è´ªå¿ƒ</tag>
      
      <tag>å¿«é€Ÿå¹‚</tag>
      
      <tag>å¤šæºbfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºå¿«æ’å’Œå½’å¹¶æ’åº</title>
    <link href="/posts/775143932.html"/>
    <url>/posts/775143932.html</url>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« ä¼šè®²åˆ°æœ€å¸¸ç”¨çš„æ’åºç®—æ³•â€“å¿«æ’å’Œå½’å¹¶æ’åºï¼ˆä¸æ˜¯å†’æ³¡å’Œé€‰æ‹©ï¼ï¼ï¼‰ï¼Œè¶…è¯¦ç»†çš„ï¼ï¼</p><span id="more"></span><h1 id="å¿«æ’-amp-å½’å¹¶æ’åº"><a href="#å¿«æ’-amp-å½’å¹¶æ’åº" class="headerlink" title="å¿«æ’&amp;å½’å¹¶æ’åº"></a>å¿«æ’&amp;å½’å¹¶æ’åº</h1><p>é¦–å…ˆè°ˆä¸€è°ˆä¸ºä»€ä¹ˆæ‘’å¼ƒæ‰äº†å†’æ³¡å’Œé€‰æ‹©æ’åºï¼š</p><p>å†’æ³¡æ’åºå’Œé€‰æ‹©æ’åºåœ¨æ•ˆç‡ä¸Šæ˜¯å¾ˆä½çš„ï¼Œæ—¶é—´å¤æ‚åº¦åœ¨oï¼ˆn^2ï¼‰è¿™ä¸ªé‡çº§ã€‚</p><p>æ‰€ä»¥è¯´å†’æ³¡å’Œé€‰æ‹©å°±æ˜¯ä¸€æ— æ˜¯å¤„äº†ï¼Ÿ</p><ol><li>ä»ç®—æ³•å¤æ‚æ€§ä¸Šæ¥çœ‹ï¼Œå†’æ³¡æ’åºå¯ä»¥ä»ç”Ÿæ´»ä¸­æ‰¾åˆ°åœºæ™¯ï¼Œå®ç°é€»è¾‘ç›¸å¯¹ç®€å•ã€å¿«é€Ÿæ’åºç”±äºæ¶‰åŠåˆ°æ¯è¶Ÿéƒ½è¦æ›´æ–°åˆ†ç•Œå€¼åœ¨ç†è§£ä¸Šæœ‰ä¸€å®šçš„å¤æ‚åº¦ã€‚</li><li>åœ¨ç¨³å®šæ€§æ¥è¯´ï¼Œå†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯éå¸¸ç¨³å®šçš„ï¼Œå¿«æ’åœ¨æœ€åçš„æƒ…å†µä¸‹ä¹Ÿä¼šè¾¾åˆ°n^2</li></ol><hr><p>é‚£å°±æ­£å¼è®²ä¸€è®²å¿«æ’å’Œå½’å¹¶æ’åºï¼š</p><h2 id="å¿«é€Ÿæ’åºï¼ˆquick-sortï¼‰oï¼ˆnlognï¼‰"><a href="#å¿«é€Ÿæ’åºï¼ˆquick-sortï¼‰oï¼ˆnlognï¼‰" class="headerlink" title="å¿«é€Ÿæ’åºï¼ˆquick sortï¼‰oï¼ˆnlognï¼‰"></a>å¿«é€Ÿæ’åºï¼ˆquick sortï¼‰oï¼ˆnlognï¼‰</h2><p>è¿™ä¸ªæ’åºå°±å¦‚ä»–çš„åå­—ä¸€æ ·ç‰¹åˆ«å¿«,åˆ©ç”¨äº†åˆ†æ²»çš„æ€æƒ³ã€‚</p><h3 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h3><p>è¿™ä¸ªæ’åºçš„ä¸»è¦æ€æƒ³æ˜¯ä»€ä¹ˆå‘¢ï¼š</p><ul><li>é¦–å…ˆåœ¨ä¸€ä¸ªæœªæ’åºçš„åºåˆ—ä¸­é€‰å‡ºä¸€ä¸ªåˆ†ç•Œå€¼ï¼ˆéšæœºé€‰ï¼Œä¸€èˆ¬æˆ‘ä»¬é€‰ä¸­é—´å€¼æˆ–è€…æ˜¯å·¦ä¸€æˆ–å³ä¸€ï¼‰</li><li>ç„¶åæŠŠæ¯”è¿™ä¸ªåˆ†ç•Œå€¼å°çš„æ”¾åœ¨å·¦è¾¹ï¼Œæ¯”è¿™ä¸ªåˆ†ç•Œå€¼å¤§çš„æ”¾åœ¨å³ä¾§</li><li>ä»¥è¿™ä¸ªæ–¹æ³•ï¼Œé€’å½’æ’å·¦è¾¹å’Œå³è¾¹</li></ul><p>å¬ç€æŠ½è±¡çœ‹ä¸€ä¸ªåŠ¨æ€å›¾äº†è§£ä¸€ä¸‹æ’åºè¿‡ç¨‹æŠŠï¼š</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/1130_1196bbb27a-2.gif" alt="2.gif"></p><h3 id="æ¨¡æ¿ï¼š"><a href="#æ¨¡æ¿ï¼š" class="headerlink" title="æ¨¡æ¿ï¼š"></a>æ¨¡æ¿ï¼š</h3><p>ç»™å‡ºä¸€ä¸ªä»£ç æ¨¡æ¿ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¿—ç§°çš„æ¿å­</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> q[],<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span>&#123;<br>       <span class="hljs-keyword">if</span> (r&lt;=l)<span class="hljs-keyword">return</span>;<br>       <span class="hljs-keyword">int</span> standard=q[l];<br>       <span class="hljs-keyword">int</span> left=l-<span class="hljs-number">1</span>;<br>       <span class="hljs-keyword">int</span> right=r+<span class="hljs-number">1</span>;<br>       <span class="hljs-keyword">while</span>(left&lt;right)&#123;<br>           <span class="hljs-keyword">while</span> (q[++left]&lt;standard);<span class="hljs-comment">//æƒ³è¦å€’åºå°±æŠŠè¿™ä¿©è¡Œçš„å¤§äºå°äºå·åç½®</span><br>           <span class="hljs-keyword">while</span> (q[--right]&gt;standard);<br>          <span class="hljs-keyword">if</span> (left&lt;right)&#123;<br>               <span class="hljs-keyword">int</span> t = q[left];<br>               q[left] = q[right];<br>               q[right] = t;<br>           &#125;<br>       &#125;<br>       quickSort(q,l,right);<br>       quickSort(q,right+<span class="hljs-number">1</span>,r);<br>   &#125;<br></code></pre></div></td></tr></table></figure><p>å¤§å®¶åœ¨å†™çš„æ—¶å€™ï¼Œåœ¨15ï¼Œ16è¡Œè¿™é‡Œå¯èƒ½ä¼šå‡ºç°è¾¹ç•Œé—®é¢˜</p><p>æˆ‘å¯¹è¾¹ç•Œåšäº†ä¸€ä¸ªæ€»ç»“ï¼š</p><figure class="highlight perl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs perl">quickSort(<span class="hljs-keyword">q</span>, l, j);<br>quickSort(<span class="hljs-keyword">q</span>, j + <span class="hljs-number">1</span>, r);<br>æˆ–<br><br>quickSort(<span class="hljs-keyword">q</span>, l, i - <span class="hljs-number">1</span>);<br>quickSort(<span class="hljs-keyword">q</span>, i, r);<br>æ˜¯å› ä¸ºå¯¹äºç¬¬ä¸€æ¬¡å¤„ç†åçš„æ•°ç»„ï¼Œç´¢å¼•iå·¦ä¾§çš„æ•°å­—éƒ½æ˜¯å°äºç­‰äº<span class="hljs-keyword">x</span>ï¼Œä½†ä¸åŒ…æ‹¬<span class="hljs-string">q[i]</span>ã€‚ç´¢å¼•iå³ä¾§çš„æ•°å­—éƒ½æ˜¯å¤§äºç­‰äº<span class="hljs-keyword">x</span>ï¼ŒåŒ…æ‹¬<span class="hljs-string">q[i]</span>ã€‚æ•…åŒºé—´åˆ†ä¸º[l,i-<span class="hljs-number">1</span>]å’Œ[i,r]ã€‚<br>åŒç†ï¼Œå¯¹äºç¬¬ä¸€æ¬¡å¤„ç†åçš„æ•°ç»„ï¼Œç´¢å¼•jå·¦ä¾§çš„æ•°å­—éƒ½æ˜¯å°äºç­‰äº<span class="hljs-keyword">x</span>ï¼ŒåŒ…æ‹¬<span class="hljs-string">q[j]</span>ã€‚ç´¢å¼•jå³ä¾§çš„æ•°å­—éƒ½æ˜¯å¤§äºç­‰äº<span class="hljs-keyword">x</span>ï¼Œä¸åŒ…æ‹¬<span class="hljs-string">q[j]</span>ã€‚æ•…åŒºé—´åˆ†ä¸º[l,j]å’Œ[j+<span class="hljs-number">1</span>,r]ã€‚<br><br>å†å¯¹<span class="hljs-keyword">x</span>ä½ç½®å°ç»“ï¼š<br><br>å¦‚æœåŒºé—´å–[l,i-<span class="hljs-number">1</span>]å’Œ[i,r]è¿™ç§ï¼Œé‚£ä¹ˆ<span class="hljs-keyword">x</span>ä¸åº”è¯¥å–å·¦è¾¹ç•Œ(lã€(l+r)/<span class="hljs-number">2</span>)ã€‚<br>åº”å– <span class="hljs-keyword">x</span> = <span class="hljs-string">q[r]</span>; <span class="hljs-keyword">x</span> = <span class="hljs-string">q[(l+r+1)/2]</span>;<br><br>å¦‚æœåŒºé—´å–[l,j]å’Œ[j+<span class="hljs-number">1</span>,r]è¿™ç§ï¼Œé‚£ä¹ˆ<span class="hljs-keyword">x</span>ä¸åº”è¯¥å–å³è¾¹ç•Œ(å¦‚rã€(l+r+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>)ã€‚<br>åº”å– <span class="hljs-keyword">x</span> = <span class="hljs-string">q[l]</span>; <span class="hljs-keyword">x</span> = <span class="hljs-string">q[(l+r)/2]</span>;<br><br>è‡ªå·±é€‰æ‹©å…¶ä¸­ä¸€ç§å³å¯ã€‚<br></code></pre></div></td></tr></table></figure><p>ç†è§£åèƒŒä¸‹ä¸€ç§å³å¯</p><h3 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h3><p><strong>äº†è§£ä¸€ä¸ªç®—æ³•åï¼Œæ—¶é—´çš„å¤æ‚åº¦åˆ†æç¯èŠ‚å¿…ä¸å¯å°‘å‘€ï¼ï¼</strong></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/20190418144938184.png" alt="img"></p><p>æ ¹æ®ä»£ç æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸€å±‚çš„é€’å½’æ“ä½œæ¬¡æ•°ä¸ºè¯¥æ¬¡é€’å½’æ‰€ä¼ å…¥çš„å…ƒç´ ä¸ªæ•°ï¼Œå¿½ç•¥æ¯æ¬¡å‡å»çš„æ¢è½´ï¼ˆ1ä¸ªå…ƒç´ å¹¶æ²¡æœ‰ç»™åˆ°ä¸‹ä¸€å±‚ï¼Œä½†æ˜¯æ¯å±‚è¿™é‡Œå‡æ‰ä¸€ä¸ªå¸¸æ•°å¯¹å¤æ‚åº¦çš„åˆ†æå½±å“ä¸å¤§ï¼Œæ‰€ä»¥æš‚æ—¶å¿½ç•¥ï¼‰ï¼Œå³ï¼š</p><p>ç¬¬1å±‚æ˜¯næ¬¡ï¼Œ</p><p>ç¬¬2å±‚æœ‰2æ¬¡é€’å½’ï¼Œæ¯æ¬¡n/2æ¬¡ï¼Œå…±næ¬¡æ“ä½œï¼Œ</p><p>ç¬¬3å±‚æœ‰4æ¬¡é€’å½’ï¼Œæ¯æ¬¡n/4æ¬¡ï¼Œå…±næ¬¡æ“ä½œï¼Œ</p><p>â€¦â€¦</p><p>ï¼ˆæœ€åä¸€å±‚ï¼‰ç¬¬kå±‚æœ‰kæ¬¡é€’å½’ï¼Œæ¯æ¬¡n/2^(k-1)æ¬¡ï¼Œå…±næ¬¡æ“ä½œ</p><p>ç”±äºé€’å½’ç»“æŸçš„æ¡ä»¶æ˜¯åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è¿™é‡Œçš„n/2^(k-1)=1   =&gt;   k=logn+1 </p><p>å³é€’å½’æ ‘çš„æ·±åº¦ä¸ºlogn</p><p>æ—¶é—´å¤æ‚åº¦=æ¯å±‚çš„æ“ä½œæ¬¡æ•°*æ ‘çš„æ·±åº¦=nlogn å³ï¼šO(nlgn);</p><p>è¿™å°±å¾—å‡ºäº†æ—¶é—´å¤æ‚åº¦</p><p><strong>è¦æ³¨æ„çš„æ˜¯ï¼Œå¿«æ’è¿™é‡Œè¯´çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºä¸å¯èƒ½æ¯æ¬¡éƒ½æ˜¯å¯¹åŠåˆ†</strong></p><h2 id="å½’å¹¶æ’åºï¼ˆmerge-sortï¼‰oï¼ˆnlognï¼‰"><a href="#å½’å¹¶æ’åºï¼ˆmerge-sortï¼‰oï¼ˆnlognï¼‰" class="headerlink" title="å½’å¹¶æ’åºï¼ˆmerge sortï¼‰oï¼ˆnlognï¼‰"></a>å½’å¹¶æ’åºï¼ˆmerge sortï¼‰oï¼ˆnlognï¼‰</h2><p>å½’å¹¶ä¹Ÿæ˜¯åˆ©ç”¨åˆ°äº†åˆ†æ²»çš„æ€æƒ³å“¦</p><h3 id="æ€æƒ³-1"><a href="#æ€æƒ³-1" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h3><p>å…ˆçœ‹å›¾è§£ï¼š</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/1024555-20161218163120151-452283750.png" alt="img"></p><p>å¯ä»¥çœ‹åˆ°è¿™ç§ç»“æ„å¾ˆåƒä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæœ¬æ–‡çš„å½’å¹¶æ’åºæˆ‘ä»¬é‡‡ç”¨é€’å½’å»å®ç°ï¼ˆä¹Ÿå¯é‡‡ç”¨è¿­ä»£çš„æ–¹å¼å»å®ç°ï¼‰ã€‚</p><p>å¯ä»¥æ˜ç¡®çš„çœ‹å‡ºï¼Œè¿™ä¸ªæ’åºåˆ†ä¿©ä¸ªé˜¶æ®µï¼Œä¸€ä¸ªæ˜¯åˆ†åŒºé—´çš„é˜¶æ®µï¼Œä¸€ä¸ªæ˜¯æ’åºé˜¶æ®µï¼Œä»¥ä¸‹æ¥ä¸€ä¸€è§£è¯»</p><p>åˆ†é˜¶æ®µï¼š</p><p><strong>åˆ†</strong>é˜¶æ®µå¯ä»¥ç†è§£ä¸ºå°±æ˜¯é€’å½’æ‹†åˆ†å­åºåˆ—çš„è¿‡ç¨‹ï¼Œé€’å½’æ·±åº¦ä¸ºlog2nã€‚</p><p>æ²»é˜¶æ®µï¼šï¼ˆé‡ç‚¹ï¼Œæ€æƒ³å¾ˆé‡è¦ï¼Œä¹‹åè¿™ç§æ€æƒ³å¯èƒ½ä¼šä¸€ç›´å‡ºæ¥ï¼‰</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/1024555-20161218194508761-468169540.png" alt="img"></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/1024555-20161218194621308-588010220.png" alt="img"></p><p>è¿™å°±æ˜¯æ²»é˜¶æ®µçš„æ’åºç®—æ³•ï¼Œæ˜¯ä¸æ˜¯ä¼šè”æƒ³åˆ°åŒæŒ‡é’ˆç®—æ³•å‘¢ï¼Œæ˜¯çš„ï¼Œå°±æ˜¯å…¸å‹çš„ä¸åŒåŒºé—´çš„åŒæŒ‡é’ˆç®—æ³•ï¼Œä¹‹åè¿˜ä¼šå†™å…³äºåŒæŒ‡é’ˆç®—æ³•çš„åšå®¢çš„</p><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><p>ç›´æ¥ä¸Šæ¿å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">mergeSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> q[],<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span> </span>&#123;<br><span class="hljs-keyword">if</span> (l&gt;=r) <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">int</span> mid =l+r &gt;&gt;<span class="hljs-number">1</span>;<br>mergeSort(q, l, mid);<br>mergeSort(q, mid+<span class="hljs-number">1</span>, r);<br><span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>,i=l,j=mid+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (i&lt;=mid&amp;&amp;j&lt;=r) &#123;<br><span class="hljs-keyword">if</span> (q[i]&lt;=q[j]) t[k++]=q[i++];<span class="hljs-comment">//è¿™é‡Œçš„ç¬¦å·åå‘å°±å¯ä»¥é€†åºè¾“å‡º</span><br><span class="hljs-keyword">else</span> t[k++]=q[j++];<br>&#125;<br><span class="hljs-keyword">while</span> (i&lt;=mid) &#123;<br>t[k++]=q[i++];<br>&#125;<br><span class="hljs-keyword">while</span> (j&lt;=r) &#123;<br>t[k++]=q[j++]; <br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j2 = <span class="hljs-number">0</span>,j3=l; j3 &lt;=r ; j2++,j3++) &#123;<br>q[j3]=t[j2];<br>&#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œçš„è¾¹ç•Œå€¼å¤„ç†ä¹Ÿæ˜¯æŒºè›‹ç–¼çš„ï¼Œå»ºè®®ç†è§£åŸç†åï¼ŒæŠŠæ¨¡æ¿ç›´æ¥èƒŒè¿‡</p><h3 id="æ—¶é—´å¤æ‚åº¦çš„åˆ†æï¼š"><a href="#æ—¶é—´å¤æ‚åº¦çš„åˆ†æï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦çš„åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦çš„åˆ†æï¼š</h3><p>è¿™é‡Œçš„æ—¶é—´å¤æ‚åº¦åˆ†æå’Œå¿«æ’éå¸¸ç›¸ä¼¼</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/20170909101802866" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä»è¿™ä¸ªé€’å½’æ ‘å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€å±‚æ—¶é—´ä»£ä»·ä¸ºcnï¼Œç¬¬äºŒå±‚æ—¶é—´ä»£ä»·ä¸ºcn/2+cn/2=cnâ€¦..æ¯ä¸€å±‚ä»£ä»·éƒ½æ˜¯cnï¼Œæ€»å…±æœ‰logn+1å±‚ã€‚æ‰€ä»¥æ€»çš„æ—¶é—´ä»£ä»·ä¸ºcn*(logn+1).æ—¶é—´å¤æ‚åº¦æ˜¯o(nlogn).</p><p>æˆ‘ä»¬åˆ†æå¿«æ’å’Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦çš„æ—¶å€™ï¼Œä¸€èˆ¬ç”¨åˆ°çš„éƒ½æ˜¯è¿™ç§é€’å½’æ ‘</p><hr>æ‰€ä»¥å¿«æ’å’Œå½’å¹¶æ’åºä½ å­¦ä¼šäº†å—ï¼ŸğŸ˜„]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç­›è´¨æ•°</title>
    <link href="/posts/2574143239.html"/>
    <url>/posts/2574143239.html</url>
    
    <content type="html"><![CDATA[<p>è¯´åˆ°ç­›è´¨æ•°ï¼Œå¤§å®¶æƒ³åˆ°çš„å¯èƒ½éƒ½ä¼šæ˜¯é‚£ä¸ªæš´åŠ›æšä¸¾çš„æ–¹æ³•ï¼Œè¿™ç¯‡æ–‡ç« å°†è®²è¿°ä¸‰ç§æ¯”æš´åŠ›æšä¸¾å¥½çš„æ–¹æ³•ï¼šæœ´ç´ ç­›ï¼ŒåŸƒæ°ç­›æ³•ï¼Œæ¬§æ‹‰ç­›æ³•</p><span id="more"></span><p>ç”±ä¸€é“é¢˜æ¥å¼•å‡ºä¸‰ç§ç­›è´¨æ•°çš„æ–¹æ³•ï¼š</p><h2 id="ç­›è´¨æ•°"><a href="#ç­›è´¨æ•°" class="headerlink" title="ç­›è´¨æ•°"></a>ç­›è´¨æ•°</h2><blockquote><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¯·ä½ æ±‚å‡º 1âˆ¼n ä¸­è´¨æ•°çš„ä¸ªæ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ•´æ•° nã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º 1âˆ¼n1âˆ¼n ä¸­è´¨æ•°çš„ä¸ªæ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤nâ‰¤10^6</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">8<br></code></pre></div></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">4<br></code></pre></div></td></tr></table></figure></blockquote><h3 id="æ¯”è¾ƒæš´åŠ›çš„è§£æ³•ï¼šoï¼ˆnlognï¼‰"><a href="#æ¯”è¾ƒæš´åŠ›çš„è§£æ³•ï¼šoï¼ˆnlognï¼‰" class="headerlink" title="æ¯”è¾ƒæš´åŠ›çš„è§£æ³•ï¼šoï¼ˆnlognï¼‰"></a>æ¯”è¾ƒæš´åŠ›çš„è§£æ³•ï¼šoï¼ˆnlognï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> shai;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Array;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">100010</span>;<br>   <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> cnt;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> primes[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br>   <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> st[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Scanner scanner=<span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> num=scanner.nextInt();<br><br>        get_primes(num);<br>        System.out.println(cnt);<br>        <span class="hljs-comment">//System.out.println(Arrays.toString(primes));</span><br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (!st[i])&#123;<br>                primes[cnt++]=i;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>*i; j &lt;=n ; j+=i) &#123;<br>                    st[j]=<span class="hljs-keyword">true</span>;<br>            &#125;<br>       &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªprimesæ•°ç»„æ¥å­˜è´¨æ•°ï¼›å…¶å®è¿™ä¸ªå°±æ¯”åŸæ¥é‚£ä¸ªæš´åŠ›çš„å°±å¥½ä¸€ç‚¹äº†ï¼Œä½†æ˜¯ç¼ºç‚¹è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ï¼Œå°±æ˜¯ä¸ºæ¯ä¸€ä¸ªæ•°ç­›å€æ•°çš„æ—¶å€™å¾ˆæ˜æ˜¾æ˜¯æœ‰å¯èƒ½å’Œä¹‹å‰ç­›è¿‡çš„é‡å¤ã€‚ä¸¾ä¸ªä¾‹å­</p><p>6è¿™ä¸ªæ•°åœ¨2çš„æ—¶å€™ä¼šæŠŠ6ç­›æ‰ï¼Œ4çš„æ—¶å€™ä¹Ÿä¼šå»æŠŠ6ç­›æ‰ï¼Œå¾ˆæ˜æ˜¾é‡å¤æ¬¡æ•°æ˜¯éå¸¸å¤š</p><p>è¿™ä¸ªæ—¶é—´å¤æ‚åº¦æ€ä¹ˆç†è§£å‘¢ï¼Ÿ</p><img src="http://jin-xuanjie.gitee.io/note-pad\image-20210707182426474.png" alt="image-20210707182426474" style="zoom:50%;" /><p>æ‰€æœ‰çš„æ¬¡æ•°å°±æ˜¯ç¬¬ä¸€è¡Œï¼Œç„¶åæŠŠnæå‡ºæ¥å°±æ˜¯ç¬¬äºŒè¡Œçš„é‚£ä¸ªå¼å­ï¼Œç¬¬ä¸‰è¡Œæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ</p><p>è¿™æ—¶æˆ‘ä»¬å°±è¦åˆ©ç”¨è°ƒå’Œçº§æ•°ï¼Œå°±ä¼šå¾—åˆ°æœ€åä¸€è¡Œï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±å¾—å‡ºäº†</p><h3 id="åŸƒæ°ç­›æ³•ï¼šO-nloglogn"><a href="#åŸƒæ°ç­›æ³•ï¼šO-nloglogn" class="headerlink" title="åŸƒæ°ç­›æ³•ï¼šO(nloglogn)"></a>åŸƒæ°ç­›æ³•ï¼šO(nloglogn)</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (!st[i])&#123;<br>                primes[cnt++]=i;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>*i; j &lt;=n ; j+=i) &#123;<br>                st[j] = <span class="hljs-keyword">true</span>;<br>            &#125;&#125;<br><br>        &#125;<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œæ¯”ä¸Šé¢ä¼˜åŒ–çš„ä¸€ç‚¹æ˜¯ï¼Œä¸æ˜¯æ¯ä¸ªæ•°çš„è‡ªå·±çš„å€æ•°éƒ½å»æ”¹æˆtrueï¼Œè€Œæ˜¯åªæ”¹è´¨æ•°çš„ï¼Œ<strong>æ¯•ç«Ÿæ‰€æœ‰çš„åˆæ•°å¯ä»¥è¢«è´¨æ•°æ•´é™¤</strong>ï¼Œè¿™ä¸ªå°±æ˜¯æ¯”æœ´ç´ ç­›æ³•çš„ä¼˜åŒ–ç‚¹ï¼Œä½†æ˜¯ä¾æ—§ä¸å¤Ÿï¼Œè¿˜æ˜¯æœ‰å†²çª</p><p>21æ—¢æ˜¯3çš„å€æ•°ä¹Ÿæ˜¯7çš„å€æ•°ï¼Œé‚£ä¹ˆ3å’Œ7éƒ½ä¼šæŠŠä»–ç­›ä¸€éï¼Œå¾ˆæ˜æ˜¾æ˜¯æœ‰æµªè´¹çš„ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ä¼˜åŒ–</p><p>è¿™ä¸ªæ—¶é—´å¤æ‚åº¦è®¡ç®—ç”¨åˆ°äº†<strong>è´¨æ•°å®šç†</strong>ï¼Œå…·ä½“å¯ä»¥å»ç™¾åº¦æŸ¥ï¼Œæˆ‘è¿™é‡Œæ”¾ä¸€ä¸ªå›¾ç‰‡å§</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210707182335990.png" alt="image-20210707182335990"></p><p>è¿™ä¸ªè´¨æ•°å®šç†ï¼Œå¤§æ¦‚è¯´äº†ä¸€ä»¶ä»€ä¹ˆäº‹å‘¢ï¼Ÿ å°±æ˜¯åœ¨nå¾ˆå¤§çš„æ—¶å€™ï¼Œnä»¥ä¸‹çš„è´¨æ•°ä¸ªæ•°è¶‹è¿‘äºn/lgn</p><p>æ‰€ä»¥å¸¦è¿›å»æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(nloglogn)</p><h3 id="çº¿æ€§ç­›æ³•ï¼š-ä¹Ÿå«æ¬§æ‹‰ç­›-o-n"><a href="#çº¿æ€§ç­›æ³•ï¼š-ä¹Ÿå«æ¬§æ‹‰ç­›-o-n" class="headerlink" title="çº¿æ€§ç­›æ³•ï¼š(ä¹Ÿå«æ¬§æ‹‰ç­›)o(n)"></a>çº¿æ€§ç­›æ³•ï¼š(ä¹Ÿå«æ¬§æ‹‰ç­›)o(n)</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">1000010</span>;<br>   <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> cnt;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> primes[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[N];<br><br>   <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> st[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[N];<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Scanner scanner=<span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> num=scanner.nextInt();<br><br>        get_primes(num);<br>        System.out.println(cnt);<br>        <span class="hljs-comment">// System.out.println(Arrays.toString(primes));</span><br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;=n ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (!st[i]) &#123;<br>                primes[cnt++] = i;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j =<span class="hljs-number">0</span>; primes[j] &lt;=n/i ; j++) &#123;<br>                st[primes[j]*i] = <span class="hljs-keyword">true</span>;<br>                <span class="hljs-keyword">if</span> Â·(i%primes[j]==<span class="hljs-number">0</span>)&#123;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä¸»è¦æ€æƒ³æ˜¯æ¯ä¸ªæ•°éƒ½åªèƒ½è¢«è‡ªå·±çš„æœ€å°è´¨å› æ•°æ’é™¤,å› ä¸ºæ‰€æœ‰çš„åˆæ•°éƒ½ä¼šè¢«è´¨æ•°ç­›æ‰ï¼Œè¿™æ ·æ¯ä¸ªæ•°å°±ä¸ä¼šè¢«é‡å¤ç­›ï¼Œé‚£ä¹ˆç†æ‰€å½“ç„¶çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯oï¼ˆnï¼‰</p><hr><p>è¿™æ—¶æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œæœ‰æ¬§æ‹‰ç­›è¯´è¿™ä¹ˆå¤šå¹²å˜›ï¼Ÿ</p><p>çš„ç¡®æ˜¯çš„ï¼Œä»¥åæˆ‘ä»¬ç”¨çš„éƒ½æ˜¯æ—¶é—´æœ€èŠ‚çº¦çš„æ¬§æ‹‰ç­›ï¼Œä½†æ˜¯å¯¹äºæ›´å¤šäººè€Œè¨€ï¼Œæˆ‘è§‰å¾—æ¼”å˜çš„æ€æƒ³ç†è§£ï¼Œè¿œæ¯”ä¸€ä¸ªä»£ç æ¨¡æ¿é‡è¦çš„å¤šã€‚</p><hr><p>æ‰€ä»¥ç­›è´¨æ•°çš„æ–¹æ³•ä½ ç†è§£äº†å—ï¼ŸğŸ˜„</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡çŒ®è¡€</title>
    <link href="/posts/2673705868.html"/>
    <url>/posts/2673705868.html</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©ç¬¬ä¸€æ¬¡çŒ®è¡€ï¼Œä¹Ÿç®—æ˜¯å®Œæˆäº†è‡ªå·±ä¹‹å‰æ¯”è¾ƒæ€•çš„äº‹æƒ…å§ï¼</p><span id="more"></span><p>åŸæœ¬æ²¡æœ‰æƒ³ç€å»ï¼Œå› ä¸ºå®¤å‹çš„ä¸€å¥è¯ï¼Œå°±åŠ¨äº†è¦å»çš„å¿µå¤´ã€‚å…¶å®è¿˜çœŸçš„è›®æ€•çš„ï¼Œä¸»è¦çš„ææƒ§è¿˜æ˜¯å› ä¸ºæœªçŸ¥ï¼Œæ‰€ä»¥å°±æƒ³è¦æŒ‘æˆ˜ä¸€ä¸‹è‡ªå·±å§ã€‚</p><p>å¦ä¸€æ–¹é¢å‘¢æƒ³äº†æƒ³ï¼Œå…¶å®å¯¹äºæˆ‘ä»¬æ¥è¯´ä¸ä¼šä»»ä½•åå¤„ï¼Œç”šè‡³ä¼šæœ‰å¥½å¤„ï¼Œå¦‚æœæˆ‘ä»¬çš„è¿™ä¸€ç‚¹ç‚¹çš„åŠªåŠ›ï¼ŒçœŸçš„å¯ä»¥è®©ä¸€äº›äººå¾—åˆ°å¸®åŠ©ï¼Œæˆ‘è§‰å¾—å°±å‡­è¿™ä¸ªä¹Ÿå€¼å¾—æˆ‘å»åšã€‚</p><p>ç§ç§åŸå› é©±ä½¿ç€æˆ‘å»äº†çŒ®è¡€Â·Â·Â·Â·Â·Â·</p><p>çŒ®å®Œè¡€åï¼Œä¹‹å‰çš„ææƒ§ä¹Ÿå°±çƒŸæ¶ˆäº‘æ•£äº†ï¼Œè¿™ç®—ä¸ç®—æˆ˜èƒœäº†è‡ªå·±å‘¢ï¼Ÿhh</p><p>æœ‰æ—¶å€™æˆ‘ä»¬æ‹¼äº†å‘½çš„ç¿»å±±è¶Šå²­ï¼Œå»è¶Šè¿‡å±±å¤´ï¼Œæœ‰æ—¶å€™å±±çš„å¦ä¸€é¢å¯èƒ½çœŸçš„æ²¡å•¥ï¼Œæˆ–è®¸è¿˜æ¯”å±±çš„è¿™é¢è¿˜è¦å·®ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¾ˆæ€•çš„äº‹æƒ…åˆ°å¤´æ¥ä¹Ÿä¸è¿‡æ˜¯è¿‡çœ¼äº‘çƒŸ</p><p><strong>ä¸ç®¡æ€æ ·å§ï¼Œå¸¸æ€€èµ¤å­ä¹‹å¿ƒï¼Œä¸å é’äº‘ä¹‹å¿—ï¼Œæˆ‘è§‰å¾—å°±å¤Ÿäº†ï¼Œå¸Œæœ›ä¹‹åæˆ‘åœ¨ä»»ä½•äº‹æƒ…ä¸Šï¼Œéƒ½ä¼šæœ‰ä»Šå¤©çš„å‹‡æ°”å»ä¸æ–­æˆ˜èƒœè‡ªå·±ï¼ŒåŠ æ²¹å§ï¼</strong></p><p>çŒ®çš„æ—¶å€™å¿˜è®°ç…§ç›¸äº†ï¼Œå°±é™„ä¿©å¼ çŒ®è¡€è¯çš„ç…§ç‰‡å§hhï¼š</p><img src="http://jin-xuanjie.gitee.io/note-pad\image-20210705185335114.png" alt="image-20210705185335114" style="zoom: 25%;" /><img src="http://jin-xuanjie.gitee.io/note-pad\image-20210705185434461.png" alt="image-20210705185434461" style="zoom:33%;" />]]></content>
    
    
    <categories>
      
      <category>ç”Ÿæ´»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
      <tag>æ—¥è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQLè¯­å¥</title>
    <link href="/posts/3038647440.html"/>
    <url>/posts/3038647440.html</url>
    
    <content type="html"><![CDATA[<p>sqlè¯­å¥æ˜¯æ“ä½œå¯¹æ•°æ®åº“å’Œè¡¨å¢åˆ æ”¹æŸ¥çš„åŸºç¡€ï¼Œå¹¶ä¸”sqlè¯­å¥æ˜¯å¯¹ä»»ä½•å…³ç³»å‹æ•°æ®åº“ç³»ç»Ÿéƒ½æ˜¯é€šç”¨çš„ï¼Œæœ¬ç¬”è®°ä»¥mysqlä¸ºä¾‹å­å“¦ï¼</p><span id="more"></span><h1 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h1><h2 id="DQLè¯­å¥"><a href="#DQLè¯­å¥" class="headerlink" title="DQLè¯­å¥"></a>DQLè¯­å¥</h2><h3 id="ç®€å•çš„æŸ¥è¯¢ï¼š"><a href="#ç®€å•çš„æŸ¥è¯¢ï¼š" class="headerlink" title="ç®€å•çš„æŸ¥è¯¢ï¼š"></a>ç®€å•çš„æŸ¥è¯¢ï¼š</h3><p>select å­—æ®µå1ï¼Œå­—æ®µå2ï¼Œ from è¡¨åã€‚</p><p>æç¤ºï¼š</p><ul><li>ä»»ä½•ä¸€æ¡sqlè¯­å¥ä»¥ï¼›ç»“å°¾</li><li>sqlä¸åŒºåˆ†å¤§å°å†™</li></ul><p>æˆ‘ä»¬çš„å­—æ®µå¯ä»¥å‚ä¸æ•°å­¦è¿ç®—</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210121616640.png" alt="image-20210210121616640"></p><p>ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªæ•°å­¦è¿ç®—åçš„å­—æ®µé‡æ–°æ”¹ä¸ªåï¼Œå¦‚ä¸‹ï¼š</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210121712952.png" alt="image-20210210121712952"></p><p>è‹¥æœ‰ä¸­æ–‡è¦æ‹¬ä¸Šå•å¼•å·ï¼›</p><p>æ ‡å‡†sqlè¯­å¥ä¸­è¦æ±‚å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ã€‚</p><p>æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼š</p><p>å®é™…å¼€å‘ä¸­ä¸å»ºè®®ä½¿ç”¨ã€‚</p><h3 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h3><p>åˆ©ç”¨whereæ¥é™åˆ¶æ¡ä»¶</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210122302072.png" alt="image-20210210122302072"></p><p>æ‰§è¡Œé¡ºåºï¼šå…ˆfromï¼Œç„¶åwhereï¼Œæœ€åselect</p><p>å¯¹äºä¸ç­‰äºæ¥è¯´å¯ä»¥ä½¿ç”¨ï¼=ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;&gt;ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚ </p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210123159560.png" alt="image-20210210123159560"></p><p>andå¯ä»¥</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210123325041.png" alt="image-20210210123325041"></p><p>betweenå¯ä»¥ï¼ˆbetweenæ˜¯é—­åŒºé—´ï¼‰</p><p>between andä½¿ç”¨çš„æ—¶å€™å°æ•°å­—åœ¨å‰ï¼Œå¤§æ•°å­—åœ¨åã€‚</p><p>between andä¹Ÿå¯ä»¥ç”¨åœ¨å­—ç¬¦æ–¹é¢ï¼Œæ­¤æ—¶æ˜¯å·¦é—­å³å¼€<img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210124021482.png" alt="image-20210210124021482"></p><p>æ•°æ®åº“ä¸­nullä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œä»£è¡¨ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä¸ºç©º</p><p>ç©ºä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œä¸èƒ½ç”¨ç­‰å·æ¥è¡¡é‡ï¼Œ</p><p>å¿…é¡»ä½¿ç”¨is null æˆ–è€…is not nullã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210125341124.png" alt="image-20210210125341124"></p><p>æŸ¥è¯¢æ—¶orå’Œandæ˜¯ç”±ä¼˜å…ˆçº§çš„ã€‚</p><p>å½“è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸ç¡®å®šçš„æ—¶å€™åˆ©ç”¨å°æ‹¬å·ã€‚</p><p>inå…³é”®å­—ï¼š</p><p>inç­‰åŒäºor</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210125651759.png" alt="image-20210210125651759"></p><p>inåé¢çš„ä¸æ˜¯åŒºé—´ï¼Œè€Œåªæ˜¯ä¸€ä¸ªå€¼ã€‚</p><p>å½“ç„¶æœ‰in ä¹Ÿå°±ä¹Ÿæœ‰not in</p><h3 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h3><p>å¿…é¡»æŒæ¡%å’Œ_çš„ä½¿ç”¨</p><p>%ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œ_ä»£è¡¨ä»»æ„çš„ä¸€ä¸ªå­—ç¬¦ã€‚</p><h3 id="å‡åº"><a href="#å‡åº" class="headerlink" title="å‡åº"></a>å‡åº</h3><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210134930895.png" alt="image-20210210134930895"></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210135420494.png" alt="image-20210210135420494"></p><p>æ‰§è¡Œé¡ºåºï¼Œoredr byæ˜¯æœ€åæ‰§è¡Œçš„ã€‚</p><h3 id="å•è¡Œå¤„ç†å‡½æ•°"><a href="#å•è¡Œå¤„ç†å‡½æ•°" class="headerlink" title="å•è¡Œå¤„ç†å‡½æ•°"></a>å•è¡Œå¤„ç†å‡½æ•°</h3><p>è¾“å…¥ä¸€è¡Œï¼Œè¾“å‡ºä¸€è¡Œã€‚</p><p>åªè¦æ•°å­¦è¡¨è¾¾å¼ä¸­æœ‰nullå‡ºç°ï¼Œæœ€ç»ˆç»“æœå°±å¿…é¡»æ˜¯null</p><p>ifnullï¼ˆï¼‰ç©ºå¤„ç†å‡½æ•°</p><p>ifnullï¼ˆå¯èƒ½ä¸ºnullçš„æ•°æ®ï¼Œè¢«å½“åšä»€ä¹ˆå¤„ç†ï¼‰ï¼šå•è¡Œå¤„ç†</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210154445168.png" alt="image-20210210154445168"></p><h3 id="åˆ†ç»„å‡½æ•°"><a href="#åˆ†ç»„å‡½æ•°" class="headerlink" title="åˆ†ç»„å‡½æ•°"></a>åˆ†ç»„å‡½æ•°</h3><ul><li>count æŠ€æœ¯</li><li>sumæ±‚å’Œ</li><li>avgå¹³å‡å€¼</li><li>maxæœ€å¤§å€¼</li><li>minæœ€å°å€¼</li></ul><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210153555737.png" alt="image-20210210153555737"></p><p>ä¹Ÿå«å¤šè¡Œå¤„ç†å‡½æ•°ï¼šè¾“å…¥å¤šè¡Œï¼Œæœ€ç»ˆè¾“å‡ºç»“æœæ˜¯ä¸€è¡Œã€‚</p><p>åˆ†ç»„å‡½æ•°ä¼šè‡ªåŠ¨å¿½ç•¥ç©ºï¼ˆnullï¼‰ã€‚</p><h3 id="group-by-å’Œhaving"><a href="#group-by-å’Œhaving" class="headerlink" title="group by å’Œhaving"></a>group by å’Œhaving</h3><p>group byï¼šæŒ‰ç…§æŸä¸ªå­—æ®µæˆ–è€…æŸäº›å­—æ®µè¿›è¡Œåˆ†ç»„</p><p>havingï¼šå¯¹åˆ†ç»„ä¹‹åçš„æ•°æ®è¿›è¡Œå†æ¬¡çš„è¿‡æ»¤ã€‚</p><p>åˆ†ç»„å‡½æ•°éƒ½ä¼šå’Œgroupä¸€èµ·ä½¿ç”¨ã€‚åˆ†ç»„å‡½æ•°éƒ½ä¼šåœ¨group byç»“æŸä¹‹åå†æ‰§è¡Œçš„ã€‚æ²¡æœ‰group byæ•´å¼ è¡¨å°±è‡ªæˆä¸€ç»„ã€‚</p><p>whereåé¢ä¸èƒ½ç”¨åˆ†ç»„å‡½æ•°ã€‚</p><p>å†å†™ä¸€éé¡ºåºï¼š</p><ol><li>from</li><li>where</li><li>group by</li><li>having</li><li>select</li><li>order by</li></ol><p>è‹¥ä¸€æ¡sqlè¯­å¥ä¸­æœ‰group byçš„è¯ï¼Œselectåé¢åªèƒ½åŠ åˆ†ç»„å‡½æ•°å’Œåˆ†ç»„çš„å­—æ®µï¼Œå…¶ä»–çš„ä¸€å¾‹ä¸è¡Œã€‚</p><p>å¤šä¸ªå­—æ®µå¯ä»¥è”åˆèµ·æ¥åˆ†ç»„</p><p> <img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210191259506.png" alt="image-20210210191259506"></p><p>å¯ä»¥ç”¨whereè¿‡æ»¤çš„è¯ï¼Œå°½é‡åœ¨whereå°±æŠŠæ•°æ®è¿‡æ»¤æ‰ã€‚</p><h3 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h3><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210192727699.png" alt="image-20210210192727699"></p><p>distinctåªèƒ½å‡ºç°åœ¨æ‰€æœ‰å­—æ®µçš„æœ€å‰é¢ï¼Œå¦‚æœå¤šæ¡å­—æ®µè¯´æ˜æ˜¯è”åˆå»é‡ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210194456287.png" alt="image-20210210194456287"></p><h3 id="å®Œæ•´çš„dqlè¯­å¥ï¼š"><a href="#å®Œæ•´çš„dqlè¯­å¥ï¼š" class="headerlink" title="å®Œæ•´çš„dqlè¯­å¥ï¼š"></a>å®Œæ•´çš„dqlè¯­å¥ï¼š</h3><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210192537089.png" alt="image-20210210192537089"></p><h3 id="è¿æ¥æŸ¥è¯¢"><a href="#è¿æ¥æŸ¥è¯¢" class="headerlink" title="è¿æ¥æŸ¥è¯¢"></a>è¿æ¥æŸ¥è¯¢</h3><p>ä¸€ä¸€èˆ¬æ¥è¯´ã€‚å¤§éƒ¨åˆ†éƒ½ä¸æ˜¯ä»å•è¡¨ä¸­æŸ¥è¯¢æ•°æ®ï¼Œä¸€èˆ¬éƒ½æ˜¯å¤šå¼ è”åˆå–å‡ºçš„æœ€ç»ˆç»“æœï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸€èˆ¬ä¸€ä¸ªä¸šåŠ¡éƒ½ä¼šå¯¹åº”å¤šå¼ è¡¨ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210194906219.png" alt="image-20210210194906219"> </p><h4 id="åˆ†ç±»ï¼š"><a href="#åˆ†ç±»ï¼š" class="headerlink" title="åˆ†ç±»ï¼š"></a>åˆ†ç±»ï¼š</h4><p>æ ¹æ®è¯­æ³•ï¼š</p><ul><li>sql92</li><li>sql99</li></ul><p>æ ¹æ®è¿æ¥æ–¹å¼</p><ul><li>å†…è¿æ¥<ul><li>ç­‰å€¼è¿æ¥</li><li>éç­‰å€¼è¿æ¥</li><li>è‡ªè¿æ¥</li></ul></li><li>å¤–è¿æ¥<ul><li>å·¦å¤–è¿æ¥</li><li>å³å¤–è¿æ¥</li></ul></li><li>å…¨è¿æ¥ï¼ˆå¾ˆå°‘ç”¨ï¼‰</li></ul><h5 id="ç¬›å¡å°”ç§¯ç°è±¡"><a href="#ç¬›å¡å°”ç§¯ç°è±¡" class="headerlink" title="ç¬›å¡å°”ç§¯ç°è±¡"></a>ç¬›å¡å°”ç§¯ç°è±¡</h5><p>å½“ä¿©å¼ è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ²¡æœ‰ä»»ä½•æ¡ä»¶é™åˆ¶ï¼Œæœ€ç»ˆæŸ¥è¯¢ç»“æœæ¡æ•°æ˜¯ä¿©å¼ è¡¨è®°å½•æ¡æ•°çš„ä¹˜ç§¯ã€‚</p><p>å…³äºè¡¨çš„åˆ«åï¼š</p><ul><li>æ‰§è¡Œæ•ˆç‡é«˜</li><li>å¯è¯»æ€§å¥½</li></ul><p>é¿å…ç¬›å¡å°”ç°è±¡çš„æ–¹æ³•æ˜¯åŠ æ¡ä»¶æ¥è¿›è¡Œè¿‡æ»¤ã€‚</p><p>ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œé¿å…äº†ç¬›å¡å°”ç§¯ç°è±¡ï¼Œå¹¶ä¸ä¼šå‡å°‘è®°å½•çš„åŒ¹é…æ¬¡æ•°ï¼Œåªä¸è¿‡æ˜¾ç¤ºçš„æ—¶å€™æ˜¾ç¤ºçš„æ˜¯æœ‰æ•ˆæ•°æ®ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210203216468.png" alt="image-20210210203216468"></p><h4 id="ç­‰å€¼è¿æ¥"><a href="#ç­‰å€¼è¿æ¥" class="headerlink" title="ç­‰å€¼è¿æ¥"></a>ç­‰å€¼è¿æ¥</h4><p>æ¡ä»¶æ˜¯ç­‰é‡å…³ç³»</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210212925382.png" alt="image-20210210212925382"></p><p>ä¸Šè¿°æ˜¯sql99è¯­æ³•</p><h4 id="éç­‰å€¼è¿æ¥"><a href="#éç­‰å€¼è¿æ¥" class="headerlink" title="éç­‰å€¼è¿æ¥"></a>éç­‰å€¼è¿æ¥</h4><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210224100786.png" alt="image-20210210224100786"></p><h4 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h4><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210231319594.png" alt="image-20210210231319594"></p><p>å‡è±¡å¤åˆ¶ä¸€ä»½ç›¸åŒçš„ï¼Œç„¶åè‡ªè¿æ¥ã€‚</p><h4 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h4><p>å‡è®¾aï¼Œbè¡¨è¿›è¡Œè¿æ¥ï¼Œä½¿ç”¨å¤–è¿æ¥çš„è¯ï¼Œabä¿©å¼ è¡¨ä¸­ä¸€å¼ æ˜¯ä¸»è¡¨ï¼Œä¸€å¼ æ˜¯å‰¯è¡¨ï¼Œä¸»è¦æŸ¥è¯¢ä¸»è¡¨ä¸Šçš„æ•°æ®ï¼Œæå¸¦ç€æŸ¥è¯¢å‰¯è¡¨ï¼Œå½“å‰¯è¡¨ä¸­æ²¡æœ‰å’Œä¸»è¡¨æ•°æ®åŒ¹é…ä¸Šçš„è‡ªåŠ¨æ¨¡æ‹Ÿå‡ºnullæ¥ä¸ä¹‹åŒ¹é…ã€‚ </p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211075820541.png" alt="image-20210211075820541"></p><h4 id="ä¸‰å¼ ä»¥ä¸Šè¡¨æŸ¥è¯¢"><a href="#ä¸‰å¼ ä»¥ä¸Šè¡¨æŸ¥è¯¢" class="headerlink" title="ä¸‰å¼ ä»¥ä¸Šè¡¨æŸ¥è¯¢"></a>ä¸‰å¼ ä»¥ä¸Šè¡¨æŸ¥è¯¢</h4><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211081708047.png" alt="image-20210211081708047"></p><h3 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h3><p>selectè¯­å¥åµŒå¥—selectè¯­å¥æŸ¥è¯¢</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211085057173.png" alt="image-20210211085057173"></p><p>whereé‡ŒåµŒå¥—ï¼ˆä¸Šè¿°ï¼‰</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211105112132.png" alt="image-20210211105112132"></p><p>è¿™ä¸ªæ˜¯fromé‡ŒåµŒå¥—</p><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3><p>å¯ä»¥å°†æŸ¥è¯¢ç»“æœé›†ç›¸åŠ </p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211162901983.png" alt="image-20210211162901983"></p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p>limitå¯ä»¥é™åˆ¶æ¡æ•°</p><p>è¯­æ³•æ˜¯ limit èµ·ç‚¹ï¼Œä¸ªæ•°</p><p>åˆ†é¡µæŸ¥è¯¢å…¨é è¿™ç©æ„ã€‚</p><p>limitæ˜¯sqlè¯­å¥ä¸­æœ€åæ‰§è¡Œçš„ä¸€ä¸ªç¯èŠ‚ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211164115218.png" alt="image-20210211164115218"></p><h2 id="å»ºè¡¨"><a href="#å»ºè¡¨" class="headerlink" title="å»ºè¡¨"></a>å»ºè¡¨</h2><p>å»ºè¡¨è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p><p>create table è¡¨å{</p><p>â€‹    å­—æ®µå 1 æ•°æ®ç±»å‹ï¼Œ</p><p>â€‹    å­—æ®µå 2 æ•°æ®ç±»å‹ï¼Œ</p><p>â€‹    å­—æ®µå 3 æ•°æ®ç±»å‹ï¼Œ</p><p>}</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211164701465.png" alt="image-20210211164701465"></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211180423765.png" alt="image-20210211180423765"></p><h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><p>insertè¯­å¥ï¼š</p><p>insert into è¡¨åï¼ˆå­—æ®µå1ï¼Œ2ï¼Œ3ï¼Œ4ï¼‰ valuesï¼ˆå€¼1ï¼Œ2ï¼Œ3ï¼Œ4ï¼‰ï¼›</p><p>å­—æ®µå¦‚æœåªå†™éƒ¨åˆ†çš„ï¼Œå°±ä¼šä¸ºå…¶ä»–çš„å­—æ®µé™„ä¸Šnull</p><p>å¯ä»¥çœç•¥å‰é¢çš„å­—æ®µï¼Œä½†æ˜¯è¦æŒ‰ç…§é¡ºåºï¼Œå¹¶ä¸”å…¨å†™ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211182040917.png" alt="image-20210211182040917"></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211182618059.png" alt="image-20210211182618059"></p><h3 id="default"><a href="#default" class="headerlink" title="default"></a>default</h3><p>å¯ä»¥ç”¨defaultæ¥è®¾å®šé»˜è®¤å€¼</p><h2 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h2><p>update</p><p>update è¡¨å set å­—æ®µå=å€¼Â·Â·Â·Â·Â·Â· where æ¡ä»¶</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211183216776.png" alt="image-20210211183216776"></p><p>æ²¡æœ‰é™åˆ¶æ¡ä»¶ï¼Œæ•´å¼ è¡¨æ‰€æœ‰å­—æ®µå…¨éƒ¨æ›´æ–°ã€‚</p><h2 id="åˆ é™¤æ•°æ®ï¼ˆè¡¨ï¼‰"><a href="#åˆ é™¤æ•°æ®ï¼ˆè¡¨ï¼‰" class="headerlink" title="åˆ é™¤æ•°æ®ï¼ˆè¡¨ï¼‰"></a>åˆ é™¤æ•°æ®ï¼ˆè¡¨ï¼‰</h2><p>åˆ é™¤è¡¨ï¼šdrop table è¡¨å</p><p>è¯­æ³•æ ¼å¼</p><p>delete from è¡¨å where æ¡ä»¶ï¼›</p><p>æ²¡æœ‰æ¡ä»¶å°†å…¨éƒ¨åˆ é™¤</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211184212309.png" alt="image-20210211184212309"></p><h2 id="å¯¹äºè¡¨ç»“æ„çš„ä¿®æ”¹"><a href="#å¯¹äºè¡¨ç»“æ„çš„ä¿®æ”¹" class="headerlink" title="å¯¹äºè¡¨ç»“æ„çš„ä¿®æ”¹"></a>å¯¹äºè¡¨ç»“æ„çš„ä¿®æ”¹</h2><p> ä½¿ç”¨å·¥å…·å®Œæˆå°±å¯ä»¥äº†ï¼Œå› ä¸ºå®é™…å¼€å‘ä¸­ï¼Œè¡¨ä¸€æ—¦è®¾è®¡å¥½ï¼Œå¯¹è¡¨ç»“æ„çš„ä¿®æ”¹æ˜¯å¾ˆå°‘çš„ã€‚</p><p>å¢åˆ æ”¹æŸ¥æœ‰ä¸€ä¸ªæœ¯è¯­ï¼šcrudæ“ä½œ</p><p>createï¼ˆå¢ï¼‰ retrieveï¼ˆæ£€ç´¢ï¼‰ updateï¼ˆä¿®æ”¹ï¼‰ deleteï¼ˆåˆ é™¤ï¼‰</p><h2 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h2><p>æ·»åŠ çº¦æŸçš„ç›®çš„æ—¶ä¸ºäº†ä¿è¯è¡¨çš„æ•°æ®çš„åˆæ³•æ€§ï¼Œæœ‰æ•ˆæ€§ï¼Œå®Œæ•´æ€§ã€‚</p><p>å¸¸è§çš„çº¦æŸï¼š</p><ul><li>éç©ºçº¦æŸï¼ˆnot nullï¼‰</li><li>å”¯ä¸€çº¦æŸï¼ˆuniqueï¼‰å”¯ä¸€æ€§ä½†å¯ä»¥ä¸ºnull</li></ul><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211200536663.png" alt="image-20210211200536663"></p><ul><li>ä¸»é”®çº¦æŸï¼ˆprimary keyï¼‰ä¸å¯ä¸ºç©ºä¹Ÿä¸èƒ½é‡å¤ </li></ul><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211201831871.png" alt="image-20210211201831871"></p><p>ä¸»é”®åº”è¯¥ä¸å’Œä¸šåŠ¡æŒ‚é’©ã€‚<img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211202657776.png" alt="image-20210211202657776"></p><p>å¯ä»¥ä»¥è¿™ç§æ–¹å¼ï¼Œè‡ªåŠ¨æ·»åŠ è‡ªå¢çš„ä¸»é”®ã€‚</p><ul><li>å¤–é”®çº¦æŸï¼ˆforeign keyï¼‰</li></ul><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211203647137.png" alt="image-20210211203647137"></p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210211204005433.png" alt="image-20210211204005433"></p><p>å¤–é”®å€¼å¯ä»¥ä¸ºnull</p><p>è¢«å¼•ç”¨çš„å­—æ®µå¯ä»¥ä¸ç”¨ä¸ºä¸»é”®ï¼Œä½†è‡³å°‘è¦æœ‰uniqueçº¦æŸï¼Œæ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</p><ul><li>æ£€æŸ¥çº¦æŸï¼ˆcheckï¼‰ï¼šoracleæ•°æ®åº“æœ‰checkçº¦æŸï¼Œä½†æ˜¯mysqlæ²¡æœ‰ï¼Œç›®å‰mysqlä¸æ”¯æŒè¯¥çº¦æŸã€‚</li></ul><h2 id="æ‚²è§‚é”ï¼ˆè¡Œçº§é”ï¼‰å’Œä¹è§‚é”"><a href="#æ‚²è§‚é”ï¼ˆè¡Œçº§é”ï¼‰å’Œä¹è§‚é”" class="headerlink" title="æ‚²è§‚é”ï¼ˆè¡Œçº§é”ï¼‰å’Œä¹è§‚é”"></a>æ‚²è§‚é”ï¼ˆè¡Œçº§é”ï¼‰å’Œä¹è§‚é”</h2><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210213222734274.png" alt="image-20210213222734274"></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
      <category>sqlè¯­å¥</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>mysql</tag>
      
      <tag>sqlè¯­è¨€</tag>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JDKåŠ¨æ€ä»£ç†</title>
    <link href="/posts/3755745285.html"/>
    <url>/posts/3755745285.html</url>
    
    <content type="html"><![CDATA[<p> ä¹‹åæˆ‘ä»¬å­¦åˆ°çš„AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„åº•å±‚å°±æ˜¯è¿™ä¸ªå“¦ï¼Œè€Œè¿™ä¸ªçš„åº•å±‚å°±æ˜¯åå°„æœºåˆ¶ï¼Œè‡³å°‘è¦çœ‹ä¸€çœ‹åå°„æœºåˆ¶å†æ¥çœ‹çœ‹è¿™ä¸ªå‘€ï¼</p><span id="more"></span><h1 id="jdkåŠ¨æ€ä»£ç†"><a href="#jdkåŠ¨æ€ä»£ç†" class="headerlink" title="jdkåŠ¨æ€ä»£ç†"></a>jdkåŠ¨æ€ä»£ç†</h1><p>åŠ¨æ€ä»£ç†åŸºäºåå°„æœºåˆ¶</p><p>æŒæ¡ç¨‹åº¦ï¼š</p><ul><li>ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†</li><li>çŸ¥é“åŠ¨æ€ä»£ç†èƒ½ä½œä»€ä¹ˆ</li></ul><p>ä½¿ç”¨ä»£ç†æ¨¡å¼çš„ä½œç”¨ï¼š</p><ul><li>åŠŸèƒ½å¢å¼ºï¼šåœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šï¼Œå¢åŠ äº†é¢å¤–çš„åŠŸèƒ½ã€‚æ–°å¢åŠ çš„åŠŸèƒ½å«åšåŠŸèƒ½å¢å¼º</li><li>æ§åˆ¶è®¿é—®ï¼šä»£ç†ç±»ä¸è®©ä½ è®¿é—®ç›®æ ‡ï¼Œä¾‹å¦‚å•†å®¶ä¸è®©ç”¨æˆ·è®¿é—®å‚å®¶</li></ul><p>å®ç°ä»£ç†çš„æ–¹å¼ï¼š</p><ul><li>é™æ€ä»£ç†ï¼š<ul><li>è‡ªå·±æ‰‹å·¥å®ç°ï¼Œè‡ªå·±åˆ›å»ºä¸€ä¸ªä»£ç†ç±»</li><li>ä»£ç†çš„ç›®æ ‡ç±»ä¹Ÿæ˜¯ç¡®å®šçš„<ul><li>å®ç°ç®€å•ï¼Œå®¹æ˜“ç†è§£ </li></ul></li></ul></li><li>åŠ¨æ€ä»£ç†ï¼šåœ¨ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨jdkçš„åå°„æœºåˆ¶ï¼Œåˆ›å»ºä»£ç†ç±»å¯¹è±¡ï¼Œå¹¶åŠ¨æ€çš„æŒ‡å®šè¦ä»£ç†çš„ç›®æ ‡ç±»<ul><li>é™æ€ä»£ç†ä¸­å½“ç›®æ ‡ç±»å¾ˆå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åŠ¨æ€ä»£ç†<ul><li>å› ä¸ºç›®æ ‡ç±»å³ä½¿å¾ˆå¤šï¼Œä»£ç†ç±»å¯ä»¥å¾ˆå°‘</li><li>å½“ä½ ä¿®æ”¹äº†æ¥å£ä¸­çš„æ–¹æ³•ï¼Œä¸ä¼šå½±å“ä»£ç†ç±»</li></ul></li></ul></li></ul><p>è¯´ç™½ä¸€ç‚¹ï¼ŒåŠ¨æ€ä»£ç†å°±æ˜¯å…·æœ‰åˆ›å»ºå¯¹è±¡çš„èƒ½åŠ›</p><h2 id="jdkåŠ¨æ€ä»£ç†çš„å®ç°"><a href="#jdkåŠ¨æ€ä»£ç†çš„å®ç°" class="headerlink" title="jdkåŠ¨æ€ä»£ç†çš„å®ç°"></a>jdkåŠ¨æ€ä»£ç†çš„å®ç°</h2><ul><li>jdkåŠ¨æ€ä»£ç†ï¼š<ul><li>ä½¿ç”¨javaåå°„åŒ…ä¸­çš„ç±»å’Œæ¥å£å®ç°åŠ¨æ€ä»£ç†åŠŸèƒ½</li><li>åå°„åŒ…java.lang.reflectï¼Œé‡Œé¢æœ‰ä¸‰ä¸ªç±»ï¼š<ul><li>invocationhandler<ul><li><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210322185518876.png" alt="image-20210322185518876"></li></ul></li><li>Method<ul><li><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210322185550552.png" alt="image-20210322185550552"></li></ul></li><li>Proxy<ul><li><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210322185613718.png" alt="image-20210322185613718"></li></ul></li></ul></li></ul></li><li>cglibåŠ¨æ€ä»£ç†ï¼ˆäº†è§£ï¼‰<ul><li>cglibæ˜¯ç¬¬ä¸‰æ–¹çš„å·¥å…·åº“ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ </li><li>cglibåŸç†æ˜¯ç»§æ‰¿ï¼Œé€šè¿‡ç»§æ‰¿ç›®æ ‡ç±»æ¥åˆ›å»ºå®ƒçš„å­ç±»ï¼Œåœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œå®ç°åŠŸèƒ½çš„ä¿®æ”¹</li><li>æ­£å› ä¸ºcglivæ˜¯ç»§æ‰¿ï¼Œæ‰€ä»¥è¦æ±‚ç›®æ ‡ç±»å’Œæ–¹æ³•ä¸æ˜¯finalçš„</li><li>cglibåœ¨å¾ˆå¤šæ¡†æ¶ä¸­ä½¿ç”¨</li></ul></li></ul><p>cglibåœ¨ä»£ç†æ•ˆç‡ä¸Šé«˜äºjdkã€‚</p><p>ä½†æ˜¯ä¸€èˆ¬çš„å¼€å‘ä¸­ä¸é€‚ç”¨cglibï¼Œåªéœ€è¦ç†è§£å³å¯</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">tett1</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><span class="hljs-comment">//        HelloService helloService=new HelloService();</span><br><span class="hljs-comment">//        helloService.sayHello(&quot;jxj&quot;);</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            Class c=Class.forName(<span class="hljs-string">&quot;com.jxj.HelloService&quot;</span>);<br>            Object obj=c.newInstance();<br>            Method m1 =c.getDeclaredMethod(<span class="hljs-string">&quot;sayHello&quot;</span>,String.class);<br>            Object retValue =m1.invoke(obj,<span class="hljs-string">&quot;jxj&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span> (IllegalAccessException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span> (InstantiationException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span> (InvocationTargetException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>Class.fornameåçš„å‚æ•°å¿…é¡»å¸¦åŒ…å</p><p>ä¸Šè¿°æ˜¯åˆ©ç”¨åå°„æœºåˆ¶è°ƒç”¨æ–¹æ³•</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210322190225001.png" alt="image-20210322190225001"></p><p>handler</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><span class="hljs-comment">//å¿…é¡»å®ç°InvocationHandleræ¥å£ï¼Œå®Œæˆä»£ç†ç±»è¦åšçš„åŠŸèƒ½(1.è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œ2.æ‰§è¡ŒåŠŸèƒ½å¢å¼º)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MySellHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InvocationHandler</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Object target=<span class="hljs-keyword">null</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MySellHandler</span><span class="hljs-params">(Object target)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.target = target;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;<br>   <span class="hljs-comment">// float price =factory.sell(amount);</span><br>        Object res =<span class="hljs-keyword">null</span>;<br><br>       res= method.invoke(target,args);<br>       <span class="hljs-keyword">if</span> (res!=<span class="hljs-keyword">null</span>)&#123;<br>           Float price = (Float) res;<br>           price+=<span class="hljs-number">25</span>;<br>           res=price;<br><br><br>       &#125;<br>        System.out.println(<span class="hljs-string">&quot;è¿”ä½ ä¸€ä¸ªä¼˜æƒ å·&quot;</span>);<br><span class="hljs-keyword">return</span> res;<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>mainshop</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<br><span class="hljs-keyword">import</span> java.lang.reflect.Proxy;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainShop</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        UsbSell factory =<span class="hljs-keyword">new</span> factory();<br>        InvocationHandler handler=<span class="hljs-keyword">new</span> MySellHandler(factory);<br>     Object proxy=   Proxy.newProxyInstance(factory.getClass().getClassLoader(),factory.getClass().getInterfaces(),handler);<br>        UsbSell usbSell=(UsbSell)proxy;<br>        <span class="hljs-keyword">float</span> price= usbSell.sell(<span class="hljs-number">1</span>);<br>        System.out.println(price);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210322230835265.png" alt="image-20210322230835265"></p><h2 id="åŠ¨æ€ä»£ç†çš„åŠŸèƒ½"><a href="#åŠ¨æ€ä»£ç†çš„åŠŸèƒ½" class="headerlink" title="åŠ¨æ€ä»£ç†çš„åŠŸèƒ½"></a>åŠ¨æ€ä»£ç†çš„åŠŸèƒ½</h2><p>å¯ä»¥åœ¨ä¸æ”¹ç›®æ ‡æ–¹æ³•åŠŸèƒ½çš„å‰æä¸‹ï¼Œå¯ä»¥åœ¨ä»£ç†ä¸­å¢å¼ºè‡ªå·±çš„ä»£ç ã€‚</p><p>åŠ¨æ€ä»£ç†å¿…é¡»è¦æœ‰è‡ªå·±çš„æ¥å£</p>]]></content>
    
    
    <categories>
      
      <category>JAVA</category>
      
      <category>åŸç”ŸJAVAWEB</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>æ¨¡å¼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JDBC</title>
    <link href="/posts/2414116852.html"/>
    <url>/posts/2414116852.html</url>
    
    <content type="html"><![CDATA[<h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><p>æƒ³ç”¨javaè¿æ¥æ•°æ®åº“å—ï¼Œjdbcå°±æ˜¯åŸç”Ÿçš„è¿æ¥æ•°æ®åº“æŠ€æœ¯å™¢ï¼</p><p>éœ€å…ˆäº†è§£ä¸€ç§æ•°æ®åº“ï¼Œæœ¬ç¬”è®°ä»¥mysqlä¸ºä¾‹å­</p><span id="more"></span><p>JDBC:java database connectivityï¼ˆjavaè¯­è¨€è¿æ¥æ•°æ®åº“ï¼‰</p><p>JDBCçš„æœ¬è´¨ï¼šjdbcæ˜¯sunå…¬å¸æŒ‡å®šçš„ä¸€å¥—æ¥å£ </p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210210160127732.png" alt="image-20210210160127732"></p><h2 id="JDBCå¼€å‘å‰çš„å‡†å¤‡å·¥ä½œ"><a href="#JDBCå¼€å‘å‰çš„å‡†å¤‡å·¥ä½œ" class="headerlink" title="JDBCå¼€å‘å‰çš„å‡†å¤‡å·¥ä½œ"></a>JDBCå¼€å‘å‰çš„å‡†å¤‡å·¥ä½œ</h2><p>å…ˆæœ‰å¯¹åº”çš„jaråŒ…ï¼Œå…ˆä»å®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨jaråŒ…ï¼Œç„¶åå°†å…¶é…ç½®åˆ°ç¯å¢ƒå˜é‡classpathä¸­ã€‚</p><h2 id="JDBCç¼–ç¨‹å…­æ­¥"><a href="#JDBCç¼–ç¨‹å…­æ­¥" class="headerlink" title="JDBCç¼–ç¨‹å…­æ­¥"></a>JDBCç¼–ç¨‹å…­æ­¥</h2><ol><li><p>æ³¨å†Œé©±åŠ¨ï¼ˆå‘Šè¯‰javaç¨‹åºï¼Œå³å°†è¿æ¥çš„æ˜¯å“ªä¸ªæ•°æ®åº“ï¼‰</p></li><li><p>è·å–é“¾æ¥ï¼ˆjvmä¸æ•°æ®åº“è¿›ç¨‹ä¹‹é—´çš„è¿›ç¨‹æ‰“å¼€äº†ï¼Œé‡é‡çº§çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦è®°å¾—å…³é—­ï¼‰</p></li><li><p>è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆä¸“é—¨æ‰§è¡Œsqlè¯­å¥çš„å¯¹è±¡ï¼‰</p></li><li><p>æ‰§è¡Œsqlè¯­å¥ï¼ˆDQL,DMLï¼‰</p></li><li><p>å¤„ç†æŸ¥è¯¢ç»“æœé›†ï¼ˆåªæœ‰å¤„ç†çš„æ˜¯selectè¿™ç§æŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œæ‰æœ‰è¿™ä¸ªç¬¬äº”æ­¥ï¼‰</p></li><li><p>é‡Šæ”¾èµ„æºï¼ˆä½¿ç”¨å®Œèµ„æºè¦è®°å¾—å…³é—­èµ„æºï¼Œjavaå’Œæ•°æ®åº“å±äºè¿›ç¨‹é—´çš„ä¸œè¥¿ï¼Œä½¿ç”¨å®Œè¦å…³é—­ï¼‰</p></li></ol><p>è¿æ¥å®ä¾‹ï¼šï¼ˆå¦‚ä¸‹ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.Driver;<br><span class="hljs-keyword">import</span> java.sql.DriverManager;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.sql.Statement;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test103</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Statement stmt =<span class="hljs-keyword">null</span>;<br>Connection connection =<span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">try</span> &#123;<br>        Driver driver =<span class="hljs-keyword">new</span> com.mysql.jdbc.Driver();<br><br>            DriverManager.registerDriver(driver);<br>            String url=<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/bjpn&quot;</span>;<br>            String user=<span class="hljs-string">&quot;root&quot;</span>;<br>            String password=<span class="hljs-string">&quot;jxj123456&quot;</span>;<br><br>            connection=DriverManager.getConnection(url,user,password);<br>            System.out.println(<span class="hljs-string">&quot;æ•°æ®åº“è¿æ¥æˆåŠŸ&quot;</span>+connection);<br>stmt=connection.createStatement();<span class="hljs-comment">//statementä¸“é—¨æ‰§è¡Œsqlè¯­å¥çš„</span><br>String sql =<span class="hljs-string">&quot;insert into t_student(name) values(&#x27;jxj&#x27;)&quot;</span>;<br><span class="hljs-keyword">int</span> count =stmt.executeUpdate(sql);<span class="hljs-comment">//æ˜¯å½±å“æ•°æ®åº“çš„è®°å½•æ¡æ•°</span><br>System.out.println(count ==<span class="hljs-number">0</span>?<span class="hljs-string">&quot;ä¿å­˜å¤±è´¥&quot;</span>:<span class="hljs-string">&quot;ä¿å­˜æˆåŠŸ&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span>&#123;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(stmt !=<span class="hljs-keyword">null</span>)&#123;<br>stmt.close();<br>&#125;&#125;<br><span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(connection !=<span class="hljs-keyword">null</span>)&#123;<br>connection.close();<br>&#125;&#125;<span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>jdbcä¸­sqlè¯­å¥çš„æœ€åä¸éœ€è¦æœ‰åˆ†å·ï¼› å†™ä¸ŠæŠ¥é”™</p><p>ä¸Šè¿°çš„æ³¨å†Œé©±åŠ¨ä¸å¸¸ç”¨ï¼Œå¸¸ç”¨çš„æ³¨å†Œé©±åŠ¨ä½¿ç”¨åå°„æœºåˆ¶ï¼Œå› ä¸ºè¿™ä¸ªæ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210212234248396.png" alt="image-20210212234248396"></p><h2 id="urlï¼š"><a href="#urlï¼š" class="headerlink" title="urlï¼š"></a>urlï¼š</h2><p>ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆç½‘ç»œä¸­æŸä¸ªèµ„æºçš„ç»å¯¹è·¯å¾„ï¼‰</p><p>urlåŒ…æ‹¬åè®®+ip+ç«¯å£+èµ„æºå</p><h2 id="ä½¿ç”¨èµ„æºç»‘å®šå™¨-åˆ é™¤"><a href="#ä½¿ç”¨èµ„æºç»‘å®šå™¨-åˆ é™¤" class="headerlink" title="ä½¿ç”¨èµ„æºç»‘å®šå™¨(åˆ é™¤)"></a>ä½¿ç”¨èµ„æºç»‘å®šå™¨(åˆ é™¤)</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.Driver;<br><span class="hljs-keyword">import</span> java.sql.DriverManager;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.sql.Statement;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test103</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ResourceBundle bundle =ResourceBundle.getBundle(<span class="hljs-string">&quot;jdbc&quot;</span>);<br>String driver =bundle.getString(<span class="hljs-string">&quot;driver&quot;</span>);<br>String url =bundle.getString(<span class="hljs-string">&quot;url&quot;</span>);<br>String user =bundle.getString(<span class="hljs-string">&quot;user&quot;</span>);<br>String password =bundle.getString(<span class="hljs-string">&quot;password&quot;</span>);<br>Statement stmt =<span class="hljs-keyword">null</span>;<br>Connection connection =<span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">try</span> &#123;<br>Class.forName(driver);<br>       connection=DriverManager.getConnection(url,user,password);<br>            System.out.println(<span class="hljs-string">&quot;æ•°æ®åº“è¿æ¥æˆåŠŸ&quot;</span>+connection);<br>stmt=connection.createStatement();<span class="hljs-comment">//statementä¸“é—¨æ‰§è¡Œsqlè¯­å¥çš„</span><br>String sql =<span class="hljs-string">&quot;delete from t_student where name =&#x27;jxj&#x27; &quot;</span>;<br><span class="hljs-keyword">int</span> count =stmt.executeUpdate(sql);<span class="hljs-comment">//æ˜¯å½±å“æ•°æ®åº“çš„è®°å½•æ¡æ•°ï¼Œexecuteupdateåªèƒ½è¿›è¡Œå¢åˆ æ”¹</span><br>System.out.println(count ==<span class="hljs-number">0</span>?<span class="hljs-string">&quot;åˆ é™¤å¤±è´¥&quot;</span>:<span class="hljs-string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span>&#123;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(stmt !=<span class="hljs-keyword">null</span>)&#123;<br>stmt.close();<br>&#125;&#125;<br><span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(connection !=<span class="hljs-keyword">null</span>)&#123;<br>connection.close();<br>&#125;&#125;<span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>jdbv.properties:</p><figure class="highlight properties"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://127.0.0.1:3306/bjpn</span><br><span class="hljs-attr">user</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">jxj123456</span><br></code></pre></div></td></tr></table></figure><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210213001734130.png" alt="image-20210213001734130"></p><p>sqlè¯­å¥ç»“æœé›†çš„æœ¬è´¨ï¼ˆä¸Šå›¾ï¼‰</p><p>jdbcä¸­æ‰€æœ‰çš„ä¸‹æ ‡éƒ½ä»1å¼€å§‹</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test103</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ResourceBundle bundle =ResourceBundle.getBundle(<span class="hljs-string">&quot;jdbc&quot;</span>);<br>String driver =bundle.getString(<span class="hljs-string">&quot;driver&quot;</span>);<br>String url =bundle.getString(<span class="hljs-string">&quot;url&quot;</span>);<br>String user =bundle.getString(<span class="hljs-string">&quot;user&quot;</span>);<br>String password =bundle.getString(<span class="hljs-string">&quot;password&quot;</span>);<br><br>Statement stmt =<span class="hljs-keyword">null</span>;<br>Connection connection =<span class="hljs-keyword">null</span>;<br>ResultSet rs =<span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">try</span> &#123;<br><br><br>           Class.forName(driver);<br>            <br><br>            connection=DriverManager.getConnection(url,user,password);<br>            System.out.println(<span class="hljs-string">&quot;æ•°æ®åº“è¿æ¥æˆåŠŸ&quot;</span>+connection);<br>stmt=connection.createStatement();<span class="hljs-comment">//statementä¸“é—¨æ‰§è¡Œsqlè¯­å¥çš„</span><br>String sql =<span class="hljs-string">&quot;select * from t_student &quot;</span>;<br>rs =stmt.executeQuery(sql);<span class="hljs-comment">//æ˜¯å½±å“æ•°æ®åº“çš„è®°å½•æ¡æ•°</span><br><span class="hljs-keyword">while</span>(rs.next())&#123;<br>System.out.println(rs.getString(<span class="hljs-string">&quot;no&quot;</span>)+<span class="hljs-string">&quot;,&quot;</span>+rs.getString(<span class="hljs-string">&quot;classno&quot;</span>)+<span class="hljs-string">&quot;,&quot;</span>+rs.getString(<span class="hljs-string">&quot;sex&quot;</span>)+<span class="hljs-string">&quot;,&quot;</span>+rs.getString(<span class="hljs-string">&quot;name&quot;</span>)+<span class="hljs-string">&quot;,&quot;</span>+rs.getString(<span class="hljs-string">&quot;birth&quot;</span>));<br>&#125;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span>&#123;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(rs !=<span class="hljs-keyword">null</span>)&#123;<br>rs.close();<br>&#125;&#125;<br><span class="hljs-keyword">catch</span> (Exception throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(stmt !=<span class="hljs-keyword">null</span>)&#123;<br>stmt.close();<br>&#125;&#125;<br><span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br><span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">if</span>(connection !=<span class="hljs-keyword">null</span>)&#123;<br>connection.close();<br>&#125;&#125;<span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>æŸ¥è¯¢æ•°æ®åº“æ•°æ®</p><p>å¢åˆ æ”¹æ•°æ®æ—¶è¿”å›çš„æ˜¯int</p><p>æŸ¥è¯¢æ—¶è¿”å›çš„æ˜¯ç»“æœé›†</p><p>åˆ©ç”¨getstringçš„æ–¹æ³•æ¥è·å–ï¼Œå‚æ•°å¯ä»¥æ˜¯åˆ—æ•°ä¹Ÿå¯ä»¥æ˜¯å­—æ®µåç§°</p><p>è¿˜å¯ä»¥ä»¥å…¶ä»–ç±»å‹è·å–ï¼Œæ¯”å¦‚ç”¨getintè·å–å¯ä»¥è¿›è¡Œè¿ç®—ã€‚</p><h2 id="IDEA-jdbcç¯å¢ƒçš„å‡†å¤‡"><a href="#IDEA-jdbcç¯å¢ƒçš„å‡†å¤‡" class="headerlink" title="IDEA jdbcç¯å¢ƒçš„å‡†å¤‡"></a>IDEA jdbcç¯å¢ƒçš„å‡†å¤‡</h2><p>å…ˆæœ‰jdbcçš„jaråŒ…ï¼Œç„¶åå³é”®æ¨¡å—ç‚¹open module setting ç„¶åç‚¹åŠ å·æŠŠjaråŒ…å¼•è¿›æ¥å³å¯</p><h3 id="powerdesignerçš„ä¸‹è½½å’Œç ´è§£"><a href="#powerdesignerçš„ä¸‹è½½å’Œç ´è§£" class="headerlink" title="powerdesignerçš„ä¸‹è½½å’Œç ´è§£"></a>powerdesignerçš„ä¸‹è½½å’Œç ´è§£</h3><p>å°†ç ´è§£æ–‡ä»¶æ›¿æ¢å…¥å®‰è£…ç›®å½•å½“ä¸­å³å¯</p><p>ç®€å•çš„ä½¿ç”¨çœ‹ï¼š</p><p><a href="https://www.bilibili.com/video/BV1Bt41137iB?p=16">JDBCä»å…¥é—¨åˆ°ç²¾é€šè§†é¢‘æ•™ç¨‹-JDBCå®æˆ˜ç²¾è®²_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili</a></p><h3 id="è¿æ¥jdbcå»ç™»é™†çš„æ¡ˆä¾‹"><a href="#è¿æ¥jdbcå»ç™»é™†çš„æ¡ˆä¾‹" class="headerlink" title="è¿æ¥jdbcå»ç™»é™†çš„æ¡ˆä¾‹"></a>è¿æ¥jdbcå»ç™»é™†çš„æ¡ˆä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpn.jdbc;<br><span class="hljs-keyword">import</span> com.mysql.cj.protocol.Resultset;<br><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCTest01</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><br>        Map&lt;String,String&gt; userLoginInfo=initUI();<br>        <span class="hljs-keyword">boolean</span> a =login(userLoginInfo);<br>        System.out.println(a?<span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>:<span class="hljs-string">&quot;ç™»å½•å¤±è´¥&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">login</span><span class="hljs-params">(Map&lt;String, String&gt; userLoginInfo)</span> </span>&#123;<br>        Connection conn =<span class="hljs-keyword">null</span>;<br>        Statement stmt =<span class="hljs-keyword">null</span>;<br>        ResultSet rs = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>            conn = DriverManager.getConnection(<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/bjpn&quot;</span>,<span class="hljs-string">&quot;root&quot;</span>,<span class="hljs-string">&quot;jxj123456&quot;</span>);<br>            stmt =conn.createStatement();<br>            String sql=<span class="hljs-string">&quot;select * from t_user where loginName=&#x27;&quot;</span>+userLoginInfo.get(<span class="hljs-string">&quot;loginName&quot;</span>)+<span class="hljs-string">&quot;&#x27;and loginPwd=&#x27;&quot;</span>+userLoginInfo.get(<span class="hljs-string">&quot;loginPwd&quot;</span>)+<span class="hljs-string">&quot;&#x27;&quot;</span>;<br>            rs=  stmt.executeQuery(sql);<br>            <span class="hljs-keyword">if</span> (rs.next())&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;<br>            e.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                rs.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>            <span class="hljs-keyword">try</span> &#123;<br>                stmt.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>            <span class="hljs-keyword">try</span> &#123;<br>                conn.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, String&gt; <span class="hljs-title">initUI</span><span class="hljs-params">()</span> </span>&#123;<br>        Scanner s =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ç”¨æˆ·åï¼š&quot;</span>);<br>        String loginName =s.nextLine();<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç ï¼š&quot;</span>);<br>        String loginPwd =s.nextLine();<br>        Map&lt;String,String&gt; userLoginInfo =<span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        userLoginInfo.put(<span class="hljs-string">&quot;loginName&quot;</span>,loginName);<br>        userLoginInfo.put(<span class="hljs-string">&quot;loginPwd&quot;</span>,loginPwd);<br>        <span class="hljs-keyword">return</span> userLoginInfo;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>ä¸Šè¿°çš„éªŒè¯æ–¹æ³•å¾ˆå®¹æ˜“äº§ç”Ÿsqlæ³¨å…¥</p><p>ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ä¸­åŒ…å«sqlè¯­å¥çš„å…³é”®å­—ï¼Œè¿™äº›å…³é”®å­—å‚ä¸sqlè¯­å¥çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿›è€Œè¾¾åˆ°é»‘è¿›å»çš„ç›®çš„ã€‚</p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210213115833311.png" alt="image-20210213115833311"></p><p>å¦‚ä½•ä¸ä¼šäº§ç”Ÿsqlæ³¨å…¥</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpn.jdbc;<br><br><span class="hljs-keyword">import</span> com.mysql.cj.protocol.Resultset;<br><br><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCTest01</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><br>        Map&lt;String,String&gt; userLoginInfo=initUI();<br>        <span class="hljs-keyword">boolean</span> a =login(userLoginInfo);<br>        System.out.println(a?<span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>:<span class="hljs-string">&quot;ç™»å½•å¤±è´¥&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">login</span><span class="hljs-params">(Map&lt;String, String&gt; userLoginInfo)</span> </span>&#123;<br>        Connection conn =<span class="hljs-keyword">null</span>;<br>        PreparedStatement ps =<span class="hljs-keyword">null</span>;<br>        ResultSet rs = <span class="hljs-keyword">null</span>;<br>        String loginName =userLoginInfo.get(<span class="hljs-string">&quot;loginName&quot;</span>);<br>        String loginPwd=userLoginInfo.get(<span class="hljs-string">&quot;loginPwd&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>            conn = DriverManager.getConnection(<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/bjpn&quot;</span>,<span class="hljs-string">&quot;root&quot;</span>,<span class="hljs-string">&quot;jxj123456&quot;</span>);<br>            String sql=<span class="hljs-string">&quot;select * from t_user where loginName= ? and loginPwd= ?&quot;</span>;<br>            ps=conn.prepareStatement(sql);<br>            ps.setString(<span class="hljs-number">1</span>,loginName);<br>            ps.setString(<span class="hljs-number">2</span>,loginPwd);<br>            rs=  ps.executeQuery();<br>            <span class="hljs-keyword">if</span> (rs.next())&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br><br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;<br>            e.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                rs.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>            <span class="hljs-keyword">try</span> &#123;<br>                ps.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>            <span class="hljs-keyword">try</span> &#123;<br>                conn.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, String&gt; <span class="hljs-title">initUI</span><span class="hljs-params">()</span> </span>&#123;<br>        Scanner s =<span class="hljs-keyword">new</span> Scanner(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ç”¨æˆ·åï¼š&quot;</span>);<br>        String loginName =s.nextLine();<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç ï¼š&quot;</span>);<br>        String loginPwd =s.nextLine();<br>        Map&lt;String,String&gt; userLoginInfo =<span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        userLoginInfo.put(<span class="hljs-string">&quot;loginName&quot;</span>,loginName);<br>        userLoginInfo.put(<span class="hljs-string">&quot;loginPwd&quot;</span>,loginPwd);<br>        <span class="hljs-keyword">return</span> userLoginInfo;<br><br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>åˆ©ç”¨preparestatementé¢„ç¼–è¯‘çš„æ–¹æ³•æ¥é¢„é˜²ã€‚</p><h3 id="preparestatementå’Œstatementçš„å¯¹æ¯”"><a href="#preparestatementå’Œstatementçš„å¯¹æ¯”" class="headerlink" title="preparestatementå’Œstatementçš„å¯¹æ¯”"></a>preparestatementå’Œstatementçš„å¯¹æ¯”</h3><ul><li>åè€…å­˜åœ¨sqlæ³¨å…¥é—®é¢˜ï¼Œå‰è€…å®Œç¾è§£å†³</li><li>åè€…ç¼–è¯‘ä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ï¼Œå‰è€…åªç¼–è¯‘ä¸€æ¬¡ï¼Œæ•ˆç‡é«˜</li><li>å‰è€…ä¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œå®‰å…¨æ£€æŸ¥</li><li>ç»¼ä¸Špreparestatementä½¿ç”¨è¾ƒå¤š</li></ul><p>é‚£ä»€ä¹ˆæ—¶å€™ä½¿ç”¨statementå‘¢ï¼Ÿ</p><ul><li>åœ¨ä¸šåŠ¡æ–¹é¢éœ€è¦è¿›è¡Œsqlè¯­å¥æ‹¼æ¥çš„ã€‚å¿…é¡»ä½¿ç”¨statement</li></ul><h2 id="jdbcçš„äº‹åŠ¡å¤„ç†"><a href="#jdbcçš„äº‹åŠ¡å¤„ç†" class="headerlink" title="jdbcçš„äº‹åŠ¡å¤„ç†"></a>jdbcçš„äº‹åŠ¡å¤„ç†</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpn.jdbc;<br><br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.DriverManager;<br><span class="hljs-keyword">import</span> java.sql.PreparedStatement;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCTest02</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Connection conn=<span class="hljs-keyword">null</span>;<br>        PreparedStatement ps =<span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>            conn = DriverManager.getConnection(<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/bjpn&quot;</span>,<span class="hljs-string">&quot;root&quot;</span>,<span class="hljs-string">&quot;jxj123456&quot;</span>);<br>            conn.setAutoCommit(<span class="hljs-keyword">false</span>);<br>            String sql=<span class="hljs-string">&quot;update t_account set Money =? where Account =?&quot;</span>;<br>            ps =conn.prepareStatement(sql);<br>            ps.setInt(<span class="hljs-number">1</span>,<span class="hljs-number">10000</span>);<br>            ps.setString(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;111&quot;</span>);<br>            <span class="hljs-keyword">int</span> count =ps.executeUpdate();<br>            ps.setInt(<span class="hljs-number">1</span>,<span class="hljs-number">20000</span>);<br>            ps.setString(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;222&quot;</span>);<br>             count +=ps.executeUpdate();<br>             conn.commit();<br>            System.out.println(count ==<span class="hljs-number">2</span>?<span class="hljs-string">&quot;è½¬è´¦æˆåŠŸ&quot;</span>:<span class="hljs-string">&quot;è½¬è´¦å¤±è´¥&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;<br>            <span class="hljs-keyword">if</span> (conn !=<span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                conn.rollback();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                throwables.printStackTrace();<br>            &#125;&#125;<br>        &#125;<span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">if</span> (ps!=<span class="hljs-keyword">null</span>)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    ps.close();<br>                &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                    throwables.printStackTrace();<br>                &#125;<br>            &#125;<span class="hljs-keyword">if</span> (conn!=<span class="hljs-keyword">null</span>)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    conn.close();<br>                &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                    throwables.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;<br><br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>é‡ç‚¹ï¼š</p><ul><li>conn.setAutoCommit(false);</li><li>conn.commit;</li><li>conn.rollback;</li></ul><h2 id="å»ºç«‹utilæ¥ç®€åŒ–ä»£ç "><a href="#å»ºç«‹utilæ¥ç®€åŒ–ä»£ç " class="headerlink" title="å»ºç«‹utilæ¥ç®€åŒ–ä»£ç "></a>å»ºç«‹utilæ¥ç®€åŒ–ä»£ç </h2><p>DBUtilï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpn.jdbc.DBUtil;<br><br><span class="hljs-keyword">import</span> com.mysql.cj.protocol.Resultset;<br><br><span class="hljs-keyword">import</span> java.sql.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DBUtil</span> </span>&#123;<br>    <span class="hljs-comment">//ä¸ºä»€ä¹ˆè¦ç”¨ç§æœ‰çš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ</span><br>    <span class="hljs-comment">//ä¸ºäº†é˜²æ­¢ä½ newå¯¹è±¡ã€‚</span><br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">DBUtil</span><span class="hljs-params">()</span></span>&#123;&#125;;<br>     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title">getConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;<br><br>         Connection conn = DriverManager.getConnection(<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/bjpn&quot;</span>,<span class="hljs-string">&quot;root&quot;</span>,<span class="hljs-string">&quot;jxj123456&quot;</span>);<br>         <span class="hljs-keyword">return</span> conn;<br>     &#125;<br>     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">(Connection conn, Statement ps, ResultSet rs)</span></span>&#123;<br>         <span class="hljs-keyword">if</span> (rs !=<span class="hljs-keyword">null</span>)&#123;<br>             <span class="hljs-keyword">try</span> &#123;<br>                 rs.close();<br>             &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                 throwables.printStackTrace();<br>             &#125;<br>         &#125;<br>         <span class="hljs-keyword">if</span> (ps !=<span class="hljs-keyword">null</span>)&#123;<br>             <span class="hljs-keyword">try</span> &#123;<br>                 ps.close();<br>             &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                 throwables.printStackTrace();<br>             &#125;<br>         &#125;<br>         <span class="hljs-keyword">if</span> (conn !=<span class="hljs-keyword">null</span>)&#123;<br>             <span class="hljs-keyword">try</span> &#123;<br>                 conn.close();<br>             &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>                 throwables.printStackTrace();<br>             &#125;<br>         &#125;<br>     &#125;<br><br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>ä¸»æ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¸”ä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpn.jdbc;<br><br><span class="hljs-keyword">import</span> com.bjpn.jdbc.DBUtil.DBUtil;<br><br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.PreparedStatement;<br><span class="hljs-keyword">import</span> java.sql.ResultSet;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JDBCTest03</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Connection conn=<span class="hljs-keyword">null</span>;<br>        PreparedStatement ps=<span class="hljs-keyword">null</span>;<br>        ResultSet rs=<span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br><br>           conn= DBUtil.getConnection();<br>            String sql=<span class="hljs-string">&quot;select ename from emp where ename like ?&quot;</span>;<br>            ps=conn.prepareStatement(sql);<br>            ps.setString(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;_A%&quot;</span>);<br>            rs=ps.executeQuery();<br>            <span class="hljs-keyword">while</span> (rs.next())&#123;<br>                System.out.println(rs.getString(<span class="hljs-string">&quot;ename&quot;</span>));<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<span class="hljs-keyword">finally</span> &#123;<br>            DBUtil.close(conn,ps,rs);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><h2 id="DAOå°è£…"><a href="#DAOå°è£…" class="headerlink" title="DAOå°è£…"></a>DAOå°è£…</h2><p>DAOæ˜¯database Access Object æ•°æ®åº“è®¿é—®å¯¹è±¡</p><p>ä½œç”¨ï¼šæ•°æ®åº“è®¿é—®å¯¹è±¡åœ¨å¼€å‘æ—¶æä¾›é’ˆå¯¹æŸå¼ è¡¨çš„æ“ä½œç»†èŠ‚</p><p>ä¼˜ç‚¹ï¼šä»£ç ç®€æ´</p><p>DAOç±»ï¼šæä¾›æ•°æ®åº“è®¿é—®å¯¹è±¡çš„ç±»</p><h3 id="DAOç±»å¼€å‘è§„åˆ™"><a href="#DAOç±»å¼€å‘è§„åˆ™" class="headerlink" title="DAOç±»å¼€å‘è§„åˆ™"></a>DAOç±»å¼€å‘è§„åˆ™</h3><ul><li>ä¸€ä¸ªDAOç±»å°è£…çš„æ˜¯ä¸€å¼ è¡¨çš„å¼€å‘ç»†èŠ‚</li><li>DAOç±»å‘½åè§„åˆ™ï¼šè¡¨å+Aao</li><li>DAOç±»æ‰€åœ¨åŒ…å‘½åè§„åˆ™ï¼šå…¬å¸ç½‘ç«™åŸŸåï¼ˆå€’è¿‡æ¥ï¼‰.dao</li></ul>]]></content>
    
    
    <categories>
      
      <category>JAVA</category>
      
      <category>åŸç”ŸJAVAWEB</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JAVA</tag>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>è¿æ¥æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>README</title>
    <link href="/posts/2691471937.html"/>
    <url>/posts/2691471937.html</url>
    
    <content type="html"><![CDATA[<h2 id="åšå®¢è¯´æ˜ï¼š"><a href="#åšå®¢è¯´æ˜ï¼š" class="headerlink" title="åšå®¢è¯´æ˜ï¼š"></a>åšå®¢è¯´æ˜ï¼š</h2><p><strong>ä¹Ÿä¼šåœ¨è¿™é‡Œåˆ†äº«æ¯å¤©å­¦ä¹ å’Œç”Ÿæ´»çš„è¶£äº‹ï¼Œå¿ƒæƒ…ï¼Œæ¯•ç«Ÿç”Ÿæ´»æ‰æ˜¯ä¸»æ—‹å¾‹å˜›ï¼Œæ¯”ä»»ä½•ä¸œè¥¿éƒ½è¦é‡è¦å¾—å¤šã€‚</strong></p><hr><p>å¦‚æœè§‰å¾—æˆ‘åˆ†äº«çš„ä¸œè¥¿å¥½ï¼Œå¯ä»¥é•¿æœŸå…³æ³¨è¿™ä¸ªåšå®¢ï¼Œä¼šæŒç»­æ›´æ–°çš„ï¼ï¼</p><br><p class="note note-success">æ­¤åšå®¢ä¹Ÿä»…ä»…ç”¨ä½œå­¦ä¹ ï¼Œå’Œäº¤æµï¼Œå¦‚æœæœ‰ä»€ä¹ˆå»ºè®®ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€</p> ]]></content>
    
    
    <categories>
      
      <category>å…³äºåšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢è¯´æ˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ’åºç®—æ³•</title>
    <link href="/posts/3084993745.html"/>
    <url>/posts/3084993745.html</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»äº†åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå‡ ä¹å¯ä»¥è§åˆ°çš„æ’åºç®—æ³•ï¼Œå…±åç§ã€‚</p><span id="more"></span><h1 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h1><ul><li>å†…éƒ¨æ’åºï¼šæŒ‡å°†éœ€è¦çš„æ•°æ®åŠ è½½åˆ°å†…å­˜æ¥è¿›è¡Œæ’åº<ul><li>æ’å…¥æ’åº<ul><li>ç›´æ¥æ’å…¥æ’åº</li><li>å¸Œå°”æ’åº</li></ul></li><li>é€‰æ‹©æ’åº<ul><li>ç®€å•é€‰æ‹©æ’åº</li><li>å †æ’åº</li></ul></li><li>äº¤æ¢æ’åº<ul><li>å†’æ³¡æ’åº</li><li>å¿«é€Ÿæ’åº</li></ul></li><li>å½’å¹¶æ’åº</li><li>åŸºæ•°æ’åº</li></ul></li><li>å¤–éƒ¨æ’åºï¼šæ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œä¼šä½¿ç”¨è¿™ä¸ª</li></ul><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>æ—¶é—´é¢‘åº¦ï¼š</p><ul><li>ä¸€ä¸ªç®—æ³•èŠ±è´¹æ—¶é—´ä¸ç®—æ³•ä¸­è¯­å¥çš„æ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ï¼Œé‚£ä¸ªç®—æ³•ä¸­è¯­å¥æ‰§è¡Œæ¬¡æ•°å¤šï¼Œä»–èŠ±è´¹æ—¶é—´å°±å¤šã€‚</li><li>ä¸€ä¸ªç®—æ³•ä¸­æ‰§è¡Œçš„è¯­å¥æ¬¡æ•°ç§°ä¸ºæ—¶é—´é¢‘åº¦<ul><li>å¯ä»¥å¿½ç•¥å¸¸æ•°é¡¹</li><li>å¯ä»¥å¿½ç•¥ç³»æ•°</li><li>å¯ä»¥å¿½ç•¥ä½æ¬¡é¡¹</li></ul></li></ul><p>å¿½ç•¥åçš„ä¸œè¥¿å°±æ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œä¹Ÿå¯ä»¥æƒ³æˆæ—¶é—´å¤æ‚åº¦æ˜¯æ—¶é—´é¢‘åº¦çš„è¶…çº§ç®€ç•¥ç‰ˆ</p><h3 id="å¸¸æ•°é˜¶ï¼š"><a href="#å¸¸æ•°é˜¶ï¼š" class="headerlink" title="å¸¸æ•°é˜¶ï¼š"></a>å¸¸æ•°é˜¶ï¼š</h3><p>æ— è®ºä»£ç æ‰§è¡Œäº†å¤šå°‘è¡Œï¼Œåªè¦æ²¡æœ‰å¾ªç¯ç­‰å¤æ‚ç»“æ„ï¼Œæ•´ä¸ªä»£ç çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯o(1)</p><h3 id="å¯¹æ•°é˜¶ï¼šä»¥2ä¸ºåº•æ•°çš„å¯¹æ•°ä¸ºä¾‹"><a href="#å¯¹æ•°é˜¶ï¼šä»¥2ä¸ºåº•æ•°çš„å¯¹æ•°ä¸ºä¾‹" class="headerlink" title="å¯¹æ•°é˜¶ï¼šä»¥2ä¸ºåº•æ•°çš„å¯¹æ•°ä¸ºä¾‹"></a>å¯¹æ•°é˜¶ï¼šä»¥2ä¸ºåº•æ•°çš„å¯¹æ•°ä¸ºä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(i&lt;n)&#123;<br>i*=<span class="hljs-number">2</span>;&#125;<br></code></pre></div></td></tr></table></figure><p>ä¸Šè¿°çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ä»¥äºŒä¸ºåº•æ•°ï¼Œå¯ä»¥å°è¯•ç€è¿™ä¹ˆç†è§£</p><p>å‡è®¾xæ¬¡ä¹‹åå¾ªç¯æ¨å‡ºäº†ï¼Œ2çš„xæ¬¡æ–¹=nã€‚ä¹Ÿå°±æ˜¯è¯´x=ä»¥äºŒä¸ºåº•æ•°çš„å¯¹æ•°</p><h3 id="çº¿æ€§é˜¶ï¼š"><a href="#çº¿æ€§é˜¶ï¼š" class="headerlink" title="çº¿æ€§é˜¶ï¼š"></a>çº¿æ€§é˜¶ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>j=i;<br>j++&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™æ®µä»£ç ä¼šæ‰§è¡Œnéï¼Œä¼šéšç€nçš„å˜åŒ–è€Œå˜åŒ–</p><h3 id="çº¿æ€§å¯¹æ•°é˜¶"><a href="#çº¿æ€§å¯¹æ•°é˜¶" class="headerlink" title="çº¿æ€§å¯¹æ•°é˜¶"></a>çº¿æ€§å¯¹æ•°é˜¶</h3><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(m=<span class="hljs-number">1</span>;m&lt;n;m++)&#123;<br>i=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(i&lt;n)&#123;<br>i*=<span class="hljs-number">2</span>;<br>&#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡ŒåµŒå¥—äº†ä¸€å±‚ï¼Œä¸€ä¸ªçº¿æ€§å’Œå¯¹æ•°ï¼Œæ‰€ä»¥è¿™å°±æ˜¯çº¿æ€§å¯¹æ•°é˜¶</p><h3 id="å¹³æ–¹é˜¶"><a href="#å¹³æ–¹é˜¶" class="headerlink" title="å¹³æ–¹é˜¶"></a>å¹³æ–¹é˜¶</h3><p>å°±æ˜¯åŒå±‚çš„forå¾ªç¯å°±ä¸æäº†ï¼Œè¿˜æœ‰é«˜æ¬¡æ–¹é˜¶åˆ°æœ€åå…¶å®æ˜¯ä¸€ä¸ªé“ç†ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ä¸œè¥¿</p><h2 id="ç©ºé—´å¤æ‚åº¦ï¼ˆç®€ç•¥ï¼‰"><a href="#ç©ºé—´å¤æ‚åº¦ï¼ˆç®€ç•¥ï¼‰" class="headerlink" title="ç©ºé—´å¤æ‚åº¦ï¼ˆç®€ç•¥ï¼‰"></a>ç©ºé—´å¤æ‚åº¦ï¼ˆç®€ç•¥ï¼‰</h2><ul><li>ç±»ä¼¼äºæ—¶é—´å¤æ‚åº¦çš„è®¨è®ºï¼Œä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦å®šä¹‰ä¸ºè¯¥ç®—æ³•æ‰€è€—è´¹çš„å­˜å‚¨ç©ºé—´ï¼Œä»–ä¹Ÿæ˜¯é—®é¢˜è§„æ¨¡nçš„å‡½æ•°</li><li>ç©ºé—´å¤æ‚åº¦æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„äº®åº¦ï¼Œæœ‰çš„ç®—æ³•å ç”¨çš„ç©ºé—´è§„æ¨¡å’Œnæœ‰å…³</li><li>åœ¨åšç®—æ³•åˆ†æçš„æ—¶å€™ï¼Œä¸»è¦è®¨è®ºçš„è¿˜æ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œä»ç”¨æˆ·ä½“éªŒä¸Šçœ‹ï¼Œæ›´çœ‹é‡çš„æ˜¯ç¨‹åºæ‰§è¡Œçš„é€Ÿåº¦ï¼Œä¸€äº›ç¼“å­˜äº§å“å’Œç®—æ³•æœ¬è´¨å°±æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´</li></ul><h2 id="å†’æ³¡æ’åºï¼ˆbubble-sortingï¼‰"><a href="#å†’æ³¡æ’åºï¼ˆbubble-sortingï¼‰" class="headerlink" title="å†’æ³¡æ’åºï¼ˆbubble sortingï¼‰"></a>å†’æ³¡æ’åºï¼ˆbubble sortingï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj.sort;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BubbleSort</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> arr[]=&#123;<span class="hljs-number">3</span>,<span class="hljs-number">9</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,-<span class="hljs-number">2</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;arr.length-<span class="hljs-number">1</span>; i++)&#123;<br>            <span class="hljs-keyword">boolean</span> flag =<span class="hljs-keyword">false</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;arr.length-<span class="hljs-number">1</span>-i;j++)&#123;<br>                <span class="hljs-keyword">if</span>(arr[j+<span class="hljs-number">1</span>]&lt;arr[j])&#123;<br>                    flag=<span class="hljs-keyword">true</span>;<br>                    swap(arr,j+<span class="hljs-number">1</span>,j);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (flag==<span class="hljs-keyword">false</span>)&#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> a:arr)&#123;<br>            System.out.printf(<span class="hljs-string">&quot;\t%d&quot;</span>,a);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> i1)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> temp;<br>        temp=arr[i];<br>        arr[i]=arr[i1];<br>        arr[i1]=temp;<br>    &#125;<br><br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªæ’åºçš„æœ¬è´¨æ˜¯ä»¥ä¿©ä¿©é‚»ç€çš„å…‘æ¢ï¼Œæ¯ä¸€æ¬¡æŠŠæœ€åçš„é‚£ä¸ªæ•°æ’æˆè‡ªå·±æƒ³è¦çš„é¡ºåºï¼Œä»¥æ­¤æ¥æ’æˆé¡ºåºã€‚</p><p>å½“ç„¶äº†ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼Œå¦‚æœè¿™ä¸ªåºåˆ—åˆšå¼€å§‹å°±æ¯”è¾ƒæ•´é½ï¼Œé‚£ä¹ˆè¿™ä¹ˆå¤šæ¬¡å¾ªç¯ç®€ç›´æ˜¯åœ¨æµªè´¹ï¼Œæ‰€ä»¥å°±å¯ä»¥æå‡ºä¼˜åŒ–è¿™ä¸ªæ¦‚å¿µ</p><p>æ‰€ä»¥ä¸Šè¿°ä»£ç ä¸Šæ‰“äº†ä¸€ä¸ªå¸ƒå°”æ ‡è®°ï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡å°å¾ªç¯ä¸­ï¼Œä¸€æ—¦æ¢äº†ä½ç½®é‚£ä¹ˆå¿…å®šè¯´æ˜ï¼Œflagä¸ºtrueï¼Œä¹Ÿå°±æ˜¯è¯´è¿˜æ²¡æœ‰è§„æ•´å¥½ï¼Œè‹¥ä¸€æ¬¡éƒ½æ²¡æœ‰è¿›å»è¿‡å°±å¯ä»¥ç›´æ¥é€€å‡ºäº†</p><p>å¯ä»¥ç”¨System.currentTimeMillsè¿™ä¸ªæ–¹æ³•æ¥è·å–1970åˆ°ç°åœ¨çš„æ¯«ç§’</p><p>ç„¶åç›¸å‡å¯ä»¥å¾—åˆ°ç¨‹åºè¿è¡Œçš„æ—¶é—´å·® </p><h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj.sort;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ChooseSort</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> arr[]=&#123;<span class="hljs-number">3</span>,<span class="hljs-number">9</span>,-<span class="hljs-number">1000</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,-<span class="hljs-number">2</span>,<span class="hljs-number">23</span>,<span class="hljs-number">45</span>,<span class="hljs-number">3</span>,<span class="hljs-number">53</span>,<span class="hljs-number">25</span>,<span class="hljs-number">24</span>,<span class="hljs-number">512</span>,<span class="hljs-number">5</span>,<span class="hljs-number">45</span>,<span class="hljs-number">1235</span>,<span class="hljs-number">213</span>,<span class="hljs-number">5</span>,<span class="hljs-number">23</span>,<span class="hljs-number">523</span>,<span class="hljs-number">4</span>,<span class="hljs-number">23</span>,<span class="hljs-number">4</span>,<span class="hljs-number">23</span>,<span class="hljs-number">4</span>,<span class="hljs-number">321</span>,<span class="hljs-number">432</span>,<span class="hljs-number">14231</span>,<span class="hljs-number">432</span>,<span class="hljs-number">4</span>,<span class="hljs-number">12</span>,<span class="hljs-number">6534</span>,<span class="hljs-number">764</span>,<span class="hljs-number">856</span>,<span class="hljs-number">23</span>,<span class="hljs-number">12321</span>,<span class="hljs-number">3</span>,<span class="hljs-number">213</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>,<span class="hljs-number">123</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>,<span class="hljs-number">123</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;arr.length-<span class="hljs-number">1</span>;i++)&#123;<br>            <span class="hljs-keyword">int</span> min =arr[i];<br>            <span class="hljs-keyword">int</span> minindex=i;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=i;j&lt;arr.length;j++)&#123;<br>                <span class="hljs-keyword">if</span> (min&gt;arr[j])&#123;<br>                min=arr[j];<br>                minindex=j;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (arr[i]!=min)&#123;<br>                arr[minindex]=arr[i];<br>                arr[i]=min;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i:arr)&#123;<br>            System.out.printf(<span class="hljs-string">&quot;\t%d&quot;</span>,i);<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> i1)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> temp;<br>        temp=arr[i];<br>        arr[i]=arr[i1];<br>        arr[i1]=temp;<br>    &#125;<br><br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>ä»å‰é¢å¼€å§‹æ’åºï¼Œæœ‰å°çš„å°±ç›´æ¥æ¢åˆ°å‰é¢æ¥</p><h2 id="æ’å…¥æ’åºï¼ˆinsertion-sortingï¼‰"><a href="#æ’å…¥æ’åºï¼ˆinsertion-sortingï¼‰" class="headerlink" title="æ’å…¥æ’åºï¼ˆinsertion sortingï¼‰"></a>æ’å…¥æ’åºï¼ˆinsertion sortingï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> sort;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InsertSort</span> </span>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><span class="hljs-keyword">int</span> arr[]= &#123;<span class="hljs-number">2</span>,<span class="hljs-number">65</span>,<span class="hljs-number">6</span>,-<span class="hljs-number">3</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>,<span class="hljs-number">123</span>,<span class="hljs-number">213</span>,<span class="hljs-number">12</span>,<span class="hljs-number">675</span>&#125;;<br>insertSort(arr);<br>System.out.println(Arrays.toString(arr));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insertSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr)</span> </span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; arr.length; i++) &#123;<br><span class="hljs-comment">//è¿™é‡ŒæŠŠè¦æ’è¿›å»çš„å€¼å­˜èµ·æ¥</span><br><span class="hljs-comment">//ç„¶åæ°¸è¿œè·Ÿè‡ªå·±çš„å‰ä¸€ä¸ªè¿›è¡Œæ¯”è¾ƒ</span><br><span class="hljs-keyword">int</span> insertvalue=arr[i];<br><span class="hljs-keyword">int</span> insertindex=i-<span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (insertindex&gt;=<span class="hljs-number">0</span>&amp;&amp;insertvalue&lt;arr[insertindex]) &#123;<br>arr[insertindex+<span class="hljs-number">1</span>]=arr[insertindex];<br>insertindex--;<br>&#125;<br><span class="hljs-keyword">if</span> (insertindex!=i-<span class="hljs-number">1</span>) &#123;<br>arr[++insertindex]=insertvalue;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>æ’åºç®—æ³•çš„çš„æ—¶é—´å¥½äºå†’æ³¡æ’åºï¼ŒåŠ£äºé€‰æ‹©æ’åº</p><h2 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h2><p>äº¤æ¢æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> sort;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-keyword">import</span> java.util.function.IntPredicate;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShellSort</span> </span>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><span class="hljs-comment">// TODO Auto-generated method stub</span><br><span class="hljs-keyword">int</span>[] arr=&#123;<span class="hljs-number">32</span>,<span class="hljs-number">32</span>,<span class="hljs-number">42</span>,<span class="hljs-number">4</span>,<span class="hljs-number">23</span>,<span class="hljs-number">423</span>,<span class="hljs-number">4</span>,<span class="hljs-number">324</span>,<span class="hljs-number">32</span>,<span class="hljs-number">123</span>&#125;;<br>shellSort(arr);<br> &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shellSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr)</span> </span>&#123;<br><span class="hljs-comment">//      int temp=0;</span><br>      <span class="hljs-keyword">int</span> count=<span class="hljs-number">0</span>;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> gap =arr.length/<span class="hljs-number">2</span>; gap&gt;<span class="hljs-number">0</span>; gap/=<span class="hljs-number">2</span>) &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = gap; i &lt; arr.length; i++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i-gap; j &gt;=<span class="hljs-number">0</span>; j-=gap) &#123;<br><span class="hljs-keyword">if</span> (arr[j]&gt;arr[j+gap]) &#123;<br>swap(arr, j, j+gap);<br>&#125;<br>&#125;<br>&#125;<br>System.out.println(<span class="hljs-string">&quot;å¸Œå°”æ’åº:&quot;</span>+(++count)+<span class="hljs-string">&quot;è½®&quot;</span>+Arrays.toString(arr));<br>&#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> []arr,<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> temp=arr[i];<br>    arr[i]=arr[j];<br>    arr[j]=temp;<br>&#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>ç§»ä½æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> sort;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-keyword">import</span> java.util.function.IntPredicate;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShellSort</span> </span>&#123;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><span class="hljs-comment">// TODO Auto-generated method stub</span><br><span class="hljs-keyword">int</span>[] arr=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">80000</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">80000</span>; i++) &#123;<br>arr[i]=(<span class="hljs-keyword">int</span>)( Math.random()*<span class="hljs-number">800000</span>);<br>&#125;<br><span class="hljs-keyword">long</span> begin=System.currentTimeMillis();<br>shellSort(arr);<br><span class="hljs-keyword">long</span> end=System.currentTimeMillis(); <br>System.out.println(<span class="hljs-string">&quot;èŠ±è´¹äº†ï¼š&quot;</span>+(end-begin));<br>&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shellSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr)</span> </span>&#123;<br><span class="hljs-comment">//      int temp=0;</span><br>      <span class="hljs-keyword">int</span> count=<span class="hljs-number">0</span>;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> gap =arr.length/<span class="hljs-number">2</span>; gap&gt;<span class="hljs-number">0</span>; gap/=<span class="hljs-number">2</span>) &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = gap; i &lt; arr.length; i++) &#123;<br><span class="hljs-keyword">int</span> value =arr[i];<br><span class="hljs-keyword">int</span> index=i;<br><span class="hljs-keyword">while</span> (index-gap&gt;=<span class="hljs-number">0</span>&amp;&amp;arr[index-gap]&gt;value) &#123;<br>arr[index]=arr[index-gap];<br>index -=gap;<br>&#125;<br>arr[index]=value;<br>&#125;<br><span class="hljs-comment">//System.out.println(&quot;å¸Œå°”æ’åº:&quot;+(++count)+&quot;è½®&quot;+Arrays.toString(arr));</span><br>&#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> []arr,<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> temp=arr[i];<br>    arr[i]=arr[j];<br>    arr[j]=temp;<br><br>&#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå’Œäº¤æ¢æ³•æœ€å¤§çš„ä¸åŒå°±æ˜¯åªè¦å°å°±æ¢ä½ç½®ï¼Œä¸ç®¡æ˜¯å¦æ˜¯æ­£ç¡®ä½ç½®ï¼Œç§»ä½æ³•åˆ©ç”¨ç€ä¸€ä¸ªè¾…åŠ©æŒ‡é’ˆæ¥ç²¾ç¡®æ‰¾åˆ°ä½ç½®æ’è¿›å»ï¼Œç¬¬äºŒç§è¿™ä¸ªå¸Œå°”æ’åºï¼Œå¿«åˆ°ç¦»è°±ã€‚</p><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> sort;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuickSort</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span>[] arr=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">800000</span>];<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">800000</span>; i++) &#123;<br>            arr[i]=(<span class="hljs-keyword">int</span>)( Math.random()*<span class="hljs-number">800000</span>);<br>        &#125;<br>        <span class="hljs-keyword">long</span> begin=System.currentTimeMillis();<br>        quickSort(arr, <span class="hljs-number">0</span>, arr.length-<span class="hljs-number">1</span>);<br><br>        <span class="hljs-keyword">long</span> end=System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;èŠ±è´¹äº†ï¼š&quot;</span>+(end-begin));<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> high)</span> </span>&#123;<br>        <span class="hljs-comment">// low,high ä¸ºæ¯æ¬¡å¤„ç†æ•°ç»„æ—¶çš„é¦–ã€å°¾å…ƒç´ ç´¢å¼•</span><br><br>        <span class="hljs-comment">// å½“low==highæ˜¯è¡¨ç¤ºè¯¥åºåˆ—åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä¸å¿…æ’åºäº†</span><br>        <span class="hljs-keyword">if</span> (low &gt;= high) &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-comment">// é€‰å‡ºå“¨å…µå…ƒç´ å’ŒåŸºå‡†å…ƒç´ ã€‚è¿™é‡Œå·¦è¾¹çš„å“¨å…µå…ƒç´ ä¹Ÿæ˜¯åŸºå‡†å…ƒç´ </span><br>        <span class="hljs-keyword">int</span> i = low, j = high, base = arr[low];<br>        <span class="hljs-keyword">while</span> (i &lt; j) &#123;<br>            <span class="hljs-comment">// å³è¾¹å“¨å…µä»åå‘å‰æ‰¾</span><br>            <span class="hljs-keyword">while</span> (arr[j] &gt;= base &amp;&amp; i &lt; j) &#123;<br>                j--;<br>            &#125;<br>            <span class="hljs-comment">// å·¦è¾¹å“¨å…µä»å‰å‘åæ‰¾</span><br>            <span class="hljs-keyword">while</span> (arr[i] &lt;= base &amp;&amp; i &lt; j) &#123;<br>                i++;<br>            &#125;<br>            swap(arr, i, j); <span class="hljs-comment">// äº¤æ¢å…ƒç´ </span><br>        &#125;<br>        swap(arr, low, j); <span class="hljs-comment">// åŸºå‡†å…ƒç´ ä¸å³å“¨å…µäº¤æ¢</span><br><br>        <span class="hljs-comment">// é€’å½’è°ƒç”¨ï¼Œæ’åºå·¦å­é›†åˆå’Œå³å­é›†åˆ</span><br>        quickSort(arr, low, j - <span class="hljs-number">1</span>);<br>        quickSort(arr, j + <span class="hljs-number">1</span>, high);<br><br>    &#125;<br><br><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[],<span class="hljs-keyword">int</span> i,<span class="hljs-keyword">int</span> j)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> temp=arr[i];<br>        arr[i]=arr[j];<br>        arr[j]=temp;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªæ—¶é—´æ˜¯éå¸¸å¿«çš„</p><p>ä¸ºä»€ä¹ˆå“¨å…µå…ƒç´ å’ŒåŸºå‡†å…ƒç´ äº¤æ¢çš„æ—¶å€™æ˜¯è‚¯å®šç¬¦åˆé¡ºåºçš„ï¼Ÿ</p><p>å› ä¸ºæ˜¯å³è¾¹çš„å…ƒç´ å…ˆç§»åŠ¨</p><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj.sort;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Array;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MergeSort</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> []arr=&#123;<span class="hljs-number">8</span>,<span class="hljs-number">123</span>,<span class="hljs-number">21</span>,<span class="hljs-number">321</span>,<span class="hljs-number">3</span>,<span class="hljs-number">213</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>&#125;;<br>        <span class="hljs-keyword">int</span> []temp=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[arr.length];<br>        mergeSort(<span class="hljs-number">0</span>,arr.length-<span class="hljs-number">1</span>,temp,arr);<br>        System.out.println(Arrays.toString(arr));<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">mergeSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> left,<span class="hljs-keyword">int</span> right,<span class="hljs-keyword">int</span>[] temp,<span class="hljs-keyword">int</span>[] arr)</span></span>&#123;<br>        <span class="hljs-keyword">if</span> (left&lt;right)&#123;<br>            <span class="hljs-keyword">int</span> mid =(left+right)/<span class="hljs-number">2</span>;<br>            mergeSort(left,mid,temp,arr);<br>            mergeSort(mid+<span class="hljs-number">1</span>,right,temp,arr);<br>            merge(arr,left,mid,right,temp);<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> []arr,<span class="hljs-keyword">int</span> left,<span class="hljs-keyword">int</span> mid,<span class="hljs-keyword">int</span> right,<span class="hljs-keyword">int</span> []temp)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> i=left;<br>        <span class="hljs-keyword">int</span> j=mid+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>;<span class="hljs-comment">//æŒ‡å‘tempæ•°ç»„çš„å½“å‰ç´¢å¼•</span><br>        <span class="hljs-keyword">while</span> (i&lt;=mid&amp;&amp;j&lt;=right)&#123;<br>            <span class="hljs-keyword">if</span> (arr[i]&lt;=arr[j])&#123;<br>                temp[t]=arr[i];<br>                t++;<br>                i++;<br>            &#125;<span class="hljs-keyword">else</span> &#123;<br>                temp[t]=arr[j];<br>                t++;<br>                j++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (i&lt;=mid)&#123;<br>            temp[t]=arr[i];<br>            i++;<br>            t++;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (j&lt;=right)&#123;<br>            temp[t]=arr[j];<br>            t++;<br>            j++;<br>        &#125;<br>        t=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> tempLeft=left;<br>        <span class="hljs-keyword">while</span> (tempLeft&lt;=right)&#123;<br>            arr[tempLeft]=temp[t];<br>            t++;<br>            tempLeft++;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å½’å¹¶æ’åºï¼Œå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ†æ²»ï¼Œå…ˆæŠŠè¿™ä¸ªåºåˆ—æ‹†å¼€ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹æ’ç„¶åæœ€ååˆä¸Š</p><p>è¿™é‡Œçš„é€Ÿåº¦æ¥è¯´çš„è¯å’Œå¿«é€Ÿæ’åºæ˜¯ä¸ç›¸ä¸Šä¸‹çš„</p><h2 id="åŸºæ•°æ’åºï¼ˆæ¡¶æ’åºï¼‰"><a href="#åŸºæ•°æ’åºï¼ˆæ¡¶æ’åºï¼‰" class="headerlink" title="åŸºæ•°æ’åºï¼ˆæ¡¶æ’åºï¼‰"></a>åŸºæ•°æ’åºï¼ˆæ¡¶æ’åºï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.jxj.sort;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RadixSort</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span>[] arr=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">800000</span>];<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">800000</span>; i++) &#123;<br>            arr[i]=(<span class="hljs-keyword">int</span>)( Math.random()*<span class="hljs-number">800000</span>);<br>        &#125;<br>        <span class="hljs-keyword">long</span> begin=System.currentTimeMillis();<br>        radixSort(arr);<br><br>        <span class="hljs-keyword">long</span> end=System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;èŠ±è´¹äº†ï¼š&quot;</span>+(end-begin));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">radixSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> []arr)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> max=arr[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;arr.length;i++)&#123;<br>            <span class="hljs-keyword">if</span> (arr[i]&gt;max)&#123;<br>                max=arr[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> maxLength=(max+<span class="hljs-string">&quot;&quot;</span>).length();<br>        <span class="hljs-keyword">int</span>[] bucketElementCounts=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">10</span>];<br>        <span class="hljs-keyword">int</span>[][] bucket=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">10</span>][arr.length];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>,n=<span class="hljs-number">1</span>;i&lt;maxLength;i++,n*=<span class="hljs-number">10</span>)&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;arr.length;j++)&#123;<br>                <span class="hljs-keyword">int</span> digitOfElement=arr[j]/n%<span class="hljs-number">10</span>;<br>                bucket[digitOfElement][bucketElementCounts[digitOfElement]++]=arr[j];<br>            &#125;<br>            <span class="hljs-keyword">int</span> index=<span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>;k&lt;<span class="hljs-number">10</span>;k++)&#123;<br>                <span class="hljs-keyword">if</span> (bucketElementCounts[k]!=<span class="hljs-number">0</span>)&#123;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;bucketElementCounts[k];j++)<br>                    arr[index++]=bucket[k][j];<br>                &#125;<br>                bucketElementCounts[k]=<span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure><p>ç›¸å½“çš„å¿«ï¼Œè¦æƒ³çŸ¥é“è¿™ä¸ªæœ‰å‡ ä½æ•°ï¼Œ+â€â€.lengthå³å¯ </p><p><img src="http://jin-xuanjie.gitee.io/note-pad/image-20210419185958600.png" alt="image-20210419185958600"></p><h2 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h2><p>å †æ’åºæ˜¯åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ¥è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œå †æ’åºæ˜¯ä¸€ç§é€‰æ‹©æ’åºã€‚ </p><p>å †æ˜¯å…·æœ‰å¦‚ä¸‹æ€§è´¨çš„å®Œå…¨äºŒå‰æ ‘ï¼š</p><ul><li>æ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½ç­‰äºæˆ–å¤§äºå·¦å³å­èŠ‚ç‚¹å°±å«åšå¤§é¡¶å †</li><li>åä¹‹å°±å«åšå°é¡¶å †</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¡ç®—æœºæŠ€æœ¯</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
